{"version":3,"sources":["webpack:///src/app/firebase/crud/user/details/firebase-user-details.page.html","webpack:///src/app/firebase/crud/user/update/firebase-update-user.modal.ts","webpack:///src/app/firebase/crud/user/update/firebase-update-user.modal.html","webpack:///src/app/firebase/crud/user/firebase-user-details.module.ts","webpack:///src/app/firebase/crud/user/details/firebase-user-details.page.ts","webpack:///src/app/firebase/crud/user/firebase-user-details.resolver.ts","webpack:///src/app/validators/checkbox-checked.validator.ts"],"names":["FirebaseUpdateUserModal","modalController","alertController","firebaseCrudService","router","ngZone","skills","selectedAvatar","user","avatar","updateUserForm","name","required","lastname","email","compose","pattern","phone","birthdate","format","minSelectedCheckboxes","spanish","languages","english","french","getSkills","subscribe","map","skill","userSkillsIds","skillId","control","includes","id","controls","push","value","dismiss","create","header","message","buttons","text","role","handler","deleteUser","then","dismissModal","run","navigate","err","console","log","alert","present","unix","selectedSkills","index","age","updateUser","userData","getTop","component","swipeToClose","presentingElement","modal","onDidDismiss","data","link","get","routes","path","resolve","FirebaseUserDetailsPageModule","FirebaseUserDetailsPage","route","routerOutlet","resolvedRouteData","resolvedDataStores","combinedDataStore","relatedUsersDataStore","relatedUsers","state","componentProps","nativeEl","isShell","FirebaseUserDetailsResolver","userId","paramMap","combinedUserDataSource","getCombinedUserDataSource","combinedUserDataStore","getCombinedUserStore","relatedUsersDataSource","getRelatedUsersDataSource","getRelatedUsersStore","CheckboxCheckedValidator","min","validator","formArray","totalSelected","reduce","prev","next"],"mappings":"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","file":"user-firebase-user-details-module-ngfactory-es5.js","sourcesContent":["<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-back-button defaultHref=\"firebase/crud/listing\"></ion-back-button>\n    </ion-buttons>\n    <ion-title>User Details</ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"openFirebaseUpdateModal()\">\n        Edit\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"user-content\">\n  <ion-row class=\"user-info-row\">\n    <ion-col class=\"user-image-col\" size=\"5\">\n      <app-aspect-ratio [ratio]=\"{w: 1, h: 1}\">\n        <app-image-shell [display]=\"'cover'\" class=\"user-image\" animation=\"spinner\" [src]=\"user.avatar\" [alt]=\"'item image'\">\n        </app-image-shell>\n      </app-aspect-ratio>\n    </ion-col>\n    <ion-col class=\"user-details-col\" size=\"12\">\n      <h2 class=\"user-name\">\n        <app-text-shell animation=\"bouncing\" [data]=\"user.name?.concat(' ').concat(user.lastname)\"></app-text-shell>\n      </h2>\n      <span class=\"user-age\">\n        <app-text-shell animation=\"bouncing\" [data]=\"user.age?.toString().concat(' years young')\"></app-text-shell>\n      </span>\n    </ion-col>\n    <ion-col class=\"actions-col\" size=\"12\">\n      <ion-row>\n        <ion-col size=\"3\">\n          <ion-button class=\"action-btn\" color=\"secondary\">\n            <ion-icon class=\"btn-icon\" slot=\"icon-only\" name=\"mail\"></ion-icon>\n          </ion-button>\n        </ion-col>\n        <ion-col size=\"3\">\n          <ion-button class=\"action-btn\" color=\"secondary\">\n            <ion-icon class=\"btn-icon\" slot=\"icon-only\" name=\"call\"></ion-icon>\n          </ion-button>\n        </ion-col>\n        <ion-col size=\"3\">\n          <ion-button class=\"action-btn\" color=\"secondary\">\n            <ion-icon class=\"btn-icon\" slot=\"icon-only\" name=\"videocam\"></ion-icon>\n          </ion-button>\n        </ion-col>\n        <ion-col size=\"3\">\n          <ion-button class=\"action-btn\" color=\"secondary\">\n            <ion-icon class=\"btn-icon\" slot=\"icon-only\" name=\"text\"></ion-icon>\n          </ion-button>\n        </ion-col>\n      </ion-row>\n    </ion-col>\n  </ion-row>\n\n  <section class=\"content-section user-languages-wrapper\">\n    <h5 class=\"section-header\">Languages</h5>\n    <ion-row class=\"language-item-row\">\n      <ion-col class=\"language-item\">\n        <span class=\"language-name\">English</span>\n        <ion-progress-bar class=\"language-score\" type=\"determinate\" [value]=\"(user.languages?.english / 10)\"></ion-progress-bar>\n      </ion-col>\n    </ion-row>\n    <ion-row class=\"language-item-row\">\n      <ion-col class=\"language-item\">\n        <span class=\"language-name\">Spanish</span>\n        <ion-progress-bar class=\"language-score\" type=\"determinate\" [value]=\"(user.languages?.spanish / 10)\"></ion-progress-bar>\n      </ion-col>\n    </ion-row>\n    <ion-row class=\"language-item-row\">\n      <ion-col class=\"language-item\">\n        <span class=\"language-name\">French</span>\n        <ion-progress-bar class=\"language-score\" type=\"determinate\" [value]=\"(user.languages?.french / 10)\"></ion-progress-bar>\n      </ion-col>\n    </ion-row>\n  </section>\n\n  <section class=\"content-section user-experience-wrapper\">\n    <h5 class=\"section-header\">Skills</h5>\n    <ion-list class=\"experience-list\" lines=\"none\">\n      <ion-item class=\"experience-item\" *ngFor=\"let skill of user.skills\">\n        <label class=\"experience-label\">\n          <app-text-shell animation=\"bouncing\" [data]=\"skill?.name\"></app-text-shell>\n        </label>\n        <ion-icon class=\"experience-list-icon\" slot=\"start\" name=\"checkmark\" color=\"secondary\"></ion-icon>\n      </ion-item>\n    </ion-list>\n  </section>\n\n  <section class=\"content-section related-users-wrapper\" *ngIf=\"relatedUsers.length > 0\">\n    <h5 class=\"section-header\">Users with similar skills</h5>\n    <ion-row class=\"related-users-row\">\n      <ion-col class=\"related-user-item\" size=\"2\" *ngFor=\"let user of relatedUsers\">\n        <app-aspect-ratio [ratio]=\"{w: 1, h: 1}\">\n          <app-image-shell [display]=\"'cover'\" class=\"related-user-picture\" [src]=\"user.avatar\" [routerLink]=\"['/firebase/crud/details', user.id]\"></app-image-shell>\n        </app-aspect-ratio>\n        <span class=\"related-user-name\">\n          <app-text-shell [data]=\"user.name\"></app-text-shell>\n        </span>\n      </ion-col>\n    </ion-row>\n  </section>\n</ion-content>\n","import { Component, OnInit, Input, NgZone } from '@angular/core';\nimport { ModalController, AlertController } from '@ionic/angular';\nimport { Validators, FormGroup, FormControl, FormArray } from '@angular/forms';\nimport { Router } from '@angular/router';\n\nimport * as dayjs from 'dayjs';\n\nimport { CheckboxCheckedValidator } from '../../../../validators/checkbox-checked.validator';\n\nimport { FirebaseUserModel } from '../firebase-user.model';\nimport { SelectUserImageModal } from '../select-image/select-user-image.modal';\nimport { FirebaseCrudService } from '../../firebase-crud.service';\n\n@Component({\n  selector: 'app-firebase-update-user',\n  templateUrl: './firebase-update-user.modal.html',\n  styleUrls: [\n    './styles/firebase-update-user.modal.scss',\n    './styles/firebase-update-user.shell.scss'\n  ],\n})\nexport class FirebaseUpdateUserModal implements OnInit {\n  // \"user\" is passed in firebase-details.page\n  @Input() user: FirebaseUserModel;\n\n  updateUserForm: FormGroup;\n  selectedAvatar: string;\n  skills = [];\n\n  constructor(\n    private modalController: ModalController,\n    public alertController: AlertController,\n    public firebaseCrudService: FirebaseCrudService,\n    public router: Router,\n    private ngZone: NgZone\n  ) { }\n\n  ngOnInit() {\n    this.selectedAvatar = this.user.avatar;\n\n    this.updateUserForm = new FormGroup({\n      name: new FormControl(this.user.name, Validators.required),\n      lastname: new FormControl(this.user.lastname, Validators.required),\n      email: new FormControl(this.user.email, Validators.compose([\n        Validators.required,\n        Validators.pattern('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$')\n      ])),\n      phone: new FormControl(this.user.phone, Validators.required),\n      birthdate: new FormControl(dayjs.unix(this.user.birthdate).format('DD/MMMM/YYYY'), Validators.required),\n      skills: new FormArray([], CheckboxCheckedValidator.minSelectedCheckboxes(1)),\n      spanish: new FormControl(this.user.languages.spanish),\n      english: new FormControl(this.user.languages.english),\n      french: new FormControl(this.user.languages.french)\n    });\n\n    this.firebaseCrudService.getSkills().subscribe(skills => {\n      this.skills = skills;\n      // create skill checkboxes\n      this.skills.map((skill) => {\n        let userSkillsIds = [];\n        if (this.user.skills) {\n          userSkillsIds = this.user.skills.map(function(skillId) {\n            return skillId['id'];\n          });\n        }\n        // set the control value to 'true' if the user already has this skill\n        const control = new FormControl(userSkillsIds.includes(skill.id));\n        (this.updateUserForm.controls.skills as FormArray).push(control);\n      });\n    });\n  }\n\n  get skillsFormArray() { return <FormArray>this.updateUserForm.get('skills'); }\n\n  changeLangValue(value): string {\n    switch (true) {\n      case (value <= 3 ):\n        return 'Novice';\n      case (value > 3 && value <= 6 ):\n        return 'Competent';\n      case (value > 6 ):\n        return 'Expert';\n    }\n  }\n\n  dismissModal() {\n   this.modalController.dismiss();\n  }\n\n  async deleteUser() {\n    const alert = await this.alertController.create({\n      header: 'Confirm',\n      message: 'Do you want to delete ' + this.user.name + '?',\n      buttons: [\n        {\n          text: 'No',\n          role: 'cancel',\n          handler: () => {}\n        },\n        {\n          text: 'Yes',\n          handler: () => {\n            this.firebaseCrudService.deleteUser(this.user.id)\n            .then(\n              () => {\n                this.dismissModal();\n                this.ngZone.run(() => this.router.navigate(['firebase/crud/listing'])).then();\n              },\n              err => console.log(err)\n            );\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n  updateUser() {\n    this.user.avatar = this.selectedAvatar;\n    this.user.name = this.updateUserForm.value.name;\n    this.user.lastname = this.updateUserForm.value.lastname;\n    this.user.birthdate = dayjs(this.updateUserForm.value.birthdate).unix(); // save it in timestamp\n    this.user.phone = this.updateUserForm.value.phone;\n    this.user.email = this.updateUserForm.value.email;\n    this.user.languages.spanish = this.updateUserForm.value.spanish;\n    this.user.languages.english = this.updateUserForm.value.english;\n    this.user.languages.french = this.updateUserForm.value.french;\n\n    // get the ids of the selected skills\n    const selectedSkills = [];\n\n    this.updateUserForm.value.skills\n    .map((value: any, index: number) => {\n      if (value) {\n        selectedSkills.push(this.skills[index].id);\n      }\n    });\n    this.user.skills = selectedSkills;\n\n    const {age, ...userData} = this.user; // we don't want to save the age in the DB because is something that changes over time\n\n    this.firebaseCrudService.updateUser(userData)\n    .then(\n      () => this.modalController.dismiss(),\n      err => console.log(err)\n    );\n  }\n\n  async changeUserImage() {\n    const modal = await this.modalController.create({\n      component: SelectUserImageModal,\n      swipeToClose: true,\n      presentingElement: await this.modalController.getTop()\n    });\n\n    modal.onDidDismiss().then(avatar => {\n      if (avatar.data != null) {\n        this.selectedAvatar = avatar.data.link;\n      }\n    });\n    await modal.present();\n  }\n}\n","<!-- This is the proper way if you have submit button outside your ion-content form (typically in the ion-header or ion-footer) -->\n<!-- (ref: https://github.com/ionic-team/ionic/issues/16661) -->\n<form class=\"update-user-form ion-page\" [formGroup]=\"updateUserForm\" (ngSubmit)=\"updateUser()\">\n  <ion-header>\n    <ion-toolbar color=\"primary\">\n      <ion-buttons slot=\"end\">\n        <ion-button (click)=\"dismissModal()\">\n          <ion-icon slot=\"icon-only\" name=\"close\"></ion-icon>\n        </ion-button>\n      </ion-buttons>\n      <ion-title>Update User</ion-title>\n    </ion-toolbar>\n  </ion-header>\n\n  <ion-content class=\"update-user-content\">\n    <ion-row class=\"select-user-image-row\">\n      <ion-col class=\"user-image-col\" size=\"5\">\n        <app-aspect-ratio [ratio]=\"{w: 1, h: 1}\">\n          <app-image-shell [display]=\"'cover'\" class=\"user-image\" animation=\"spinner\" [src]=\"selectedAvatar\" [alt]=\"'user image'\"></app-image-shell>\n        </app-aspect-ratio>\n        <ion-button class=\"change-image-btn\" color=\"secondary\" (click)=\"changeUserImage()\">\n          <ion-icon class=\"btn-icon\" slot=\"icon-only\" name=\"camera\"></ion-icon>\n        </ion-button>\n      </ion-col>\n    </ion-row>\n\n    <section class=\"user-details-fields fields-section\">\n      <ion-list class=\"inputs-list\" lines=\"full\">\n        <ion-item class=\"input-item\">\n          <ion-label color=\"secondary\" position=\"floating\">Name</ion-label>\n          <ion-input type=\"text\" formControlName=\"name\" required></ion-input>\n        </ion-item>\n        <ion-item class=\"input-item\">\n          <ion-label color=\"secondary\" position=\"floating\">Last name</ion-label>\n          <ion-input type=\"text\" formControlName=\"lastname\" required></ion-input>\n        </ion-item>\n        <ion-item class=\"input-item\">\n          <ion-label color=\"secondary\" position=\"floating\">Date of Birth</ion-label>\n          <ion-datetime display-format=\"DD/MM/YYYY\" picker-format=\"DD MMMM YYYY\" formControlName=\"birthdate\" required></ion-datetime>\n        </ion-item>\n        <ion-item class=\"input-item\">\n          <ion-label color=\"secondary\" position=\"floating\">Phone number</ion-label>\n          <ion-input type=\"tel\" formControlName=\"phone\" required></ion-input>\n        </ion-item>\n        <ion-item class=\"input-item\">\n          <ion-label color=\"secondary\" position=\"floating\">Email</ion-label>\n          <ion-input type=\"email\" formControlName=\"email\" required></ion-input>\n        </ion-item>\n      </ion-list>\n    </section>\n\n    <section class=\"user-experience-fields fields-section\">\n      <h5 class=\"section-header\">Experience in</h5>\n      <ion-row class=\"checkbox-tags rounded-checkbox-tags\">\n        <ion-item formArrayName=\"skills\" lines=\"none\" class=\"checkbox-tag rounded-tag\" *ngFor=\"let skill of skillsFormArray.controls; let i = index;\">\n          <ion-label class=\"tag-label\">{{skills[i].name}}</ion-label>\n          <ion-checkbox [formControlName]=\"i\"></ion-checkbox>\n        </ion-item>\n      </ion-row>\n    </section>\n\n    <section class=\"user-languages-fields fields-section\">\n      <h5 class=\"section-header\">Languages</h5>\n      <ion-row class=\"range-item-row\">\n        <ion-col size=\"12\">\n          <div class=\"range-header\">\n            <span class=\"range-label\">English</span>\n            <span class=\"range-value\">{{ changeLangValue(updateUserForm.controls.english.value) }}</span>\n          </div>\n        </ion-col>\n        <ion-col size=\"12\">\n          <ion-range class=\"range-control\" formControlName=\"english\" color=\"secondary\" min=\"1\" max=\"10\" step=\"1\"></ion-range>\n        </ion-col>\n      </ion-row>\n      <ion-row class=\"range-item-row\">\n        <ion-col size=\"12\">\n          <div class=\"range-header\">\n            <span class=\"range-label\">Spanish</span>\n            <span class=\"range-value\">{{ changeLangValue(updateUserForm.controls.spanish.value) }}</span>\n          </div>\n        </ion-col>\n        <ion-col size=\"12\">\n          <ion-range class=\"range-control\" formControlName=\"spanish\" color=\"secondary\" min=\"1\" max=\"10\" step=\"1\"></ion-range>\n        </ion-col>\n      </ion-row>\n      <ion-row class=\"range-item-row\">\n        <ion-col size=\"12\">\n          <div class=\"range-header\">\n            <span class=\"range-label\">French</span>\n            <span class=\"range-value\">{{ changeLangValue(updateUserForm.controls.french.value) }}</span>\n          </div>\n        </ion-col>\n        <ion-col size=\"12\">\n          <ion-range class=\"range-control\" formControlName=\"french\" color=\"secondary\" min=\"1\" max=\"10\" step=\"1\"></ion-range>\n        </ion-col>\n      </ion-row>\n    </section>\n  </ion-content>\n\n  <ion-footer>\n    <ion-row class=\"form-actions-wrapper\">\n      <ion-col>\n        <ion-button class=\"delete-btn\" expand=\"block\" color=\"primary\" fill=\"outline\" (click)=\"deleteUser()\">DELETE</ion-button>\n      </ion-col>\n      <ion-col>\n        <ion-button class=\"submit-btn\" expand=\"block\" color=\"secondary\" type=\"submit\" fill=\"solid\" [disabled]=\"!updateUserForm.valid\">UPDATE</ion-button>\n      </ion-col>\n    </ion-row>\n  </ion-footer>\n</form>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { ComponentsModule } from '../../../components/components.module';\nimport { FirebaseUserDetailsPage } from './details/firebase-user-details.page';\nimport { FirebaseUserDetailsResolver } from './firebase-user-details.resolver';\nimport { FirebaseUpdateUserModal } from './update/firebase-update-user.modal';\nimport { FirebaseCrudService } from '../firebase-crud.service';\nimport { FirebaseCrudModule } from '../firebase-crud.module';\nimport { SelectUserImageModal } from './select-image/select-user-image.modal';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FirebaseUserDetailsPage,\n    resolve: {\n      data: FirebaseUserDetailsResolver\n    }\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    ComponentsModule,\n    FirebaseCrudModule\n  ],\n  declarations: [\n    FirebaseUserDetailsPage,\n    FirebaseUpdateUserModal\n  ],\n  entryComponents: [\n    FirebaseUpdateUserModal,\n    SelectUserImageModal\n  ],\n  providers: [\n    FirebaseCrudService,\n    FirebaseUserDetailsResolver\n  ]\n})\nexport class FirebaseUserDetailsPageModule {}\n","import { Component, OnInit, HostBinding } from '@angular/core';\nimport { ModalController, IonRouterOutlet } from '@ionic/angular';\nimport { ActivatedRoute, Router } from '@angular/router';\n\nimport { FirebaseCombinedUserModel } from '../firebase-user.model';\nimport { FirebaseListingItemModel } from '../../listing/firebase-listing.model';\nimport { FirebaseUpdateUserModal } from '../update/firebase-update-user.modal';\n\nimport { DataStore, ShellModel } from '../../../../shell/data-store';\nimport { FirebaseCrudService } from '../../firebase-crud.service';\n\n@Component({\n  selector: 'app-firebase-user-details',\n  templateUrl: './firebase-user-details.page.html',\n  styleUrls: [\n    './styles/firebase-user-details.page.scss',\n    './styles/firebase-user-details.shell.scss'\n  ],\n})\nexport class FirebaseUserDetailsPage implements OnInit {\n  user: FirebaseCombinedUserModel;\n  // Use Typescript intersection types to enable docorating the Array of firebase models with a shell model\n  // (ref: https://www.typescriptlang.org/docs/handbook/advanced-types.html#intersection-types)\n  relatedUsers: Array<FirebaseListingItemModel> & ShellModel;\n\n  @HostBinding('class.is-shell') get isShell() {\n    return ((this.user && this.user.isShell) || (this.relatedUsers && this.relatedUsers.isShell)) ? true : false;\n  }\n\n  constructor(\n    public firebaseCrudService: FirebaseCrudService,\n    public modalController: ModalController,\n    public router: Router,\n    private route: ActivatedRoute,\n    private routerOutlet: IonRouterOutlet\n  ) { }\n\n  ngOnInit() {\n    this.route.data.subscribe((resolvedRouteData) => {\n      const resolvedDataStores = resolvedRouteData['data'];\n      const combinedDataStore: DataStore<FirebaseCombinedUserModel> = resolvedDataStores.user;\n      const relatedUsersDataStore: DataStore<Array<FirebaseListingItemModel>> = resolvedDataStores.relatedUsers;\n\n      combinedDataStore.state.subscribe(\n        (state) => {\n          this.user = state;\n        }\n      );\n      relatedUsersDataStore.state.subscribe(\n        (state) => {\n          this.relatedUsers = state;\n        }\n      );\n    });\n  }\n\n  async openFirebaseUpdateModal() {\n    const modal = await this.modalController.create({\n      component: FirebaseUpdateUserModal,\n      componentProps: {\n        'user': this.user\n      },\n      swipeToClose: true,\n      presentingElement: this.routerOutlet.nativeEl\n    });\n\n    await modal.present();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Resolve, ActivatedRouteSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\n\nimport { FirebaseCombinedUserModel } from './firebase-user.model';\nimport { FirebaseListingItemModel } from '../listing/firebase-listing.model';\n\nimport { DataStore } from '../../../shell/data-store';\nimport { FirebaseCrudService } from '../firebase-crud.service';\n\n@Injectable()\nexport class FirebaseUserDetailsResolver implements Resolve<any> {\n\n  constructor(private firebaseCrudService: FirebaseCrudService) {}\n\n  resolve(route: ActivatedRouteSnapshot) {\n    const userId = route.paramMap.get('id');\n\n    // We created a FirebaseCombinedUserModel to combine the userData with the details of the userSkills (from the skills collection).\n    // They are 2 different collections and we need to combine them into 1 dataSource.\n\n    const combinedUserDataSource: Observable<FirebaseCombinedUserModel> = this.firebaseCrudService\n    .getCombinedUserDataSource(userId);\n\n    const combinedUserDataStore: DataStore<FirebaseCombinedUserModel> = this.firebaseCrudService\n    .getCombinedUserStore(combinedUserDataSource);\n\n\n    // The user details page has a section with related users, showing users with the same skills\n    // For this we created another datastore which depends on the combinedUser data store\n    // The DataStore subscribes to the DataSource, to avoid creating two subscribers to the combinedUserDataSource,\n    // use the combinedUserDataStore timeline instead. (The timeline is a Subject, and is intended to have many subscribers)\n    // Using, and thus subscribing to the timeline won't trigger two requests to the firebase endpoint\n    const relatedUsersDataSource: Observable<Array<FirebaseListingItemModel>> = this.firebaseCrudService\n    .getRelatedUsersDataSource(combinedUserDataStore.state);\n\n    const relatedUsersDataStore: DataStore<Array<FirebaseListingItemModel>> = this.firebaseCrudService\n    .getRelatedUsersStore(relatedUsersDataSource);\n\n    return {user: combinedUserDataStore, relatedUsers: relatedUsersDataStore};\n  }\n}\n","import { ValidatorFn, FormArray } from '@angular/forms';\n\nexport class CheckboxCheckedValidator {\n\n  static minSelectedCheckboxes(min) {\n    const validator: ValidatorFn = (formArray: FormArray) => {\n      const totalSelected = formArray.controls\n        // get a list of checkbox values (boolean)\n        .map(control => control.value)\n        // total up the number of checked checkboxes\n        .reduce((prev, next) => next ? prev + next : prev, 0);\n\n      // if the total is not greater than the minimum, return the error message\n      return totalSelected >= min ? null : { required: true };\n    };\n\n    return validator;\n  }\n}\n"]}