{"version":3,"sources":["./src/app/firebase/crud/user/select-image/user-image.model.ts","./node_modules/dayjs/dayjs.min.js","./src/app/firebase/crud/listing/firebase-listing.model.ts","./src/app/firebase/crud/firebase-crud.service.ts","./src/app/firebase/crud/user/select-image/select-user-image.modal.ts","./src/app/firebase/crud/user/firebase-user.model.ts","./src/app/firebase/crud/user/select-image/select-user-image.modal.html"],"names":[],"mappings":"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","file":"default~listing-firebase-listing-module-ngfactory~user-firebase-user-details-module-ngfactory-es2015.js","sourcesContent":["import { ShellModel } from '../../../../shell/data-store';\n\nexport class UserImageModel extends ShellModel {\n  link: string;\n\n  constructor() {\n    super();\n  }\n}\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):t.dayjs=e()}(this,function(){\"use strict\";var t=\"millisecond\",e=\"second\",n=\"minute\",r=\"hour\",i=\"day\",s=\"week\",u=\"month\",o=\"quarter\",a=\"year\",h=/^(\\d{4})-?(\\d{1,2})-?(\\d{0,2})[^0-9]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?.?(\\d{1,3})?$/,f=/\\[([^\\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},d={s:c,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+c(r,2,\"0\")+\":\"+c(i,2,\"0\")},m:function(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,u),i=e-r<0,s=t.clone().add(n+(i?-1:1),u);return Number(-(n+(e-r)/(i?r-s:s-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(h){return{M:u,y:a,w:s,d:i,D:\"date\",h:r,m:n,s:e,ms:t,Q:o}[h]||String(h||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},$={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\")},l=\"en\",m={};m[l]=$;var y=function(t){return t instanceof v},M=function(t,e,n){var r;if(!t)return l;if(\"string\"==typeof t)m[t]&&(r=t),e&&(m[t]=e,r=t);else{var i=t.name;m[i]=t,r=i}return!n&&r&&(l=r),r||!n&&l},g=function(t,e){if(y(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new v(n)},D=d;D.l=M,D.i=y,D.w=function(t,e){return g(t,{locale:e.$L,utc:e.$u,$offset:e.$offset})};var v=function(){function c(t){this.$L=this.$L||M(t.locale,null,!0),this.parse(t)}var d=c.prototype;return d.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(D.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match(h);if(r)return n?new Date(Date.UTC(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)):new Date(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)}return new Date(e)}(t),this.init()},d.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},d.$utils=function(){return D},d.isValid=function(){return!(\"Invalid Date\"===this.$d.toString())},d.isSame=function(t,e){var n=g(t);return this.startOf(e)<=n&&n<=this.endOf(e)},d.isAfter=function(t,e){return g(t)<this.startOf(e)},d.isBefore=function(t,e){return this.endOf(e)<g(t)},d.$g=function(t,e,n){return D.u(t)?this[e]:this.set(n,t)},d.year=function(t){return this.$g(t,\"$y\",a)},d.month=function(t){return this.$g(t,\"$M\",u)},d.day=function(t){return this.$g(t,\"$W\",i)},d.date=function(t){return this.$g(t,\"$D\",\"date\")},d.hour=function(t){return this.$g(t,\"$H\",r)},d.minute=function(t){return this.$g(t,\"$m\",n)},d.second=function(t){return this.$g(t,\"$s\",e)},d.millisecond=function(e){return this.$g(e,\"$ms\",t)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(t,o){var h=this,f=!!D.u(o)||o,c=D.p(t),d=function(t,e){var n=D.w(h.$u?Date.UTC(h.$y,e,t):new Date(h.$y,e,t),h);return f?n:n.endOf(i)},$=function(t,e){return D.w(h.toDate()[t].apply(h.toDate(\"s\"),(f?[0,0,0,0]:[23,59,59,999]).slice(e)),h)},l=this.$W,m=this.$M,y=this.$D,M=\"set\"+(this.$u?\"UTC\":\"\");switch(c){case a:return f?d(1,0):d(31,11);case u:return f?d(1,m):d(0,m+1);case s:var g=this.$locale().weekStart||0,v=(l<g?l+7:l)-g;return d(f?y-v:y+(6-v),m);case i:case\"date\":return $(M+\"Hours\",0);case r:return $(M+\"Minutes\",1);case n:return $(M+\"Seconds\",2);case e:return $(M+\"Milliseconds\",3);default:return this.clone()}},d.endOf=function(t){return this.startOf(t,!1)},d.$set=function(s,o){var h,f=D.p(s),c=\"set\"+(this.$u?\"UTC\":\"\"),d=(h={},h[i]=c+\"Date\",h.date=c+\"Date\",h[u]=c+\"Month\",h[a]=c+\"FullYear\",h[r]=c+\"Hours\",h[n]=c+\"Minutes\",h[e]=c+\"Seconds\",h[t]=c+\"Milliseconds\",h)[f],$=f===i?this.$D+(o-this.$W):o;if(f===u||f===a){var l=this.clone().set(\"date\",1);l.$d[d]($),l.init(),this.$d=l.set(\"date\",Math.min(this.$D,l.daysInMonth())).toDate()}else d&&this.$d[d]($);return this.init(),this},d.set=function(t,e){return this.clone().$set(t,e)},d.get=function(t){return this[D.p(t)]()},d.add=function(t,o){var h,f=this;t=Number(t);var c=D.p(o),d=function(e){var n=g(f);return D.w(n.date(n.date()+Math.round(e*t)),f)};if(c===u)return this.set(u,this.$M+t);if(c===a)return this.set(a,this.$y+t);if(c===i)return d(1);if(c===s)return d(7);var $=(h={},h[n]=6e4,h[r]=36e5,h[e]=1e3,h)[c]||1,l=this.$d.getTime()+t*$;return D.w(l,this)},d.subtract=function(t,e){return this.add(-1*t,e)},d.format=function(t){var e=this;if(!this.isValid())return\"Invalid Date\";var n=t||\"YYYY-MM-DDTHH:mm:ssZ\",r=D.z(this),i=this.$locale(),s=this.$H,u=this.$m,o=this.$M,a=i.weekdays,h=i.months,c=function(t,r,i,s){return t&&(t[r]||t(e,n))||i[r].substr(0,s)},d=function(t){return D.s(s%12||12,t,\"0\")},$=i.meridiem||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:D.s(o+1,2,\"0\"),MMM:c(i.monthsShort,o,h,3),MMMM:c(h,o),D:this.$D,DD:D.s(this.$D,2,\"0\"),d:String(this.$W),dd:c(i.weekdaysMin,this.$W,a,2),ddd:c(i.weekdaysShort,this.$W,a,3),dddd:a[this.$W],H:String(s),HH:D.s(s,2,\"0\"),h:d(1),hh:d(2),a:$(s,u,!0),A:$(s,u,!1),m:String(u),mm:D.s(u,2,\"0\"),s:String(this.$s),ss:D.s(this.$s,2,\"0\"),SSS:D.s(this.$ms,3,\"0\"),Z:r};return n.replace(f,function(t,e){return e||l[t]||r.replace(\":\",\"\")})},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(t,h,f){var c,d=D.p(h),$=g(t),l=6e4*($.utcOffset()-this.utcOffset()),m=this-$,y=D.m(this,$);return y=(c={},c[a]=y/12,c[u]=y,c[o]=y/3,c[s]=(m-l)/6048e5,c[i]=(m-l)/864e5,c[r]=m/36e5,c[n]=m/6e4,c[e]=m/1e3,c)[d]||m,f?y:D.a(y)},d.daysInMonth=function(){return this.endOf(u).$D},d.$locale=function(){return m[this.$L]},d.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=M(t,e,!0);return r&&(n.$L=r),n},d.clone=function(){return D.w(this.$d,this)},d.toDate=function(){return new Date(this.valueOf())},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},c}();return g.prototype=v.prototype,g.extend=function(t,e){return t(e,v,g),g},g.locale=M,g.isDayjs=y,g.unix=function(t){return g(1e3*t)},g.en=m[l],g.Ls=m,g});\n","import { ShellModel } from '../../../shell/data-store';\n\nexport class FirebaseListingItemModel extends ShellModel {\n  image: string;\n  name: string;\n  birthdate: number; // timestamp\n  lastname: string;\n  age: number;\n  id: string;\n\n  constructor() {\n    super();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { AngularFirestore, DocumentReference } from '@angular/fire/firestore';\n\nimport { Observable, of, forkJoin, throwError, combineLatest } from 'rxjs';\nimport { map, concatMap, first, filter } from 'rxjs/operators';\nimport * as dayjs from 'dayjs';\nimport { DataStore, ShellModel } from '../../shell/data-store';\nimport { FirebaseListingItemModel } from './../crud/listing/firebase-listing.model';\nimport { FirebaseCombinedUserModel, FirebaseSkillModel, FirebaseUserModel } from './../crud/user/firebase-user.model';\nimport { UserImageModel } from './../crud/user/select-image/user-image.model';\n\n@Injectable()\nexport class FirebaseCrudService {\n  // Listing Page\n  private listingDataStore: DataStore<Array<FirebaseListingItemModel>>;\n  // User Details Page\n  private combinedUserDataStore: DataStore<FirebaseCombinedUserModel>;\n  private relatedUsersDataStore: DataStore<Array<FirebaseListingItemModel>>;\n  // Select User Image Modal\n  private avatarsDataStore: DataStore<Array<UserImageModel>>;\n\n  constructor(private afs: AngularFirestore) {}\n\n  /*\n    Firebase User Listing Page\n  */\n  public getListingDataSource(): Observable<Array<FirebaseListingItemModel>> {\n    return this.afs.collection<FirebaseListingItemModel>('users').valueChanges({ idField: 'id' })\n     .pipe(\n       map(actions => actions.map(user => {\n          const age = this.calcUserAge(user.birthdate);\n          return { age, ...user } as FirebaseListingItemModel;\n        })\n      )\n    );\n  }\n\n  public getListingStore(dataSource: Observable<Array<FirebaseListingItemModel>>): DataStore<Array<FirebaseListingItemModel>> {\n    // Use cache if available\n    if (!this.listingDataStore) {\n      // Initialize the model specifying that it is a shell model\n      const shellModel: Array<FirebaseListingItemModel> = [\n        new FirebaseListingItemModel(),\n        new FirebaseListingItemModel(),\n        new FirebaseListingItemModel(),\n        new FirebaseListingItemModel(),\n        new FirebaseListingItemModel(),\n        new FirebaseListingItemModel()\n      ];\n\n      this.listingDataStore = new DataStore(shellModel);\n      // Trigger the loading mechanism (with shell) in the dataStore\n      this.listingDataStore.load(dataSource);\n    }\n    return this.listingDataStore;\n  }\n\n  // Filter users by age\n  public searchUsersByAge(lower: number, upper: number): Observable<Array<FirebaseListingItemModel>> {\n    // we save the dateOfBirth in our DB so we need to calc the min and max dates valid for this query\n    const minDate = (dayjs(Date.now()).subtract(upper, 'year')).unix();\n    const maxDate =  (dayjs(Date.now()).subtract(lower, 'year')).unix();\n\n    const listingCollection = this.afs.collection<FirebaseListingItemModel>('users', ref =>\n      ref.orderBy('birthdate').startAt(minDate).endAt(maxDate));\n\n    return listingCollection.valueChanges({ idField: 'id' }).pipe(\n      map(actions => actions.map(user => {\n         const age = this.calcUserAge(user.birthdate);\n         return { age, ...user } as FirebaseListingItemModel;\n       })\n     ));\n  }\n\n  /*\n    Firebase User Details Page\n  */\n  // Concat the userData with the details of the userSkills (from the skills collection)\n  public getCombinedUserDataSource(userId: string): Observable<FirebaseCombinedUserModel> {\n    return this.getUser(userId)\n    .pipe(\n      // Transformation operator: Map each source value (user) to an Observable (combineDataSources | throwError) which\n      // is merged in the output Observable\n      concatMap(user => {\n        if (user && user.skills) {\n          // Map each skill id and get the skill data as an Observable\n          const userSkillsObservables: Array<Observable<FirebaseSkillModel>> = user.skills.map(skill => {\n            return this.getSkill(skill).pipe(first());\n          });\n\n          // Combination operator: Take the most recent value from both input sources (of(user) & forkJoin(userSkillsObservables)),\n          // and transform those emitted values into one value ([userDetails, userSkills])\n          return combineLatest([\n            of(user),\n            forkJoin(userSkillsObservables)\n          ]).pipe(\n            map(([userDetails, userSkills]: [FirebaseUserModel, Array<FirebaseSkillModel>]) => {\n              // Spread operator (see: https://dev.to/napoleon039/how-to-use-the-spread-and-rest-operator-4jbb)\n              return {\n                ...userDetails,\n                skills: userSkills\n              } as FirebaseCombinedUserModel;\n            })\n          );\n        } else {\n          // Throw error\n          return throwError('User does not have any skills.');\n        }\n      })\n    );\n  }\n\n  public getCombinedUserStore(dataSource: Observable<FirebaseCombinedUserModel>): DataStore<FirebaseCombinedUserModel> {\n    // Initialize the model specifying that it is a shell model\n    const shellModel: FirebaseCombinedUserModel = new FirebaseCombinedUserModel();\n\n    this.combinedUserDataStore = new DataStore(shellModel);\n    // Trigger the loading mechanism (with shell) in the dataStore\n    this.combinedUserDataStore.load(dataSource);\n\n    return this.combinedUserDataStore;\n  }\n\n  // tslint:disable-next-line:max-line-length\n  public getRelatedUsersDataSource(combinedUserDataSource: Observable<FirebaseCombinedUserModel & ShellModel>): Observable<Array<FirebaseListingItemModel>>  {\n    return combinedUserDataSource\n    .pipe(\n      // Filter user values that are not shells. We need to add this filter if using the combinedUserDataStore timeline\n      filter(user => !user.isShell),\n      concatMap(user => {\n        if (user && user.skills) {\n          // Get all users with at least 1 skill in common\n          const relatedUsersObservable: Observable<Array<FirebaseListingItemModel>> =\n          this.getUsersWithSameSkill(user.id, user.skills);\n\n          return relatedUsersObservable;\n        } else {\n          // Throw error\n          return throwError('Could not get related user');\n        }\n      })\n    );\n  }\n\n  public getRelatedUsersStore(dataSource: Observable<Array<FirebaseListingItemModel>>): DataStore<Array<FirebaseListingItemModel>> {\n    // Initialize the model specifying that it is a shell model\n    const shellModel: Array<FirebaseListingItemModel> = [\n      new FirebaseListingItemModel(),\n      new FirebaseListingItemModel(),\n      new FirebaseListingItemModel()\n    ];\n\n    this.relatedUsersDataStore = new DataStore(shellModel);\n    // Trigger the loading mechanism (with shell) in the dataStore\n    this.relatedUsersDataStore.load(dataSource);\n\n    return this.relatedUsersDataStore;\n  }\n\n  /*\n    Firebase Create User Modal\n  */\n  public createUser(userData: FirebaseUserModel): Promise<DocumentReference>  {\n    return this.afs.collection('users').add({...userData});\n  }\n\n  /*\n    Firebase Update User Modal\n  */\n  public updateUser(userData: FirebaseUserModel): Promise<void> {\n    return this.afs.collection('users').doc(userData.id).set(userData);\n  }\n\n  public deleteUser(userKey: string): Promise<void> {\n    return this.afs.collection('users').doc(userKey).delete();\n  }\n\n  /*\n    Firebase Select User Image Modal\n  */\n  public getAvatarsDataSource(): Observable<Array<UserImageModel>> {\n    return this.afs.collection<UserImageModel>('avatars').valueChanges();\n  }\n\n  public getAvatarsStore(dataSource: Observable<Array<UserImageModel>>): DataStore<Array<UserImageModel>> {\n    // Use cache if available\n    if (!this.avatarsDataStore) {\n      // Initialize the model specifying that it is a shell model\n      const shellModel: Array<UserImageModel> = [\n        new UserImageModel(),\n        new UserImageModel(),\n        new UserImageModel(),\n        new UserImageModel(),\n        new UserImageModel()\n      ];\n\n      this.avatarsDataStore = new DataStore(shellModel);\n      // Trigger the loading mechanism (with shell) in the dataStore\n      this.avatarsDataStore.load(dataSource);\n    }\n    return this.avatarsDataStore;\n  }\n\n  /*\n    FireStore utility methods\n  */\n  // Get list of all available Skills (used in the create and update modals)\n  public getSkills(): Observable<Array<FirebaseSkillModel>> {\n    return this.afs.collection<FirebaseSkillModel>('skills').valueChanges({ idField: 'id' });\n  }\n\n  // Get data of a specific Skill\n  private getSkill(skillId: string): Observable<FirebaseSkillModel> {\n    return this.afs.doc<FirebaseSkillModel>('skills/' + skillId)\n    .snapshotChanges()\n    .pipe(\n      map(a => {\n        const data = a.payload.data();\n        const id = a.payload.id;\n        return { id, ...data } as FirebaseSkillModel;\n      })\n    );\n  }\n\n\n  // Get data of a specific User\n  private getUser(userId: string): Observable<FirebaseUserModel> {\n    return this.afs.doc<FirebaseUserModel>('users/' + userId)\n    .snapshotChanges()\n    .pipe(\n      map(a => {\n        const userData = a.payload.data();\n        const id = a.payload.id;\n        const age = userData ? this.calcUserAge(userData.birthdate) : 0;\n        return { id, age, ...userData } as FirebaseUserModel;\n      })\n    );\n  }\n\n  // Get all users who share at least 1 skill of the user's 'skills' list\n  private getUsersWithSameSkill(userId: string, skills: Array<FirebaseSkillModel>): Observable<Array<FirebaseListingItemModel>> {\n    // Get the users who have at least 1 skill in common\n    // Because firestore doesn't have a logical 'OR' operator we need to create multiple queries, one for each skill from the 'skills' list\n    const queries = skills.map(skill => {\n      return this.afs.collection('users', ref => ref\n      .where('skills', 'array-contains', skill.id))\n      .valueChanges({ idField: 'id' });\n    });\n\n    // Combine all these queries\n    return combineLatest(queries).pipe(\n      map((relatedUsers: FirebaseListingItemModel[][]) => {\n        // Flatten the array of arrays of FirebaseListingItemModel\n        const flattenedRelatedUsers = ([] as FirebaseListingItemModel[]).concat(...relatedUsers);\n\n        // Removes duplicates from the array of FirebaseListingItemModel objects.\n        // Also remove the original user (userId)\n        const filteredRelatedUsers = flattenedRelatedUsers\n        .reduce((accumulatedUsers, user) => {\n          if ((accumulatedUsers.findIndex(accumulatedUser => accumulatedUser.id === user.id) < 0) && (user.id !== userId)) {\n            return [...accumulatedUsers, user];\n          } else {\n            // If the user doesn't pass the test, then don't add it to the filtered users array\n            return accumulatedUsers;\n          }\n        }, ([] as FirebaseListingItemModel[]));\n\n        return filteredRelatedUsers;\n      })\n    );\n  }\n\n  private calcUserAge(dateOfBirth: number): number {\n    return dayjs(Date.now()).diff(dayjs.unix(dateOfBirth), 'year');\n  }\n}\n","import { Component, OnInit, HostBinding } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\n\nimport { UserImageModel } from './user-image.model';\nimport { ShellModel } from '../../../../shell/data-store';\nimport { FirebaseCrudService } from '../../firebase-crud.service';\n\n@Component({\n  selector: 'app-select-user-image',\n  templateUrl: './select-user-image.modal.html',\n  styleUrls: [\n    './styles/select-user-image.modal.scss',\n    './styles/select-user-image.shell.scss'\n  ]\n})\nexport class SelectUserImageModal implements OnInit {\n  // Use Typescript intersection types to enable docorating the Array of firebase models with a shell model\n  // (ref: https://www.typescriptlang.org/docs/handbook/advanced-types.html#intersection-types)\n  avatars: Array<UserImageModel> & ShellModel;\n\n  @HostBinding('class.is-shell') get isShell() {\n    return (this.avatars && this.avatars.isShell) ? true : false;\n  }\n\n  constructor(\n    private modalController: ModalController,\n    public firebaseCrudService: FirebaseCrudService\n  ) { }\n\n  ngOnInit() {\n    const dataSource = this.firebaseCrudService.getAvatarsDataSource();\n    const dataStore = this.firebaseCrudService.getAvatarsStore(dataSource);\n\n    dataStore.state.subscribe(\n      (state) => {\n        this.avatars = state;\n      },\n      (error) => {}\n    );\n  }\n\n  dismissModal(avatar?: UserImageModel) {\n    this.modalController.dismiss(avatar);\n  }\n}\n","import { ShellModel } from '../../../shell/data-store';\n\nexport class FirebaseSkillModel extends ShellModel {\n  id: string;\n  name: string;\n\n  constructor() {\n    super();\n  }\n}\n\nexport class FirebaseUserModel extends ShellModel {\n  id: string;\n  avatar: string;\n  name: string;\n  lastname: string;\n  email: string;\n  phone: number;\n  age?: number;\n  birthdate: number; // timestamp\n  skills: Array<any> = [\n    '',\n    '',\n    ''\n  ];\n  languages: {\n    spanish: number,\n    english: number,\n    french: number\n  } = {\n    spanish: 0,\n    english: 0,\n    french: 0\n  };\n\n  constructor() {\n    super();\n  }\n}\nexport class FirebaseCombinedUserModel extends FirebaseUserModel {\n  skills: Array<FirebaseSkillModel> = [\n    new FirebaseSkillModel(),\n    new FirebaseSkillModel(),\n    new FirebaseSkillModel()\n  ];\n\n  constructor() {\n    super();\n  }\n}\n","<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"dismissModal()\">\n        <ion-icon slot=\"icon-only\" name=\"close\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n    <ion-title>Select an Avatar</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"select-image-content\">\n  <ion-row class=\"images-wrapper\">\n    <ion-col size=\"4\" class=\"image-item\" *ngFor=\"let avatar of avatars\">\n      <app-image-shell [display]=\"'cover'\" class=\"user-image\" animation=\"spinner\" [src]=\"avatar.link\" [alt]=\"'avatar image'\" (click)=\"dismissModal(avatar)\">\n        <app-aspect-ratio [ratio]=\"{w: 1, h: 1}\">\n        </app-aspect-ratio>\n      </app-image-shell>\n    </ion-col>\n  </ion-row>\n</ion-content>\n"],"sourceRoot":"webpack:///"}