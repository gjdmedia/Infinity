{"version":3,"sources":["webpack:///src/app/deals/listing/deals-listing.page.html","webpack:///src/app/deals/listing/deals-listing.resolver.ts","webpack:///src/app/deals/listing/deals-listing.page.ts","webpack:///node_modules/dayjs/plugin/relativeTime.js","webpack:///src/app/pipes/time-ago.pipe.ts","webpack:///src/app/deals/listing/deals-listing.module.ts"],"names":["DealsListingResolver","dealsService","dataSource","getListingDataSource","dataStore","getListingStore","DealsListingPage","route","subscriptions","data","subscribe","resolvedRouteData","extractData","state","listing","error","unsubscribe","isShell","r","t","module","exports","e","n","prototype","o","future","past","s","m","mm","h","hh","d","dd","M","MM","y","yy","en","relativeTime","i","u","a","f","$locale","l","thresholds","length","c","diff","rounding","Math","round","abs","p","replace","to","from","$u","utc","toNow","fromNow","TimeAgoPipe","value","timeAgo","withoutSuffix","routes","path","component","resolve","DealsListingPageModule"],"mappings":"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","file":"deals-listing-deals-listing-module-ngfactory-es5.js","sourcesContent":["<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-back-button defaultHref=\"app/categories\"></ion-back-button>\n    </ion-buttons>\n    <ion-title>Deals Listing</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"deals-listing-content\">\n  <ng-container *ngIf=\"listing?.items\">\n    <div class=\"listing-item\" *ngFor=\"let item of listing.items\" [ngClass]=\"{'ended': ((item.expirationDate | appTimeDifference) < 0), 'imminent-end': ((item.expirationDate | appTimeDifference) > 0 && (item.expirationDate | appTimeDifference) <= 2), 'ends-soon': ((item.expirationDate | appTimeDifference) > 0 && (item.expirationDate | appTimeDifference) > 2 && (item.expirationDate | appTimeDifference) < 10), 'distant-end': ((item.expirationDate | appTimeDifference) >= 10)}\">\n      <ion-row class=\"top-row\">\n        <ion-col class=\"logo-col\" size=\"6\">\n          <app-aspect-ratio [ratio]=\"{w: 128, h: 32}\">\n            <app-image-shell [src]=\"item.logo\" [alt]=\"'deals logo'\" class=\"deal-logo\" animation=\"spinner\"></app-image-shell>\n          </app-aspect-ratio>\n        </ion-col>\n        <ion-col *ngIf=\"((item.expirationDate | appTimeDifference) > 0)\" class=\"call-to-action-col\">\n          <ion-button class=\"claim-button\" expand=\"block\" color=\"claim\" [routerLink]=\"['/app/categories/deals/', item.slug]\">\n            <span class=\"button-cta\">CLAIM</span>\n            <ion-icon slot=\"end\" name=\"arrow-forward\"></ion-icon>\n          </ion-button>\n        </ion-col>\n        <ion-col *ngIf=\"((item.expirationDate | appTimeDifference) < 0)\" class=\"call-to-action-col\">\n          <span class=\"expired-cta\">EXPIRED</span>\n        </ion-col>\n      </ion-row>\n      <ion-row class=\"middle-row\">\n        <ion-col class=\"info-col\">\n          <h4 class=\"item-name\">\n            <a class=\"name-anchor\" [routerLink]=\"['/app/categories/deals/', item.slug]\">\n              <app-text-shell animation=\"bouncing\" [data]=\"item.name\"></app-text-shell>\n            </a>\n          </h4>\n          <p class=\"item-description\">\n            <app-text-shell animation=\"bouncing\" lines=\"3\" [data]=\"item.description\"></app-text-shell>\n          </p>\n        </ion-col>\n        <ion-col size=\"2\">\n          <ion-button class=\"bookmark-button\" expand=\"block\" fill=\"clear\" color=\"claim\">\n            <ion-icon slot=\"icon-only\" name=\"pricetag\"></ion-icon>\n          </ion-button>\n        </ion-col>\n      </ion-row>\n      <ion-row class=\"bottom-row\">\n        <ion-col class=\"code-wrapper\">\n          <span class=\"code-cta\">Use this code:</span>\n          <span class=\"item-code\" [ngClass]=\"{'expired': ((item.expirationDate | appTimeDifference) < 0)}\">\n            <app-text-shell [data]=\"item.code\"></app-text-shell>\n          </span>\n        </ion-col>\n        <ion-col class=\"time-left-wrapper\" size=\"5\" [ngClass]=\"{'countdown-active': ((item.expirationDate | appTimeDifference) > 0 && (item.expirationDate | appTimeDifference) <= 2)}\">\n          <span class=\"expiration-cta\">DEAL {{ ((item.expirationDate | appTimeDifference) < 0) ? 'EXPIRED' : 'EXPIRES IN' }}:</span>\n          <ng-container *ngIf=\"((item.expirationDate | appTimeDifference) < 0 || (item.expirationDate | appTimeDifference) > 2)\">\n            <span class=\"item-time-left\">\n              <app-text-shell [data]=\"(item.expirationDate | appTimeAgo)\"></app-text-shell>\n            </span>\n          </ng-container>\n          <ng-container *ngIf=\"((item.expirationDate | appTimeDifference) > 0 && (item.expirationDate | appTimeDifference) <= 2)\">\n            <ion-row class=\"countdown-wrapper\">\n              <app-countdown-timer class=\"item-countdown\" fill=\"inner-time\" [end]=\"item.expirationDate\" [units]=\"{from: 'hour', to: 'second'}\"></app-countdown-timer>\n            </ion-row>\n          </ng-container>\n        </ion-col>\n      </ion-row>\n    </div>\n  </ng-container>\n</ion-content>\n","import { Injectable } from '@angular/core';\nimport { Resolve } from '@angular/router';\nimport { Observable } from 'rxjs';\n\nimport { DataStore } from '../../shell/data-store';\nimport { DealsService } from '../deals.service';\nimport { DealsListingModel } from './deals-listing.model';\n\n@Injectable()\nexport class DealsListingResolver implements Resolve<DataStore<DealsListingModel>> {\n\n  constructor(private dealsService: DealsService) {}\n\n  resolve(): DataStore<DealsListingModel> {\n    const dataSource: Observable<DealsListingModel> = this.dealsService.getListingDataSource();\n    const dataStore: DataStore<DealsListingModel> = this.dealsService.getListingStore(dataSource);\n\n    return dataStore;\n  }\n}\n","import { Component, OnInit, HostBinding } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\nimport { IResolvedRouteData, ResolverHelper } from '../../utils/resolver-helper';\nimport { DealsListingModel } from './deals-listing.model';\n\n@Component({\n  selector: 'app-deals-listing',\n  templateUrl: './deals-listing.page.html',\n  styleUrls: [\n    './styles/deals-listing.page.scss',\n    './styles/deals-listing.shell.scss',\n    './styles/deals-listing.ios.scss'\n  ]\n})\nexport class DealsListingPage implements OnInit {\n  // Gather all component subscription in one place. Can be one Subscription or multiple (chained using the Subscription.add() method)\n  subscriptions: Subscription;\n\n  listing: DealsListingModel;\n\n  @HostBinding('class.is-shell') get isShell() {\n    return (this.listing && this.listing.isShell) ? true : false;\n  }\n\n  constructor(private route: ActivatedRoute) { }\n\n  ngOnInit(): void {\n    // On init, the route subscription is the active subscription\n    this.subscriptions = this.route.data\n    .subscribe(\n      (resolvedRouteData: IResolvedRouteData<DealsListingModel>) => {\n        // Route subscription resolved, now the active subscription is the Observable extracted from the resolved route data\n        this.subscriptions = ResolverHelper.extractData<DealsListingModel>(resolvedRouteData.data, DealsListingModel)\n        .subscribe(\n          (state) => {\n            this.listing = state;\n          },\n          (error) => {}\n        );\n      },\n      (error) => {}\n    );\n  }\n\n  // NOTE: Ionic only calls ngOnDestroy if the page was popped (ex: when navigating back)\n  // Since ngOnDestroy might not fire when you navigate from the current page, use ionViewWillLeave to cleanup Subscriptions\n  ionViewWillLeave(): void {\n    this.subscriptions.unsubscribe();\n  }\n}\n","!function(r,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):r.dayjs_plugin_relativeTime=t()}(this,function(){\"use strict\";return function(r,t,e){r=r||{};var n=t.prototype,o={future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"};e.en.relativeTime=o;var d=function(t,n,d,i){for(var u,a,s,f=d.$locale().relativeTime||o,l=r.thresholds||[{l:\"s\",r:44,d:\"second\"},{l:\"m\",r:89},{l:\"mm\",r:44,d:\"minute\"},{l:\"h\",r:89},{l:\"hh\",r:21,d:\"hour\"},{l:\"d\",r:35},{l:\"dd\",r:25,d:\"day\"},{l:\"M\",r:45},{l:\"MM\",r:10,d:\"month\"},{l:\"y\",r:17},{l:\"yy\",d:\"year\"}],h=l.length,m=0;m<h;m+=1){var c=l[m];c.d&&(u=i?e(t).diff(d,c.d,!0):d.diff(t,c.d,!0));var y=(r.rounding||Math.round)(Math.abs(u));if(s=u>0,y<=c.r||!c.r){y<=1&&m>0&&(c=l[m-1]);var p=f[c.l];a=\"string\"==typeof p?p.replace(\"%d\",y):p(y,n,c.l,s);break}}return n?a:(s?f.future:f.past).replace(\"%s\",a)};n.to=function(r,t){return d(r,t,this,!0)},n.from=function(r,t){return d(r,t,this)};var i=function(r){return r.$u?e.utc():e()};n.toNow=function(r){return this.to(i(this),r)},n.fromNow=function(r){return this.from(i(this),r)}}});\n","import { Pipe, PipeTransform } from '@angular/core';\n\nimport * as dayjs from 'dayjs';\nimport * as relativeTime from 'dayjs/plugin/relativeTime';\n\n@Pipe({ name: 'appTimeAgo' })\nexport class TimeAgoPipe implements PipeTransform {\n  transform(value: any): string {\n    dayjs.extend(relativeTime);\n    let timeAgo = '';\n\n    if (value) {\n      const withoutSuffix = (dayjs(value).diff(dayjs(), 'day') < 0) ? false : true;\n      timeAgo = dayjs().to(dayjs(value), withoutSuffix);\n    }\n\n    return timeAgo;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Routes, RouterModule } from '@angular/router';\nimport { HttpClientModule } from '@angular/common/http';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ComponentsModule } from '../../components/components.module';\nimport { PipesModule } from '../../pipes/pipes.module';\n\nimport { DealsService } from '../deals.service';\nimport { DealsListingPage } from './deals-listing.page';\nimport { DealsListingResolver } from './deals-listing.resolver';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DealsListingPage,\n    resolve: {\n      data: DealsListingResolver\n    }\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    ComponentsModule,\n    PipesModule,\n    HttpClientModule\n  ],\n  declarations: [\n    DealsListingPage\n  ],\n  providers: [\n    DealsListingResolver,\n    DealsService\n  ]\n})\nexport class DealsListingPageModule {}\n"]}