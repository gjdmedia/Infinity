{"version":3,"sources":["webpack:///src/app/components/counter-input/counter-input.component.html","webpack:///src/app/components/counter-input/counter-input.component.ts"],"names":["counterRangeValidator","minValue","maxValue","c","err","rangeError","given","value","min","max","CounterInputComponent","_counterValue","propagateChange","validateFn","inputs","counterRangeMax","counterRangeMin","counterValue","fn","val"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;qEAAA,iJ,IACE,mJ,IACE;AAAA;AAAA,oBAAsD,UAAtD;;AAAiC;;;;;AAAjC;AAAA,wN,GAAA,8T,GACE,mW,GAAA;AAAA;AAAA,c,GAIN,mJ,IAA4B,6E,IAC5B,iJ,IACE,mJ,IACE;AAAA;AAAA,oBAAsD,UAAtD;;AAAiC;;;;;AAAjC;AAAA,wN,GAAA,+T,GACE,iW,GAAA;AAAA;AAAA,c,GAAsC;AARX;;AAA3B,sBAA2B,SAA3B;;AAQ2B;;AAA3B,uBAA2B,SAA3B;AAAqC,O,EAAA;AAAA;AAJf;;AAAA;AAAmB,O;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACN/C;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAEO,aAASA,qBAAT,CAA+BC,QAA/B,EAAyCC,QAAzC,EAAmD;AACxD,aAAO,UAACC,CAAD,EAAoB;AACzB,YAAMC,GAAG,GAAG;AACVC,oBAAU,EAAE;AACVC,iBAAK,EAAEH,CAAC,CAACI,KADC;AAEVC,eAAG,EAAEP,QAAQ,IAAI,CAFP;AAGVQ,eAAG,EAAEP,QAAQ,IAAI;AAHP;AADF,SAAZ;AAQA,eAAQC,CAAC,CAACI,KAAF,GAAU,CAACL,QAAX,IAAuBC,CAAC,CAACI,KAAF,GAAU,CAACN,QAAnC,GAA+CG,GAA/C,GAAqD,IAA5D;AACD,OAVD;AAWD;;QAYYM,qB;AAVb;AAAA;;AAWE;AACuB,aAAAC,aAAA,GAAgB,CAAhB;;AAMvB,aAAAC,eAAA,GAAuB,YAAM,CAAE,CAA/B,CAlBF,CAkBmC;;;AACjC,aAAAC,UAAA,GAAkB,YAAM,CAAE,CAA1B,CAnBF,CAmB8B;;AAwC7B;;;;oCA7BaC,M,EAAQ;AAClB,cAAIA,MAAM,CAACC,eAAP,IAA0BD,MAAM,CAACE,eAArC,EAAsD;AACpD,iBAAKH,UAAL,GAAkBb,qBAAqB,CAAC,KAAKgB,eAAN,EAAuB,KAAKD,eAA5B,CAAvC;AACD;AACF;;;mCAEUR,K,EAAO;AAChB,cAAIA,KAAJ,EAAW;AACT,iBAAKU,YAAL,GAAoBV,KAApB;AACD;AACF;;;yCAEgBW,E,EAAI;AACnB,eAAKN,eAAL,GAAuBM,EAAvB;AACD;;;4CAEmB,CAAE;;;mCAEX;AACT,eAAKD,YAAL;AACD;;;mCAEU;AACT,eAAKA,YAAL;AACD;;;iCAEQd,C,EAAgB;AACvB,iBAAO,KAAKU,UAAL,CAAgBV,CAAhB,CAAP;AACD;;;4BArCkB;AACjB,iBAAO,KAAKQ,aAAZ;AACD,S;0BAEgBQ,G,EAAK;AACpB,eAAKR,aAAL,GAAqBQ,GAArB;AACA,eAAKP,eAAL,CAAqBO,GAArB;AACD","file":"default~forms-filters-forms-filters-module-ngfactory~forms-validations-forms-validations-module-ngfactory-es5.js","sourcesContent":["<div class=\"button-outer\">\n  <div class=\"button-wrapper\">\n    <ion-button class=\"counter-icon\" (click)=\"decrease()\">\n      <ion-icon slot=\"icon-only\" name=\"remove\"></ion-icon>\n    </ion-button>\n  </div>\n</div>\n<span class=\"counter-value\">{{ _counterValue }}</span>\n<div class=\"button-outer\">\n  <div class=\"button-wrapper\">\n    <ion-button class=\"counter-icon\" (click)=\"increase()\">\n      <ion-icon slot=\"icon-only\" name=\"add\"></ion-icon>\n    </ion-button>\n  </div>\n</div>\n","import { Component, forwardRef, Input, OnChanges, ViewEncapsulation } from '@angular/core';\nimport { FormControl, ControlValueAccessor, NG_VALUE_ACCESSOR, NG_VALIDATORS } from '@angular/forms';\n\nexport function counterRangeValidator(minValue, maxValue) {\n  return (c: FormControl) => {\n    const err = {\n      rangeError: {\n        given: c.value,\n        min: minValue || 0,\n        max: maxValue || 10\n      }\n    };\n\n    return (c.value > +maxValue || c.value < +minValue) ? err : null;\n  };\n}\n\n@Component({\n  selector: 'app-counter-input',\n  templateUrl: './counter-input.component.html',\n  styleUrls: ['./counter-input.component.scss'],\n  providers: [\n    { provide: NG_VALUE_ACCESSOR, useExisting: forwardRef(() => CounterInputComponent), multi: true },\n    { provide: NG_VALIDATORS, useExisting: forwardRef(() => CounterInputComponent), multi: true }\n  ],\n  encapsulation: ViewEncapsulation.None\n})\nexport class CounterInputComponent implements ControlValueAccessor, OnChanges {\n  // tslint:disable-next-line:no-input-rename\n  @Input('counterValue') _counterValue = 0;\n  // tslint:disable-next-line:no-input-rename\n  @Input('max') counterRangeMax;\n  // tslint:disable-next-line:no-input-rename\n  @Input('min') counterRangeMin;\n\n  propagateChange: any = () => {}; // Noop function\n  validateFn: any = () => {}; // Noop function\n\n  get counterValue() {\n    return this._counterValue;\n  }\n\n  set counterValue(val) {\n    this._counterValue = val;\n    this.propagateChange(val);\n  }\n\n  ngOnChanges(inputs) {\n    if (inputs.counterRangeMax || inputs.counterRangeMin) {\n      this.validateFn = counterRangeValidator(this.counterRangeMin, this.counterRangeMax);\n    }\n  }\n\n  writeValue(value) {\n    if (value) {\n      this.counterValue = value;\n    }\n  }\n\n  registerOnChange(fn) {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched() {}\n\n  increase() {\n    this.counterValue++;\n  }\n\n  decrease() {\n    this.counterValue--;\n  }\n\n  validate(c: FormControl) {\n    return this.validateFn(c);\n  }\n}\n"]}