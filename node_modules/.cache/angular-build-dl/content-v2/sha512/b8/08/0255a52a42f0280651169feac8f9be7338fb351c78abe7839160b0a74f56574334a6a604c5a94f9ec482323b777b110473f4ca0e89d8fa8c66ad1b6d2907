{"version":3,"sources":["webpack:///src/app/components/show-hide-password/show-hide-password.component.ts","webpack:///src/app/firebase/auth/sign-in/firebase-sign-in.page.html","webpack:///src/app/firebase/auth/sign-in/firebase-sign-in.module.ts","webpack:///src/app/firebase/auth/sign-in/firebase-sign-in.page.ts","webpack:///src/app/components/show-hide-password/show-hide-password.component.html"],"names":["ShowHidePasswordComponent","show","input","type","routes","path","component","FirebaseSignInPageModule","FirebaseSignInPage","router","route","menu","authService","ngZone","loadingController","location","historyHelper","validation_messages","message","loginForm","compose","required","pattern","minLength","authRedirectResult","getRedirectResult","subscribe","result","user","redirectLoggedUserToProfilePage","error","manageAuthWithProvidersErrors","queryParams","params","authProvider","presentLoading","enable","dismissLoading","run","previousUrl","navigate","replaceUrl","authProviderCapitalized","toUpperCase","slice","create","redirectLoader","present","dismiss","replaceState","getState","errorMessage","submitError","url","split","resetSubmitError","signInWithEmail","value","then","prepareForAuthWithProvidersRedirection","signInWithFacebook","signInWithGoogle","console","log","signInWithTwitter"],"mappings":"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","file":"default~firebase-auth-sign-in-firebase-sign-in-module-ngfactory~sign-in-firebase-sign-in-module-ngfactory-es5.js","sourcesContent":["import { Component, ContentChild } from '@angular/core';\n\nimport { IonInput } from '@ionic/angular';\n\n@Component({\n  selector: 'app-show-hide-password',\n  templateUrl: './show-hide-password.component.html',\n  styleUrls: [\n    './show-hide-password.component.scss'\n  ]\n})\nexport class ShowHidePasswordComponent {\n  show = false;\n\n  @ContentChild(IonInput) input: IonInput;\n\n  constructor() {}\n\n  toggleShow() {\n    this.show = !this.show;\n    if (this.show) {\n      this.input.type = 'text';\n    } else {\n      this.input.type = 'password';\n    }\n  }\n}\n","<ion-header class=\"ion-no-border\">\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"login-content\">\n  <h2 class=\"auth-title\">\n    <br/>\n  </h2>\n  <img src=\"/assets/images/ig_logo_black.png\" alt=\"\">\n  <h5 style=\"text-align: center;\">Please login</h5>\n  <form [formGroup]=\"loginForm\" (ngSubmit)=\"signInWithEmail()\">\n    <ion-list class=\"inputs-list\" lines=\"full\">\n      <ion-item class=\"input-item\">\n        <ion-input type=\"email\" placeholder=\"Email\" formControlName=\"email\" clearInput autocapitalize=\"off\" inputmode=\"email\"></ion-input>\n      </ion-item>\n      <div class=\"error-container\">\n        <ng-container *ngFor=\"let validation of validation_messages.email\">\n          <div class=\"error-message\" *ngIf=\"loginForm.get('email').hasError(validation.type) && (loginForm.get('email').dirty || loginForm.get('email').touched)\">\n            <ion-icon name=\"information-circle-outline\"></ion-icon>\n            <span>{{ validation.message }}</span>\n          </div>\n        </ng-container>\n      </div>\n\n      <ion-item class=\"input-item\">\n        <app-show-hide-password>\n          <ion-input type=\"password\" placeholder=\"Password\" formControlName=\"password\"></ion-input>\n        </app-show-hide-password>\n      </ion-item>\n      <div class=\"error-container\">\n        <ng-container *ngFor=\"let validation of validation_messages.password\">\n          <div class=\"error-message\" *ngIf=\"loginForm.get('password').hasError(validation.type) && (loginForm.get('password').dirty || loginForm.get('password').touched)\">\n            <ion-icon name=\"information-circle-outline\"></ion-icon>\n            <span>{{ validation.message }}</span>\n          </div>\n        </ng-container>\n      </div>\n    </ion-list>\n\n    <ion-button class=\"login-btn\" type=\"submit\" expand=\"block\" [disabled]=\"!loginForm.valid\">Log In</ion-button>\n    <div class=\"error-container\" *ngIf=\"submitError\">\n      <div class=\"error-message\">\n        <ion-icon name=\"information-circle-outline\"></ion-icon>\n        <span>{{ submitError }}</span>\n      </div>\n    </div>\n      <ion-button class=\"signup-btn\" class=\"login-btn\" expand=\"block\" [routerLink]=\"['/firebase/auth/sign-up']\">\n        Sign Up!\n      </ion-button>\n      \n   \n  </form>\n\n <!--  <div class=\"social-auth-options\">\n    <p class=\"options-divider\">Or</p>\n    <ion-button class=\"social-auth-btn facebook-auth-btn\" expand=\"block\" color=\"facebook\" (click)=\"doFacebookLogin()\">Log In with Facebook</ion-button>\n    <ion-button class=\"social-auth-btn google-auth-btn\" expand=\"block\" color=\"google\" (click)=\"doGoogleLogin()\">Log In with Google</ion-button>\n    <ion-button class=\"social-auth-btn twitter-auth-btn\" expand=\"block\" color=\"twitter\" (click)=\"doTwitterLogin()\">Log In with Twitter</ion-button>\n  </div> -->\n</ion-content>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { FirebaseSignInPage } from './firebase-sign-in.page';\nimport { ComponentsModule } from '../../../components/components.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FirebaseSignInPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    ComponentsModule\n  ],\n  declarations: [FirebaseSignInPage]\n})\nexport class FirebaseSignInPageModule {}\n","import { Component, OnInit, NgZone } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { Validators, FormGroup, FormControl } from '@angular/forms';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { MenuController, LoadingController } from '@ionic/angular';\nimport { Subscription } from 'rxjs';\n\nimport { HistoryHelperService } from '../../../utils/history-helper.service';\nimport { FirebaseAuthService } from '../firebase-auth.service';\n\n@Component({\n  selector: 'app-firebase-sign-in',\n  templateUrl: './firebase-sign-in.page.html',\n  styleUrls: [\n    './styles/firebase-sign-in.page.scss'\n  ]\n})\nexport class FirebaseSignInPage implements OnInit {\n  loginForm: FormGroup;\n  submitError: string;\n  redirectLoader: HTMLIonLoadingElement;\n  authRedirectResult: Subscription;\n\n  validation_messages = {\n    'email': [\n      { type: 'required', message: 'Email is required.' },\n      { type: 'pattern', message: 'Enter a valid email.' }\n    ],\n    'password': [\n      { type: 'required', message: 'Password is required.' },\n      { type: 'minlength', message: 'Password must be at least 6 characters long.' }\n    ]\n  };\n\n  constructor(\n    public router: Router,\n    public route: ActivatedRoute,\n    public menu: MenuController,\n    public authService: FirebaseAuthService,\n    private ngZone: NgZone,\n    public loadingController: LoadingController,\n    public location: Location,\n    public historyHelper: HistoryHelperService\n  ) {\n    this.loginForm = new FormGroup({\n      'email': new FormControl('', Validators.compose([\n        Validators.required,\n        Validators.pattern('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$')\n      ])),\n      'password': new FormControl('', Validators.compose([\n        Validators.minLength(6),\n        Validators.required\n      ]))\n    });\n\n    // Get firebase authentication redirect result invoken when using signInWithRedirect()\n    // signInWithRedirect() is only used when client is in web but not desktop\n    this.authRedirectResult = this.authService.getRedirectResult()\n    .subscribe(result => {\n      if (result.user) {\n        this.redirectLoggedUserToProfilePage();\n      } else if (result.error) {\n        this.manageAuthWithProvidersErrors(result.error);\n      }\n    });\n\n    // Check if url contains our custom 'auth-redirect' param, then show a loader while we receive the getRedirectResult notification\n    this.route.queryParams.subscribe(params => {\n      const authProvider = params['auth-redirect'];\n      if (authProvider) {\n        this.presentLoading(authProvider);\n      }\n    });\n  }\n\n  ngOnInit(): void {\n    this.menu.enable(false);\n  }\n\n  // Once the auth provider finished the authentication flow, and the auth redirect completes,\n  // hide the loader and redirect the user to the profile page\n  redirectLoggedUserToProfilePage() {\n    this.dismissLoading();\n\n    // As we are calling the Angular router navigation inside a subscribe method, the navigation will be triggered outside Angular zone.\n    // That's why we need to wrap the router navigation call inside an ngZone wrapper\n    this.ngZone.run(() => {\n      // Get previous URL from our custom History Helper\n      // If there's no previous page, then redirect to profile\n      // const previousUrl = this.historyHelper.previousUrl || 'firebase/auth/profile';\n      const previousUrl = 'app/categories';\n\n      // No need to store in the navigation history the sign-in page with redirect params (it's justa a mandatory mid-step)\n      // Navigate to profile and replace current url with profile\n      this.router.navigate([previousUrl], { replaceUrl: true });\n    });\n  }\n\n  async presentLoading(authProvider?: string) {\n    const authProviderCapitalized = authProvider[0].toUpperCase() + authProvider.slice(1);\n    this.redirectLoader = await this.loadingController.create({\n      message: authProvider ? 'Signing in with ' + authProviderCapitalized : 'Signin in ...'\n    });\n    await this.redirectLoader.present();\n  }\n\n  async dismissLoading() {\n    if (this.redirectLoader) {\n      await this.redirectLoader.dismiss();\n    }\n  }\n\n  // Before invoking auth provider redirect flow, present a loading indicator and add a flag to the path.\n  // The precense of the flag in the path indicates we should wait for the auth redirect to complete.\n  prepareForAuthWithProvidersRedirection(authProvider: string) {\n    this.presentLoading(authProvider);\n\n    this.location.replaceState(this.location.path(), 'auth-redirect=' + authProvider, this.location.getState());\n  }\n\n  manageAuthWithProvidersErrors(errorMessage: string) {\n    this.submitError = errorMessage;\n    // remove auth-redirect param from url\n    this.location.replaceState(this.router.url.split('?')[0], '');\n    this.dismissLoading();\n  }\n\n  resetSubmitError() {\n    this.submitError = null;\n  }\n\n  \n  signInWithEmail() {\n    this.resetSubmitError();\n    this.authService.signInWithEmail(this.loginForm.value['email'], this.loginForm.value['password'])\n    .then(user => {\n      // navigate to user profile\n      this.redirectLoggedUserToProfilePage();\n    })\n    .catch(error => {\n      this.submitError = error.message;\n      this.dismissLoading();\n    });\n  }\n\n  doFacebookLogin(): void {\n    this.resetSubmitError();\n    this.prepareForAuthWithProvidersRedirection('facebook');\n\n    this.authService.signInWithFacebook()\n    .subscribe((result) => {\n      // This gives you a Facebook Access Token. You can use it to access the Facebook API.\n      // const token = result.credential.accessToken;\n      this.redirectLoggedUserToProfilePage();\n    }, (error) => {\n      this.manageAuthWithProvidersErrors(error.message);\n    });\n  }\n\n  doGoogleLogin(): void {\n    this.resetSubmitError();\n    this.prepareForAuthWithProvidersRedirection('google');\n\n    this.authService.signInWithGoogle()\n    .subscribe((result) => {\n      // This gives you a Google Access Token. You can use it to access the Google API.\n      // var token = result.credential.accessToken;\n      this.redirectLoggedUserToProfilePage();\n    }, (error) => {\n        console.log(error);\n      this.manageAuthWithProvidersErrors(error.message);\n    });\n  }\n\n  doTwitterLogin(): void {\n    this.resetSubmitError();\n    this.prepareForAuthWithProvidersRedirection('twitter');\n\n    this.authService.signInWithTwitter()\n    .subscribe((result) => {\n      // This gives you a Twitter Access Token. You can use it to access the Twitter API.\n      // var token = result.credential.accessToken;\n      this.redirectLoggedUserToProfilePage();\n    }, (error) => {\n      console.log(error);\n      this.manageAuthWithProvidersErrors(error.message);\n    });\n  }\n}\n","<ng-content></ng-content>\n<a class=\"type-toggle\" (click)=\"toggleShow()\">\n\t<ion-icon class=\"show-option\" [hidden]=\"show\" name=\"eye-off-outline\"></ion-icon>\n\t<ion-icon class=\"hide-option\" [hidden]=\"!show\" name=\"eye-outline\"></ion-icon>\n  <!-- In case you want to use text instead of icons -->\n\t<!--\n  <span class=\"show-option\" [hidden]=\"show\">show</span>\n\t<span class=\"hide-option\" [hidden]=\"!show\">hide</span>\n  -->\n</a>\n"]}