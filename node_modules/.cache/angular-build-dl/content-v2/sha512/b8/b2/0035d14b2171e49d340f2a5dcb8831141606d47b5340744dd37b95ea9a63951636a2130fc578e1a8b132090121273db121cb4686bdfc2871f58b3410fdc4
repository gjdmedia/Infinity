{"version":3,"sources":["webpack:///node_modules/videogular2/compiled/src/controls/vg-scrub-bar/vg-scrub-bar-current-time/vg-scrub-bar-current-time.js","webpack:///node_modules/videogular2/compiled/src/core/services/vg-controls-hidden.js","webpack:///node_modules/videogular2/compiled/src/controls/controls.js","webpack:///node_modules/videogular2/compiled/src/core/states/vg-states.js","webpack:///node_modules/videogular2/compiled/src/core/events/vg-events.js","webpack:///node_modules/videogular2/compiled/src/core/vg-media/vg-media-element.js","webpack:///node_modules/videogular2/compiled/src/controls/vg-volume/vg-volume.js","webpack:///node_modules/videogular2/compiled/src/overlay-play/vg-overlay-play.js","webpack:///src/app/video-playlist/video-playlist.page.ts","webpack:///src/app/video-playlist/video-playlist.resolver.ts","webpack:///node_modules/videogular2/compiled/src/core/core.js","webpack:///node_modules/videogular2/compiled/src/core/vg-player/vg-player.js","webpack:///src/app/video-playlist/video-playlist.page.html","webpack:///node_modules/videogular2/compiled/src/controls/vg-track-selector/vg-track-selector.js","webpack:///src/app/video-playlist/video-playlist.model.ts","webpack:///node_modules/videogular2/compiled/src/controls/vg-time-display/vg-time-display.js","webpack:///node_modules/videogular2/compiled/src/controls/vg-scrub-bar/vg-scrub-bar-buffering-time/vg-scrub-bar-buffering-time.js","webpack:///node_modules/videogular2/compiled/src/core/vg-media/vg-media.js","webpack:///node_modules/videogular2/compiled/src/controls/vg-play-pause/vg-play-pause.js","webpack:///node_modules/videogular2/compiled/src/core/vg-cue-points/vg-cue-points.js","webpack:///node_modules/videogular2/compiled/src/controls/vg-mute/vg-mute.js","webpack:///node_modules/videogular2/compiled/src/core/services/vg-utils.js","webpack:///node_modules/videogular2/compiled/src/controls/vg-scrub-bar/vg-scrub-bar.js","webpack:///node_modules/videogular2/compiled/src/controls/vg-quality-selector/vg-quality-selector.js","webpack:///node_modules/videogular2/compiled/src/controls/vg-playback-button/vg-playback-button.js","webpack:///node_modules/videogular2/compiled/src/core/services/vg-api.js","webpack:///node_modules/videogular2/compiled/src/core/services/vg-fullscreen-api.js","webpack:///node_modules/videogular2/compiled/src/buffering/vg-buffering.js","webpack:///node_modules/videogular2/compiled/src/controls/vg-controls.js","webpack:///node_modules/videogular2/compiled/src/controls/vg-fullscreen/vg-fullscreen.js","webpack:///src/app/video-playlist/video-playlist.service.ts","webpack:///node_modules/videogular2/compiled/src/overlay-play/overlay-play.js","webpack:///node_modules/videogular2/compiled/src/controls/vg-scrub-bar/vg-scrub-bar-cue-points/vg-scrub-bar-cue-points.js","webpack:///node_modules/videogular2/compiled/src/core/vg-player/vg-player.d.ts.VgPlayer.html","webpack:///src/app/video-playlist/video-playlist.module.ts","webpack:///node_modules/videogular2/compiled/src/buffering/buffering.js"],"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","exports","value","core_1","vg_api_1","VgScrubBarCurrentTime","ref","API","vgSlider","subscriptions","elem","nativeElement","prototype","ngOnInit","_this","isPlayerReady","onPlayerReady","push","playerReadyEvent","subscribe","getMediaById","vgFor","getPercentage","time","current","total","ngOnDestroy","forEach","s","unsubscribe","Input","String","Component","selector","encapsulation","ViewEncapsulation","None","template","styles","ElementRef","VgAPI","rxjs_1","VgControlsHidden","isHiddenSubject","Subject","isHidden","asObservable","state","hidden","next","Injectable","common_1","vg_controls_1","vg_fullscreen_1","vg_mute_1","vg_volume_1","vg_play_pause_1","vg_playback_button_1","vg_scrub_bar_1","vg_scrub_bar_buffering_time_1","vg_scrub_bar_cue_points_1","vg_scrub_bar_current_time_1","vg_time_display_1","vg_track_selector_1","vg_controls_hidden_1","vg_quality_selector_1","VgControlsModule","NgModule","imports","CommonModule","declarations","VgControls","VgFullscreen","VgMute","VgVolume","VgPlayPause","VgPlaybackButton","VgScrubBar","VgScrubBarBufferingTime","VgScrubBarCuePoints","VgTimeDisplay","VgUtcPipe","VgTrackSelector","VgQualitySelector","providers","VgStates","VG_ENDED","VG_PAUSED","VG_PLAYING","VG_LOADING","VgEvents","VG_ABORT","VG_CAN_PLAY","VG_CAN_PLAY_THROUGH","VG_DURATION_CHANGE","VG_EMPTIED","VG_ENCRYPTED","VG_ERROR","VG_LOADED_DATA","VG_LOADED_METADATA","VG_LOAD_START","VG_PAUSE","VG_PLAY","VG_PROGRESS","VG_RATE_CHANGE","VG_SEEK","VG_SEEKED","VG_SEEKING","VG_STALLED","VG_SUSPEND","VG_TIME_UPDATE","VG_VOLUME_CHANGE","VG_WAITING","VG_LOAD","VG_ENTER","VG_EXIT","VG_START_ADS","VG_END_ADS","VgMediaElement","get","enumerable","configurable","addTextTrack","kind","label","language","canPlayType","type","load","msClearEffects","msGetAsCastingSource","msInsertAudioEffect","activatableClassId","effectRequired","config","msSetMediaKeys","mediaKeys","msSetMediaProtectionManager","mediaProtectionManager","pause","play","setMediaKeys","addEventListener","listener","useCapture","isDragging","ariaValue","getVolume","onClick","event","setVolume","calculateVolume","clientX","onMouseDown","mouseDownPosX","onDrag","onStopDrag","arrowAdjustVolume","keyCode","preventDefault","Math","max","min","mousePosX","recObj","volumeBarRef","getBoundingClientRect","volumeBarOffsetLeft","left","volumeBarWidth","width","vol","volume","ViewChild","HostListener","Function","KeyboardEvent","vg_states_1","vg_fullscreen_api_1","VgOverlayPlay","fsAPI","controlsHidden","isNativeFullscreen","areControlsHidden","isBuffering","onChangeFullscreen","bind","onHideControls","bufferDetected","onUpdateBuffer","fsState","nativeFullscreen","getState","Array","l","HostBinding","VgFullscreenAPI","Share","VideoPlaylistPage","route","start_playing","data","resolvedRouteData","videoPlaylistDataStore","video_playlist_model","isShell","video_playlist","videos","selected_video","error","media","api","getDefaultMedia","loadedMetadata","playVideo","selectedVideo","share","title","text","description","url","dialogTitle","then","console","log","VideoPlaylistResolver","videoPlaylistService","dataSource","getVideoPlaylistDataSource","dataStore","getVideoPlaylistStore","__export","m","p","hasOwnProperty","vg_player_1","vg_media_1","vg_cue_points_1","vg_utils_1","coreDirectives","VgPlayer","VgMedia","VgCuePoints","coreServices","VgUtils","VgCoreModule","isFullscreen","EventEmitter","onMediaReady","registerElement","ngAfterContentInit","medias","toArray","registerMedia","init","emit","zIndex","getZIndex","toString","Output","ContentChildren","QueryList","subs","from","getMasterMedia","children","filter","item","tagName","map","selected","id","srclang","tracks","concat","every","track","trackSelected","selectTrack","trackId","textTracks","mode","VideoModel","VideoPlaylistModel","transform","format","date","Date","result","ss","getUTCSeconds","mm","getUTCMinutes","hh","getUTCHours","replace","Pipe","name","vgProperty","vgFormat","getTime","t","round","isNaN","isLive","getBufferTime","bufferTime","buffer","buffered","end","operators_1","vg_events_1","rxjs_2","canPlay","canPlayThrough","isMetadataLoaded","isWaiting","isCompleted","isBufferDetected","checkInterval","currentPlayPos","lastPlayPos","playAtferSync","vgMedia","nodeName","abort","fromEvent","durationChange","emptied","encrypted","ended","loadedData","loadStart","playing","progress","rateChange","seeked","seeking","stalled","suspend","timeUpdate","volumeChange","waiting","startAds","window","endAds","mutation","Observable","create","observer","domObs","MutationObserver","mutations","observe","childList","attributes","disconnect","mutationObs","onMutation","canPlayObs","onCanPlay","canPlayThroughObs","onCanPlayThrough","loadedMetadataObs","onLoadMetadata","waitingObs","onWait","progressObs","onProgress","endedObs","onComplete","playingObs","onStartPlaying","playObs","onPlay","pauseObs","onPause","timeUpdateObs","onTimeUpdate","volumeChangeObs","onVolumeChange","errorObs","onError","vgMaster","prepareSync","canPlayAll","canPlayAllSubscription","combineLatest","pipe","params","_i","checkReadyState","readyState","allReady","some","syncSubscription","startSync","timer","diff","currentTime","mut","attributeName","indexOf","loadMedia","removedNodes","toLowerCase","stopBufferCheck","setTimeout","playPromise","undefined","duration","set","seconds","playbackRate","rate","detectChanges","Infinity","closed","startBufferCheck","bufferCheck","offset","checkBufferSubscription","seekTime","byPercent","second","newTrack","src","complete","unregisterMedia","Boolean","Directive","ChangeDetectorRef","playPause","onKeyDown","onEnterCuePoint","onUpdateCuePoint","onExitCuePoint","onCompleteCuePoint","cuesSubscriptions","totalCues","onLoad$","onLoad","cues","updateCuePoints","onEnter$","onEnter","onExit$","onExit","ngDoCheck","changes","currentVolume","changeMuteState","elementZIndex","tags","document","getElementsByTagName","parseInt","getComputedStyle","isMobileDevice","orientation","navigator","userAgent","isiOSDevice","match","isCordova","URL","vgControlsHiddenState","hideScrubBar","isSeeking","wasPlaying","hide","onHideScrubBar","seekStart","seekMove","percentage","scrollWidth","seekEnd","touchEnd","getTouchOffset","offsetLeft","element","offsetParent","touches","pageX","onMouseDownScrubBar","$event","offsetX","onMouseMoveScrubBar","onMouseUpScrubBar","onTouchStartScrubBar","onTouchMoveScrubBar","onTouchCancelScrubBar","onTouchEndScrubBar","onBitrateChange","ngOnChanges","currentValue","bitrates","bitrate","selectBitrate","index","bitrateSelected","playbackValues","playbackIndex","updatePlaybackSpeed","getPlaybackRate","master","isMasterDefined","$$getAllProperties","$$setAllProperties","$$seek","$$addTextTrack","property","nMedias","keys","firstMediaId","videogularElement","APIs","w3","enabled","request","exit","onchange","onerror","newWebkit","oldWebkit","moz","ios","ms","browser","polyfill","isAvailable","fsElemDispatcher","fsChangeSubscription","onFullscreenChange","toggleFullscreen","enterElementInFullScreen","VgBuffering","isAdsPlaying","hideControls","vgAutohide","vgAutohideTime","mouseMove$","show","touchStart$","onStartAds","onEndAds","ngAfterViewInit","clearTimeout","hideAsync","changeFullscreenState","VideoPlaylistService","http","shellModel","vg_overlay_play_1","VgOverlayPlayModule","onLoadedMetadataCalled","cuePoints","onLoadedMetadata","vgCuePoints","endTime","startTime","cuePointDuration","position","percentWidth","$$style","TextTrackCueList","routes","path","component","resolve","VideoPlaylistPageModule","vg_buffering_1","VgBufferingModule"],"mappings":"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","file":"video-playlist-video-playlist-module-ngfactory-es5.js","sourcesContent":["\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar vg_api_1 = require(\"../../../core/services/vg-api\");\nvar VgScrubBarCurrentTime = /** @class */ (function () {\n    function VgScrubBarCurrentTime(ref, API) {\n        this.API = API;\n        this.vgSlider = false;\n        this.subscriptions = [];\n        this.elem = ref.nativeElement;\n    }\n    VgScrubBarCurrentTime.prototype.ngOnInit = function () {\n        var _this = this;\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(function () { return _this.onPlayerReady(); }));\n        }\n    };\n    VgScrubBarCurrentTime.prototype.onPlayerReady = function () {\n        this.target = this.API.getMediaById(this.vgFor);\n    };\n    VgScrubBarCurrentTime.prototype.getPercentage = function () {\n        return this.target ? ((this.target.time.current * 100) / this.target.time.total) + '%' : '0%';\n    };\n    VgScrubBarCurrentTime.prototype.ngOnDestroy = function () {\n        this.subscriptions.forEach(function (s) { return s.unsubscribe(); });\n    };\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", String)\n    ], VgScrubBarCurrentTime.prototype, \"vgFor\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Object)\n    ], VgScrubBarCurrentTime.prototype, \"vgSlider\", void 0);\n    VgScrubBarCurrentTime = __decorate([\n        core_1.Component({\n            selector: 'vg-scrub-bar-current-time',\n            encapsulation: core_1.ViewEncapsulation.None,\n            template: \"<div class=\\\"background\\\" [style.width]=\\\"getPercentage()\\\"></div><span class=\\\"slider\\\" *ngIf=\\\"vgSlider\\\"></span>\",\n            styles: [\"\\n        vg-scrub-bar-current-time {\\n            display: flex;\\n            width: 100%;\\n            height: 5px;\\n            pointer-events: none;\\n            position: absolute;\\n        }\\n\\n        vg-scrub-bar-current-time .background {\\n            background-color: white;\\n        }\\n\\n        vg-controls vg-scrub-bar-current-time {\\n            position: absolute;\\n            top: calc(50% - 3px);\\n            -webkit-border-radius: 2px;\\n            -moz-border-radius: 2px;\\n            border-radius: 2px;\\n        }\\n\\n        vg-controls vg-scrub-bar-current-time .background {\\n            border: 1px solid white;\\n            -webkit-border-radius: 2px;\\n            -moz-border-radius: 2px;\\n            border-radius: 2px;\\n        }\\n        \\n        vg-scrub-bar-current-time .slider{\\n            background: white;\\n            height: 15px;\\n            width: 15px;\\n            border-radius: 50%;\\n            box-shadow: 0px 0px 10px black;\\n            margin-top: -5px;\\n            margin-left: -10px;\\n        }\\n    \"]\n        }),\n        __metadata(\"design:paramtypes\", [core_1.ElementRef, vg_api_1.VgAPI])\n    ], VgScrubBarCurrentTime);\n    return VgScrubBarCurrentTime;\n}());\nexports.VgScrubBarCurrentTime = VgScrubBarCurrentTime;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmctc2NydWItYmFyLWN1cnJlbnQtdGltZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9jb250cm9scy92Zy1zY3J1Yi1iYXIvdmctc2NydWItYmFyLWN1cnJlbnQtdGltZS92Zy1zY3J1Yi1iYXItY3VycmVudC10aW1lLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUEsc0NBQW1HO0FBQ25HLHdEQUFzRDtBQThDdEQ7SUFTSSwrQkFBWSxHQUFlLEVBQVMsR0FBVTtRQUFWLFFBQUcsR0FBSCxHQUFHLENBQU87UUFQckMsYUFBUSxHQUFHLEtBQUssQ0FBQztRQUsxQixrQkFBYSxHQUFtQixFQUFFLENBQUM7UUFHL0IsSUFBSSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsYUFBYSxDQUFDO0lBQ2xDLENBQUM7SUFFRCx3Q0FBUSxHQUFSO1FBQUEsaUJBT0M7UUFORyxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFO1lBQ3hCLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztTQUN4QjthQUNJO1lBQ0QsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLENBQUMsY0FBTSxPQUFBLEtBQUksQ0FBQyxhQUFhLEVBQUUsRUFBcEIsQ0FBb0IsQ0FBQyxDQUFDLENBQUM7U0FDNUY7SUFDTCxDQUFDO0lBRUQsNkNBQWEsR0FBYjtRQUNJLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFFRCw2Q0FBYSxHQUFiO1FBQ0ksT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxHQUFHLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO0lBQ2xHLENBQUM7SUFFRCwyQ0FBVyxHQUFYO1FBQ0ksSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxDQUFDLENBQUMsV0FBVyxFQUFFLEVBQWYsQ0FBZSxDQUFDLENBQUM7SUFDckQsQ0FBQztJQS9CUTtRQUFSLFlBQUssRUFBRTs7d0RBQWU7SUFDZDtRQUFSLFlBQUssRUFBRTs7MkRBQWtCO0lBRmpCLHFCQUFxQjtRQTNDakMsZ0JBQVMsQ0FBQztZQUNQLFFBQVEsRUFBRSwyQkFBMkI7WUFDckMsYUFBYSxFQUFFLHdCQUFpQixDQUFDLElBQUk7WUFDckMsUUFBUSxFQUFFLHFIQUE2RztZQUN2SCxNQUFNLEVBQUUsQ0FBRSxzaUNBcUNULENBQUU7U0FDTixDQUFDO3lDQVVtQixpQkFBVSxFQUFjLGNBQUs7T0FUckMscUJBQXFCLENBaUNqQztJQUFELDRCQUFDO0NBQUEsQUFqQ0QsSUFpQ0M7QUFqQ1ksc0RBQXFCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgRWxlbWVudFJlZiwgT25Jbml0LCBWaWV3RW5jYXBzdWxhdGlvbiwgT25EZXN0cm95IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBWZ0FQSSB9IGZyb20gJy4uLy4uLy4uL2NvcmUvc2VydmljZXMvdmctYXBpJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ3ZnLXNjcnViLWJhci1jdXJyZW50LXRpbWUnLFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gICAgdGVtcGxhdGU6IGA8ZGl2IGNsYXNzPVwiYmFja2dyb3VuZFwiIFtzdHlsZS53aWR0aF09XCJnZXRQZXJjZW50YWdlKClcIj48L2Rpdj48c3BhbiBjbGFzcz1cInNsaWRlclwiICpuZ0lmPVwidmdTbGlkZXJcIj48L3NwYW4+YCxcbiAgICBzdHlsZXM6IFsgYFxuICAgICAgICB2Zy1zY3J1Yi1iYXItY3VycmVudC10aW1lIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgIGhlaWdodDogNXB4O1xuICAgICAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIH1cblxuICAgICAgICB2Zy1zY3J1Yi1iYXItY3VycmVudC10aW1lIC5iYWNrZ3JvdW5kIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmctY29udHJvbHMgdmctc2NydWItYmFyLWN1cnJlbnQtdGltZSB7XG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICB0b3A6IGNhbGMoNTAlIC0gM3B4KTtcbiAgICAgICAgICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czogMnB4O1xuICAgICAgICAgICAgLW1vei1ib3JkZXItcmFkaXVzOiAycHg7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiAycHg7XG4gICAgICAgIH1cblxuICAgICAgICB2Zy1jb250cm9scyB2Zy1zY3J1Yi1iYXItY3VycmVudC10aW1lIC5iYWNrZ3JvdW5kIHtcbiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHdoaXRlO1xuICAgICAgICAgICAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAycHg7XG4gICAgICAgICAgICAtbW96LWJvcmRlci1yYWRpdXM6IDJweDtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdmctc2NydWItYmFyLWN1cnJlbnQtdGltZSAuc2xpZGVye1xuICAgICAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgICAgICAgICBoZWlnaHQ6IDE1cHg7XG4gICAgICAgICAgICB3aWR0aDogMTVweDtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IDBweCAwcHggMTBweCBibGFjaztcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IC01cHg7XG4gICAgICAgICAgICBtYXJnaW4tbGVmdDogLTEwcHg7XG4gICAgICAgIH1cbiAgICBgIF1cbn0pXG5leHBvcnQgY2xhc3MgVmdTY3J1YkJhckN1cnJlbnRUaW1lIGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3kge1xuICAgIEBJbnB1dCgpIHZnRm9yOiBzdHJpbmc7XG4gICAgQElucHV0KCkgdmdTbGlkZXIgPSBmYWxzZTtcblxuICAgIGVsZW06IEhUTUxFbGVtZW50O1xuICAgIHRhcmdldDogYW55O1xuXG4gICAgc3Vic2NyaXB0aW9uczogU3Vic2NyaXB0aW9uW10gPSBbXTtcblxuICAgIGNvbnN0cnVjdG9yKHJlZjogRWxlbWVudFJlZiwgcHVibGljIEFQSTogVmdBUEkpIHtcbiAgICAgICAgdGhpcy5lbGVtID0gcmVmLm5hdGl2ZUVsZW1lbnQ7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIGlmICh0aGlzLkFQSS5pc1BsYXllclJlYWR5KSB7XG4gICAgICAgICAgICB0aGlzLm9uUGxheWVyUmVhZHkoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKHRoaXMuQVBJLnBsYXllclJlYWR5RXZlbnQuc3Vic2NyaWJlKCgpID0+IHRoaXMub25QbGF5ZXJSZWFkeSgpKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblBsYXllclJlYWR5KCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRoaXMuQVBJLmdldE1lZGlhQnlJZCh0aGlzLnZnRm9yKTtcbiAgICB9XG5cbiAgICBnZXRQZXJjZW50YWdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50YXJnZXQgPyAoKHRoaXMudGFyZ2V0LnRpbWUuY3VycmVudCAqIDEwMCkgLyB0aGlzLnRhcmdldC50aW1lLnRvdGFsKSArICclJyA6ICcwJSc7XG4gICAgfVxuXG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5mb3JFYWNoKHMgPT4gcy51bnN1YnNjcmliZSgpKTtcbiAgICB9XG59XG4iXX0=","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar rxjs_1 = require(\"rxjs\");\nvar core_1 = require(\"@angular/core\");\nvar VgControlsHidden = /** @class */ (function () {\n    function VgControlsHidden() {\n        this.isHiddenSubject = new rxjs_1.Subject();\n        this.isHidden = this.isHiddenSubject.asObservable();\n    }\n    VgControlsHidden.prototype.state = function (hidden) {\n        this.isHiddenSubject.next(hidden);\n    };\n    VgControlsHidden = __decorate([\n        core_1.Injectable(),\n        __metadata(\"design:paramtypes\", [])\n    ], VgControlsHidden);\n    return VgControlsHidden;\n}());\nexports.VgControlsHidden = VgControlsHidden;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmctY29udHJvbHMtaGlkZGVuLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2NvcmUvc2VydmljZXMvdmctY29udHJvbHMtaGlkZGVuLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUEsNkJBQTZDO0FBQzdDLHNDQUEyQztBQUczQztJQUtJO1FBRlEsb0JBQWUsR0FBcUIsSUFBSSxjQUFPLEVBQVcsQ0FBQztRQUcvRCxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDeEQsQ0FBQztJQUVELGdDQUFLLEdBQUwsVUFBTSxNQUFlO1FBQ2pCLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3RDLENBQUM7SUFYUSxnQkFBZ0I7UUFENUIsaUJBQVUsRUFBRTs7T0FDQSxnQkFBZ0IsQ0FZNUI7SUFBRCx1QkFBQztDQUFBLEFBWkQsSUFZQztBQVpZLDRDQUFnQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN1YmplY3QgLCAgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgVmdDb250cm9sc0hpZGRlbiB7XG4gICAgaXNIaWRkZW46IE9ic2VydmFibGU8Ym9vbGVhbj47XG5cbiAgICBwcml2YXRlIGlzSGlkZGVuU3ViamVjdDogU3ViamVjdDxib29sZWFuPiA9IG5ldyBTdWJqZWN0PGJvb2xlYW4+KCk7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5pc0hpZGRlbiA9IHRoaXMuaXNIaWRkZW5TdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuICAgIH1cblxuICAgIHN0YXRlKGhpZGRlbjogYm9vbGVhbikge1xuICAgICAgICB0aGlzLmlzSGlkZGVuU3ViamVjdC5uZXh0KGhpZGRlbik7XG4gICAgfVxufVxuIl19","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar common_1 = require(\"@angular/common\");\nvar vg_controls_1 = require(\"./vg-controls\");\nvar vg_fullscreen_1 = require(\"./vg-fullscreen/vg-fullscreen\");\nvar vg_mute_1 = require(\"./vg-mute/vg-mute\");\nvar vg_volume_1 = require(\"./vg-volume/vg-volume\");\nvar vg_play_pause_1 = require(\"./vg-play-pause/vg-play-pause\");\nvar vg_playback_button_1 = require(\"./vg-playback-button/vg-playback-button\");\nvar vg_scrub_bar_1 = require(\"./vg-scrub-bar/vg-scrub-bar\");\nvar vg_scrub_bar_buffering_time_1 = require(\"./vg-scrub-bar/vg-scrub-bar-buffering-time/vg-scrub-bar-buffering-time\");\nvar vg_scrub_bar_cue_points_1 = require(\"./vg-scrub-bar/vg-scrub-bar-cue-points/vg-scrub-bar-cue-points\");\nvar vg_scrub_bar_current_time_1 = require(\"./vg-scrub-bar/vg-scrub-bar-current-time/vg-scrub-bar-current-time\");\nvar vg_time_display_1 = require(\"./vg-time-display/vg-time-display\");\nvar vg_track_selector_1 = require(\"./vg-track-selector/vg-track-selector\");\nvar vg_controls_hidden_1 = require(\"../core/services/vg-controls-hidden\");\nvar vg_quality_selector_1 = require(\"./vg-quality-selector/vg-quality-selector\");\nvar VgControlsModule = /** @class */ (function () {\n    function VgControlsModule() {\n    }\n    VgControlsModule = __decorate([\n        core_1.NgModule({\n            imports: [common_1.CommonModule],\n            declarations: [\n                vg_controls_1.VgControls,\n                vg_fullscreen_1.VgFullscreen,\n                vg_mute_1.VgMute,\n                vg_volume_1.VgVolume,\n                vg_play_pause_1.VgPlayPause,\n                vg_playback_button_1.VgPlaybackButton,\n                vg_scrub_bar_1.VgScrubBar,\n                vg_scrub_bar_buffering_time_1.VgScrubBarBufferingTime,\n                vg_scrub_bar_cue_points_1.VgScrubBarCuePoints,\n                vg_scrub_bar_current_time_1.VgScrubBarCurrentTime,\n                vg_time_display_1.VgTimeDisplay,\n                vg_time_display_1.VgUtcPipe,\n                vg_track_selector_1.VgTrackSelector,\n                vg_quality_selector_1.VgQualitySelector\n            ],\n            exports: [\n                vg_controls_1.VgControls,\n                vg_fullscreen_1.VgFullscreen,\n                vg_mute_1.VgMute,\n                vg_volume_1.VgVolume,\n                vg_play_pause_1.VgPlayPause,\n                vg_playback_button_1.VgPlaybackButton,\n                vg_scrub_bar_1.VgScrubBar,\n                vg_scrub_bar_buffering_time_1.VgScrubBarBufferingTime,\n                vg_scrub_bar_cue_points_1.VgScrubBarCuePoints,\n                vg_scrub_bar_current_time_1.VgScrubBarCurrentTime,\n                vg_time_display_1.VgTimeDisplay,\n                vg_time_display_1.VgUtcPipe,\n                vg_track_selector_1.VgTrackSelector,\n                vg_quality_selector_1.VgQualitySelector\n            ],\n            providers: [vg_controls_hidden_1.VgControlsHidden]\n        })\n    ], VgControlsModule);\n    return VgControlsModule;\n}());\nexports.VgControlsModule = VgControlsModule;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udHJvbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvY29udHJvbHMvY29udHJvbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxzQ0FBeUM7QUFDekMsMENBQStDO0FBQy9DLDZDQUEyQztBQUMzQywrREFBNkQ7QUFDN0QsNkNBQTJDO0FBQzNDLG1EQUFpRDtBQUNqRCwrREFBNEQ7QUFDNUQsOEVBQTJFO0FBQzNFLDREQUF5RDtBQUN6RCxzSEFBaUg7QUFDakgsMEdBQXFHO0FBQ3JHLGdIQUEyRztBQUMzRyxxRUFBNkU7QUFDN0UsMkVBQXdFO0FBQ3hFLDBFQUF1RTtBQUN2RSxpRkFBOEU7QUFzQzlFO0lBQUE7SUFDQSxDQUFDO0lBRFksZ0JBQWdCO1FBcEM1QixlQUFRLENBQUM7WUFDTixPQUFPLEVBQUUsQ0FBRSxxQkFBWSxDQUFFO1lBQ3pCLFlBQVksRUFBRTtnQkFDVix3QkFBVTtnQkFDViw0QkFBWTtnQkFDWixnQkFBTTtnQkFDTixvQkFBUTtnQkFDUiwyQkFBVztnQkFDWCxxQ0FBZ0I7Z0JBQ2hCLHlCQUFVO2dCQUNWLHFEQUF1QjtnQkFDdkIsNkNBQW1CO2dCQUNuQixpREFBcUI7Z0JBQ3JCLCtCQUFhO2dCQUNiLDJCQUFTO2dCQUNULG1DQUFlO2dCQUNmLHVDQUFpQjthQUNwQjtZQUNELE9BQU8sRUFBRTtnQkFDTCx3QkFBVTtnQkFDViw0QkFBWTtnQkFDWixnQkFBTTtnQkFDTixvQkFBUTtnQkFDUiwyQkFBVztnQkFDWCxxQ0FBZ0I7Z0JBQ2hCLHlCQUFVO2dCQUNWLHFEQUF1QjtnQkFDdkIsNkNBQW1CO2dCQUNuQixpREFBcUI7Z0JBQ3JCLCtCQUFhO2dCQUNiLDJCQUFTO2dCQUNULG1DQUFlO2dCQUNmLHVDQUFpQjthQUNwQjtZQUNELFNBQVMsRUFBRSxDQUFFLHFDQUFnQixDQUFFO1NBQ2xDLENBQUM7T0FDVyxnQkFBZ0IsQ0FDNUI7SUFBRCx1QkFBQztDQUFBLEFBREQsSUFDQztBQURZLDRDQUFnQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgVmdDb250cm9scyB9IGZyb20gJy4vdmctY29udHJvbHMnO1xuaW1wb3J0IHsgVmdGdWxsc2NyZWVuIH0gZnJvbSAnLi92Zy1mdWxsc2NyZWVuL3ZnLWZ1bGxzY3JlZW4nO1xuaW1wb3J0IHsgVmdNdXRlIH0gZnJvbSAnLi92Zy1tdXRlL3ZnLW11dGUnO1xuaW1wb3J0IHsgVmdWb2x1bWUgfSBmcm9tICcuL3ZnLXZvbHVtZS92Zy12b2x1bWUnO1xuaW1wb3J0IHsgVmdQbGF5UGF1c2UgfSBmcm9tICcuL3ZnLXBsYXktcGF1c2UvdmctcGxheS1wYXVzZSc7XG5pbXBvcnQgeyBWZ1BsYXliYWNrQnV0dG9uIH0gZnJvbSAnLi92Zy1wbGF5YmFjay1idXR0b24vdmctcGxheWJhY2stYnV0dG9uJztcbmltcG9ydCB7IFZnU2NydWJCYXIgfSBmcm9tICcuL3ZnLXNjcnViLWJhci92Zy1zY3J1Yi1iYXInO1xuaW1wb3J0IHsgVmdTY3J1YkJhckJ1ZmZlcmluZ1RpbWUgfSBmcm9tICcuL3ZnLXNjcnViLWJhci92Zy1zY3J1Yi1iYXItYnVmZmVyaW5nLXRpbWUvdmctc2NydWItYmFyLWJ1ZmZlcmluZy10aW1lJztcbmltcG9ydCB7IFZnU2NydWJCYXJDdWVQb2ludHMgfSBmcm9tICcuL3ZnLXNjcnViLWJhci92Zy1zY3J1Yi1iYXItY3VlLXBvaW50cy92Zy1zY3J1Yi1iYXItY3VlLXBvaW50cyc7XG5pbXBvcnQgeyBWZ1NjcnViQmFyQ3VycmVudFRpbWUgfSBmcm9tICcuL3ZnLXNjcnViLWJhci92Zy1zY3J1Yi1iYXItY3VycmVudC10aW1lL3ZnLXNjcnViLWJhci1jdXJyZW50LXRpbWUnO1xuaW1wb3J0IHsgVmdUaW1lRGlzcGxheSwgVmdVdGNQaXBlIH0gZnJvbSAnLi92Zy10aW1lLWRpc3BsYXkvdmctdGltZS1kaXNwbGF5JztcbmltcG9ydCB7IFZnVHJhY2tTZWxlY3RvciB9IGZyb20gJy4vdmctdHJhY2stc2VsZWN0b3IvdmctdHJhY2stc2VsZWN0b3InO1xuaW1wb3J0IHsgVmdDb250cm9sc0hpZGRlbiB9IGZyb20gJy4uL2NvcmUvc2VydmljZXMvdmctY29udHJvbHMtaGlkZGVuJztcbmltcG9ydCB7IFZnUXVhbGl0eVNlbGVjdG9yIH0gZnJvbSAnLi92Zy1xdWFsaXR5LXNlbGVjdG9yL3ZnLXF1YWxpdHktc2VsZWN0b3InO1xuXG5ATmdNb2R1bGUoe1xuICAgIGltcG9ydHM6IFsgQ29tbW9uTW9kdWxlIF0sXG4gICAgZGVjbGFyYXRpb25zOiBbXG4gICAgICAgIFZnQ29udHJvbHMsXG4gICAgICAgIFZnRnVsbHNjcmVlbixcbiAgICAgICAgVmdNdXRlLFxuICAgICAgICBWZ1ZvbHVtZSxcbiAgICAgICAgVmdQbGF5UGF1c2UsXG4gICAgICAgIFZnUGxheWJhY2tCdXR0b24sXG4gICAgICAgIFZnU2NydWJCYXIsXG4gICAgICAgIFZnU2NydWJCYXJCdWZmZXJpbmdUaW1lLFxuICAgICAgICBWZ1NjcnViQmFyQ3VlUG9pbnRzLFxuICAgICAgICBWZ1NjcnViQmFyQ3VycmVudFRpbWUsXG4gICAgICAgIFZnVGltZURpc3BsYXksXG4gICAgICAgIFZnVXRjUGlwZSxcbiAgICAgICAgVmdUcmFja1NlbGVjdG9yLFxuICAgICAgICBWZ1F1YWxpdHlTZWxlY3RvclxuICAgIF0sXG4gICAgZXhwb3J0czogW1xuICAgICAgICBWZ0NvbnRyb2xzLFxuICAgICAgICBWZ0Z1bGxzY3JlZW4sXG4gICAgICAgIFZnTXV0ZSxcbiAgICAgICAgVmdWb2x1bWUsXG4gICAgICAgIFZnUGxheVBhdXNlLFxuICAgICAgICBWZ1BsYXliYWNrQnV0dG9uLFxuICAgICAgICBWZ1NjcnViQmFyLFxuICAgICAgICBWZ1NjcnViQmFyQnVmZmVyaW5nVGltZSxcbiAgICAgICAgVmdTY3J1YkJhckN1ZVBvaW50cyxcbiAgICAgICAgVmdTY3J1YkJhckN1cnJlbnRUaW1lLFxuICAgICAgICBWZ1RpbWVEaXNwbGF5LFxuICAgICAgICBWZ1V0Y1BpcGUsXG4gICAgICAgIFZnVHJhY2tTZWxlY3RvcixcbiAgICAgICAgVmdRdWFsaXR5U2VsZWN0b3JcbiAgICBdLFxuICAgIHByb3ZpZGVyczogWyBWZ0NvbnRyb2xzSGlkZGVuIF1cbn0pXG5leHBvcnQgY2xhc3MgVmdDb250cm9sc01vZHVsZSB7XG59XG4iXX0=","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar VgStates = /** @class */ (function () {\n    function VgStates() {\n    }\n    VgStates.VG_ENDED = 'ended';\n    VgStates.VG_PAUSED = 'paused';\n    VgStates.VG_PLAYING = 'playing';\n    VgStates.VG_LOADING = 'waiting';\n    VgStates = __decorate([\n        core_1.Injectable()\n    ], VgStates);\n    return VgStates;\n}());\nexports.VgStates = VgStates;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmctc3RhdGVzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2NvcmUvc3RhdGVzL3ZnLXN0YXRlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLHNDQUF5QztBQUd6QztJQUFBO0lBS0EsQ0FBQztJQUpVLGlCQUFRLEdBQUcsT0FBTyxDQUFDO0lBQ25CLGtCQUFTLEdBQUcsUUFBUSxDQUFDO0lBQ3JCLG1CQUFVLEdBQUcsU0FBUyxDQUFDO0lBQ3ZCLG1CQUFVLEdBQUcsU0FBUyxDQUFDO0lBSnJCLFFBQVE7UUFEcEIsaUJBQVUsRUFBRTtPQUNBLFFBQVEsQ0FLcEI7SUFBRCxlQUFDO0NBQUEsQUFMRCxJQUtDO0FBTFksNEJBQVEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0luamVjdGFibGV9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgVmdTdGF0ZXMge1xuICAgIHN0YXRpYyBWR19FTkRFRCA9ICdlbmRlZCc7XG4gICAgc3RhdGljIFZHX1BBVVNFRCA9ICdwYXVzZWQnO1xuICAgIHN0YXRpYyBWR19QTEFZSU5HID0gJ3BsYXlpbmcnO1xuICAgIHN0YXRpYyBWR19MT0FESU5HID0gJ3dhaXRpbmcnO1xufVxuIl19","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar VgEvents = /** @class */ (function () {\n    function VgEvents() {\n    }\n    VgEvents.VG_ABORT = 'abort';\n    VgEvents.VG_CAN_PLAY = 'canplay';\n    VgEvents.VG_CAN_PLAY_THROUGH = 'canplaythrough';\n    VgEvents.VG_DURATION_CHANGE = 'durationchange';\n    VgEvents.VG_EMPTIED = 'emptied';\n    VgEvents.VG_ENCRYPTED = 'encrypted';\n    VgEvents.VG_ENDED = 'ended';\n    VgEvents.VG_ERROR = 'error';\n    VgEvents.VG_LOADED_DATA = 'loadeddata';\n    VgEvents.VG_LOADED_METADATA = 'loadedmetadata';\n    VgEvents.VG_LOAD_START = 'loadstart';\n    VgEvents.VG_PAUSE = 'pause';\n    VgEvents.VG_PLAY = 'play';\n    VgEvents.VG_PLAYING = 'playing';\n    VgEvents.VG_PROGRESS = 'progress';\n    VgEvents.VG_RATE_CHANGE = 'ratechange';\n    VgEvents.VG_SEEK = 'seek';\n    VgEvents.VG_SEEKED = 'seeked';\n    VgEvents.VG_SEEKING = 'seeking';\n    VgEvents.VG_STALLED = 'stalled';\n    VgEvents.VG_SUSPEND = 'suspend';\n    VgEvents.VG_TIME_UPDATE = 'timeupdate';\n    VgEvents.VG_VOLUME_CHANGE = 'volumechange';\n    VgEvents.VG_WAITING = 'waiting';\n    VgEvents.VG_LOAD = 'load';\n    VgEvents.VG_ENTER = 'enter';\n    VgEvents.VG_EXIT = 'exit';\n    VgEvents.VG_START_ADS = 'startads';\n    VgEvents.VG_END_ADS = 'endads';\n    VgEvents = __decorate([\n        core_1.Injectable()\n    ], VgEvents);\n    return VgEvents;\n}());\nexports.VgEvents = VgEvents;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmctZXZlbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2NvcmUvZXZlbnRzL3ZnLWV2ZW50cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLHNDQUF5QztBQUd6QztJQUFBO0lBZ0NBLENBQUM7SUEvQlUsaUJBQVEsR0FBRyxPQUFPLENBQUM7SUFDbkIsb0JBQVcsR0FBRyxTQUFTLENBQUM7SUFDeEIsNEJBQW1CLEdBQUcsZ0JBQWdCLENBQUM7SUFDdkMsMkJBQWtCLEdBQUcsZ0JBQWdCLENBQUM7SUFDdEMsbUJBQVUsR0FBRyxTQUFTLENBQUM7SUFDdkIscUJBQVksR0FBRyxXQUFXLENBQUM7SUFDM0IsaUJBQVEsR0FBRyxPQUFPLENBQUM7SUFDbkIsaUJBQVEsR0FBRyxPQUFPLENBQUM7SUFDbkIsdUJBQWMsR0FBRyxZQUFZLENBQUM7SUFDOUIsMkJBQWtCLEdBQUcsZ0JBQWdCLENBQUM7SUFDdEMsc0JBQWEsR0FBRyxXQUFXLENBQUM7SUFDNUIsaUJBQVEsR0FBRyxPQUFPLENBQUM7SUFDbkIsZ0JBQU8sR0FBRyxNQUFNLENBQUM7SUFDakIsbUJBQVUsR0FBRyxTQUFTLENBQUM7SUFDdkIsb0JBQVcsR0FBRyxVQUFVLENBQUM7SUFDekIsdUJBQWMsR0FBRyxZQUFZLENBQUM7SUFDOUIsZ0JBQU8sR0FBRyxNQUFNLENBQUM7SUFDakIsa0JBQVMsR0FBRyxRQUFRLENBQUM7SUFDckIsbUJBQVUsR0FBRyxTQUFTLENBQUM7SUFDdkIsbUJBQVUsR0FBRyxTQUFTLENBQUM7SUFDdkIsbUJBQVUsR0FBRyxTQUFTLENBQUM7SUFDdkIsdUJBQWMsR0FBRyxZQUFZLENBQUM7SUFDOUIseUJBQWdCLEdBQUcsY0FBYyxDQUFDO0lBQ2xDLG1CQUFVLEdBQUcsU0FBUyxDQUFDO0lBRXZCLGdCQUFPLEdBQUcsTUFBTSxDQUFDO0lBQ2pCLGlCQUFRLEdBQUcsT0FBTyxDQUFDO0lBQ25CLGdCQUFPLEdBQUcsTUFBTSxDQUFDO0lBRWpCLHFCQUFZLEdBQUcsVUFBVSxDQUFDO0lBQzFCLG1CQUFVLEdBQUcsUUFBUSxDQUFDO0lBL0JwQixRQUFRO1FBRHBCLGlCQUFVLEVBQUU7T0FDQSxRQUFRLENBZ0NwQjtJQUFELGVBQUM7Q0FBQSxBQWhDRCxJQWdDQztBQWhDWSw0QkFBUSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7SW5qZWN0YWJsZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBWZ0V2ZW50cyB7XG4gICAgc3RhdGljIFZHX0FCT1JUID0gJ2Fib3J0JztcbiAgICBzdGF0aWMgVkdfQ0FOX1BMQVkgPSAnY2FucGxheSc7XG4gICAgc3RhdGljIFZHX0NBTl9QTEFZX1RIUk9VR0ggPSAnY2FucGxheXRocm91Z2gnO1xuICAgIHN0YXRpYyBWR19EVVJBVElPTl9DSEFOR0UgPSAnZHVyYXRpb25jaGFuZ2UnO1xuICAgIHN0YXRpYyBWR19FTVBUSUVEID0gJ2VtcHRpZWQnO1xuICAgIHN0YXRpYyBWR19FTkNSWVBURUQgPSAnZW5jcnlwdGVkJztcbiAgICBzdGF0aWMgVkdfRU5ERUQgPSAnZW5kZWQnO1xuICAgIHN0YXRpYyBWR19FUlJPUiA9ICdlcnJvcic7XG4gICAgc3RhdGljIFZHX0xPQURFRF9EQVRBID0gJ2xvYWRlZGRhdGEnO1xuICAgIHN0YXRpYyBWR19MT0FERURfTUVUQURBVEEgPSAnbG9hZGVkbWV0YWRhdGEnO1xuICAgIHN0YXRpYyBWR19MT0FEX1NUQVJUID0gJ2xvYWRzdGFydCc7XG4gICAgc3RhdGljIFZHX1BBVVNFID0gJ3BhdXNlJztcbiAgICBzdGF0aWMgVkdfUExBWSA9ICdwbGF5JztcbiAgICBzdGF0aWMgVkdfUExBWUlORyA9ICdwbGF5aW5nJztcbiAgICBzdGF0aWMgVkdfUFJPR1JFU1MgPSAncHJvZ3Jlc3MnO1xuICAgIHN0YXRpYyBWR19SQVRFX0NIQU5HRSA9ICdyYXRlY2hhbmdlJztcbiAgICBzdGF0aWMgVkdfU0VFSyA9ICdzZWVrJztcbiAgICBzdGF0aWMgVkdfU0VFS0VEID0gJ3NlZWtlZCc7XG4gICAgc3RhdGljIFZHX1NFRUtJTkcgPSAnc2Vla2luZyc7XG4gICAgc3RhdGljIFZHX1NUQUxMRUQgPSAnc3RhbGxlZCc7XG4gICAgc3RhdGljIFZHX1NVU1BFTkQgPSAnc3VzcGVuZCc7XG4gICAgc3RhdGljIFZHX1RJTUVfVVBEQVRFID0gJ3RpbWV1cGRhdGUnO1xuICAgIHN0YXRpYyBWR19WT0xVTUVfQ0hBTkdFID0gJ3ZvbHVtZWNoYW5nZSc7XG4gICAgc3RhdGljIFZHX1dBSVRJTkcgPSAnd2FpdGluZyc7XG4gICAgXG4gICAgc3RhdGljIFZHX0xPQUQgPSAnbG9hZCc7XG4gICAgc3RhdGljIFZHX0VOVEVSID0gJ2VudGVyJztcbiAgICBzdGF0aWMgVkdfRVhJVCA9ICdleGl0JztcblxuICAgIHN0YXRpYyBWR19TVEFSVF9BRFMgPSAnc3RhcnRhZHMnO1xuICAgIHN0YXRpYyBWR19FTkRfQURTID0gJ2VuZGFkcyc7XG59XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar VgMediaElement = /** @class */ (function () {\n    function VgMediaElement() {\n    }\n    Object.defineProperty(VgMediaElement.prototype, \"audioTracks\", {\n        get: function () { return null; },\n        enumerable: true,\n        configurable: true\n    });\n    // @ts-ignore\n    VgMediaElement.prototype.addTextTrack = function (kind, label, language) {\n        return null;\n    };\n    // @ts-ignore\n    VgMediaElement.prototype.canPlayType = function (type) {\n        return null;\n    };\n    VgMediaElement.prototype.load = function () {\n    };\n    VgMediaElement.prototype.msClearEffects = function () {\n    };\n    VgMediaElement.prototype.msGetAsCastingSource = function () {\n        return null;\n    };\n    // @ts-ignore\n    VgMediaElement.prototype.msInsertAudioEffect = function (activatableClassId, effectRequired, config) {\n    };\n    // @ts-ignore\n    VgMediaElement.prototype.msSetMediaKeys = function (mediaKeys) {\n    };\n    // @ts-ignore\n    VgMediaElement.prototype.msSetMediaProtectionManager = function (mediaProtectionManager) {\n    };\n    VgMediaElement.prototype.pause = function () {\n    };\n    VgMediaElement.prototype.play = function () {\n        return null;\n    };\n    // @ts-ignore\n    VgMediaElement.prototype.setMediaKeys = function (mediaKeys) {\n        return null;\n    };\n    // @ts-ignore\n    VgMediaElement.prototype.addEventListener = function (type, listener, useCapture) {\n    };\n    return VgMediaElement;\n}());\nexports.VgMediaElement = VgMediaElement;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmctbWVkaWEtZWxlbWVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jb3JlL3ZnLW1lZGlhL3ZnLW1lZGlhLWVsZW1lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFFQTtJQUFBO0lBNEZBLENBQUM7SUF6Rkcsc0JBQUksdUNBQVc7YUFBZixjQUFvQyxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUM7OztPQUFBO0lBZ0RsRCxhQUFhO0lBQ2IscUNBQVksR0FBWixVQUFhLElBQVksRUFBRSxLQUFjLEVBQUUsUUFBaUI7UUFDeEQsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUNELGFBQWE7SUFDYixvQ0FBVyxHQUFYLFVBQVksSUFBWTtRQUNwQixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsNkJBQUksR0FBSjtJQUNBLENBQUM7SUFFRCx1Q0FBYyxHQUFkO0lBQ0EsQ0FBQztJQUVELDZDQUFvQixHQUFwQjtRQUNJLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFDRCxhQUFhO0lBQ2IsNENBQW1CLEdBQW5CLFVBQW9CLGtCQUEwQixFQUFFLGNBQXVCLEVBQUUsTUFBWTtJQUNyRixDQUFDO0lBQ0QsYUFBYTtJQUNiLHVDQUFjLEdBQWQsVUFBZSxTQUFzQjtJQUNyQyxDQUFDO0lBQ0QsYUFBYTtJQUNiLG9EQUEyQixHQUEzQixVQUE0QixzQkFBNEI7SUFDeEQsQ0FBQztJQUVELDhCQUFLLEdBQUw7SUFDQSxDQUFDO0lBRUQsNkJBQUksR0FBSjtRQUNJLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFDRCxhQUFhO0lBQ2IscUNBQVksR0FBWixVQUFhLFNBQTBCO1FBQ25DLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFDRCxhQUFhO0lBQ2IseUNBQWdCLEdBQWhCLFVBQWlCLElBQVksRUFBRSxRQUE0QyxFQUFFLFVBQW9CO0lBQ2pHLENBQUM7SUFDTCxxQkFBQztBQUFELENBQUMsQUE1RkQsSUE0RkM7QUE1Rlksd0NBQWMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJTWVkaWFFbGVtZW50IH0gZnJvbSAnLi9pLW1lZGlhLWVsZW1lbnQnO1xuXG5leHBvcnQgY2xhc3MgVmdNZWRpYUVsZW1lbnQgaW1wbGVtZW50cyBJTWVkaWFFbGVtZW50IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIGVsZW06IGFueTtcbiAgICBnZXQgYXVkaW9UcmFja3MoKTogQXVkaW9UcmFja0xpc3QgeyByZXR1cm4gbnVsbDsgfVxuICAgIGF1dG9wbGF5OiBib29sZWFuO1xuICAgIGJ1ZmZlcmVkOiBUaW1lUmFuZ2VzO1xuICAgIGNvbnRyb2xzOiBib29sZWFuO1xuICAgIGNyb3NzT3JpZ2luOiBzdHJpbmcgfCBhbnk7XG4gICAgY3VycmVudFNyYzogc3RyaW5nO1xuICAgIGN1cnJlbnRUaW1lOiBudW1iZXI7XG4gICAgZGVmYXVsdE11dGVkOiBib29sZWFuO1xuICAgIGRlZmF1bHRQbGF5YmFja1JhdGU6IG51bWJlcjtcbiAgICBkdXJhdGlvbjogbnVtYmVyO1xuICAgIGVuZGVkOiBib29sZWFuO1xuICAgIGVycm9yOiBNZWRpYUVycm9yO1xuICAgIGxvb3A6IGJvb2xlYW47XG4gICAgbWVkaWFLZXlzOiBNZWRpYUtleXMgfCBhbnk7XG4gICAgbXNBdWRpb0NhdGVnb3J5OiBzdHJpbmc7XG4gICAgbXNBdWRpb0RldmljZVR5cGU6IHN0cmluZztcbiAgICBtc0dyYXBoaWNzVHJ1c3RTdGF0dXM6IE1TR3JhcGhpY3NUcnVzdDtcbiAgICBtc0tleXM6IE1TTWVkaWFLZXlzO1xuICAgIG1zUGxheVRvRGlzYWJsZWQ6IGJvb2xlYW47XG4gICAgbXNQbGF5VG9QcmVmZXJyZWRTb3VyY2VVcmk6IHN0cmluZztcbiAgICBtc1BsYXlUb1ByaW1hcnk6IGJvb2xlYW47XG4gICAgbXNQbGF5VG9Tb3VyY2U6IGFueTtcbiAgICBtc1JlYWxUaW1lOiBib29sZWFuO1xuICAgIG11dGVkOiBib29sZWFuO1xuICAgIG5ldHdvcmtTdGF0ZTogbnVtYmVyO1xuICAgIG9uZW5jcnlwdGVkOiAoZXY6IE1lZGlhRW5jcnlwdGVkRXZlbnQpID0+IGFueTtcbiAgICBvbm1zbmVlZGtleTogKGV2OiBNU01lZGlhS2V5TmVlZGVkRXZlbnQpID0+IGFueTtcbiAgICBwYXVzZWQ6IGJvb2xlYW47XG4gICAgcGxheWJhY2tSYXRlOiBudW1iZXI7XG4gICAgcGxheWVkOiBUaW1lUmFuZ2VzO1xuICAgIHByZWxvYWQ6IHN0cmluZztcbiAgICByZWFkeVN0YXRlOiBudW1iZXI7XG4gICAgc2Vla2FibGU6IFRpbWVSYW5nZXM7XG4gICAgc2Vla2luZzogYm9vbGVhbjtcbiAgICBzcmM6IHN0cmluZztcbiAgICBzcmNPYmplY3Q6IE1lZGlhU3RyZWFtIHwgYW55O1xuICAgIHRleHRUcmFja3M6IFRleHRUcmFja0xpc3Q7XG4gICAgdmlkZW9UcmFja3M6IFZpZGVvVHJhY2tMaXN0O1xuICAgIHZvbHVtZTogbnVtYmVyO1xuICAgIEhBVkVfQ1VSUkVOVF9EQVRBOiBudW1iZXI7XG4gICAgSEFWRV9FTk9VR0hfREFUQTogbnVtYmVyO1xuICAgIEhBVkVfRlVUVVJFX0RBVEE6IG51bWJlcjtcbiAgICBIQVZFX01FVEFEQVRBOiBudW1iZXI7XG4gICAgSEFWRV9OT1RISU5HOiBudW1iZXI7XG4gICAgTkVUV09SS19FTVBUWTogbnVtYmVyO1xuICAgIE5FVFdPUktfSURMRTogbnVtYmVyO1xuICAgIE5FVFdPUktfTE9BRElORzogbnVtYmVyO1xuICAgIE5FVFdPUktfTk9fU09VUkNFOiBudW1iZXI7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGFkZFRleHRUcmFjayhraW5kOiBzdHJpbmcsIGxhYmVsPzogc3RyaW5nLCBsYW5ndWFnZT86IHN0cmluZyk6IFRleHRUcmFjayB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgY2FuUGxheVR5cGUodHlwZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgbG9hZCgpOiB2b2lkIHtcbiAgICB9XG5cbiAgICBtc0NsZWFyRWZmZWN0cygpOiB2b2lkIHtcbiAgICB9XG5cbiAgICBtc0dldEFzQ2FzdGluZ1NvdXJjZSgpOiBhbnkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIG1zSW5zZXJ0QXVkaW9FZmZlY3QoYWN0aXZhdGFibGVDbGFzc0lkOiBzdHJpbmcsIGVmZmVjdFJlcXVpcmVkOiBib29sZWFuLCBjb25maWc/OiBhbnkpOiB2b2lkIHtcbiAgICB9XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIG1zU2V0TWVkaWFLZXlzKG1lZGlhS2V5czogTVNNZWRpYUtleXMpOiB2b2lkIHtcbiAgICB9XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIG1zU2V0TWVkaWFQcm90ZWN0aW9uTWFuYWdlcihtZWRpYVByb3RlY3Rpb25NYW5hZ2VyPzogYW55KTogdm9pZCB7XG4gICAgfVxuXG4gICAgcGF1c2UoKTogdm9pZCB7XG4gICAgfVxuXG4gICAgcGxheSgpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHNldE1lZGlhS2V5cyhtZWRpYUtleXM6IE1lZGlhS2V5cyB8IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGFkZEV2ZW50TGlzdGVuZXIodHlwZTogc3RyaW5nLCBsaXN0ZW5lcjogRXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdCwgdXNlQ2FwdHVyZT86IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB9XG59XG4iXX0=","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar vg_api_1 = require(\"../../core/services/vg-api\");\nvar VgVolume = /** @class */ (function () {\n    function VgVolume(ref, API) {\n        this.API = API;\n        this.subscriptions = [];\n        this.elem = ref.nativeElement;\n        this.isDragging = false;\n    }\n    VgVolume.prototype.ngOnInit = function () {\n        var _this = this;\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(function () { return _this.onPlayerReady(); }));\n        }\n    };\n    VgVolume.prototype.onPlayerReady = function () {\n        this.target = this.API.getMediaById(this.vgFor);\n        this.ariaValue = this.getVolume() * 100;\n    };\n    VgVolume.prototype.onClick = function (event) {\n        this.setVolume(this.calculateVolume(event.clientX));\n    };\n    VgVolume.prototype.onMouseDown = function (event) {\n        this.mouseDownPosX = event.clientX;\n        this.isDragging = true;\n    };\n    VgVolume.prototype.onDrag = function (event) {\n        if (this.isDragging) {\n            this.setVolume(this.calculateVolume(event.clientX));\n        }\n    };\n    VgVolume.prototype.onStopDrag = function (event) {\n        if (this.isDragging) {\n            this.isDragging = false;\n            if (this.mouseDownPosX === event.clientX) {\n                this.setVolume(this.calculateVolume(event.clientX));\n            }\n        }\n    };\n    VgVolume.prototype.arrowAdjustVolume = function (event) {\n        if (event.keyCode === 38 || event.keyCode === 39) {\n            event.preventDefault();\n            this.setVolume(Math.max(0, Math.min(100, this.getVolume() * 100 + 10)));\n        }\n        else if (event.keyCode === 37 || event.keyCode === 40) {\n            event.preventDefault();\n            this.setVolume(Math.max(0, Math.min(100, this.getVolume() * 100 - 10)));\n        }\n    };\n    VgVolume.prototype.calculateVolume = function (mousePosX) {\n        var recObj = this.volumeBarRef.nativeElement.getBoundingClientRect();\n        var volumeBarOffsetLeft = recObj.left;\n        var volumeBarWidth = recObj.width;\n        return (mousePosX - volumeBarOffsetLeft) / volumeBarWidth * 100;\n    };\n    VgVolume.prototype.setVolume = function (vol) {\n        this.target.volume = Math.max(0, Math.min(1, vol / 100));\n        this.ariaValue = this.target.volume * 100;\n    };\n    VgVolume.prototype.getVolume = function () {\n        return this.target ? this.target.volume : 0;\n    };\n    VgVolume.prototype.ngOnDestroy = function () {\n        this.subscriptions.forEach(function (s) { return s.unsubscribe(); });\n    };\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", String)\n    ], VgVolume.prototype, \"vgFor\", void 0);\n    __decorate([\n        core_1.ViewChild('volumeBar', { static: true }),\n        __metadata(\"design:type\", core_1.ElementRef)\n    ], VgVolume.prototype, \"volumeBarRef\", void 0);\n    __decorate([\n        core_1.HostListener('document:mousemove', ['$event']),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", [Object]),\n        __metadata(\"design:returntype\", void 0)\n    ], VgVolume.prototype, \"onDrag\", null);\n    __decorate([\n        core_1.HostListener('document:mouseup', ['$event']),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", [Object]),\n        __metadata(\"design:returntype\", void 0)\n    ], VgVolume.prototype, \"onStopDrag\", null);\n    __decorate([\n        core_1.HostListener('keydown', ['$event']),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", [KeyboardEvent]),\n        __metadata(\"design:returntype\", void 0)\n    ], VgVolume.prototype, \"arrowAdjustVolume\", null);\n    VgVolume = __decorate([\n        core_1.Component({\n            selector: 'vg-volume',\n            encapsulation: core_1.ViewEncapsulation.None,\n            template: \"\\n        <div\\n            #volumeBar\\n            class=\\\"volumeBar\\\"\\n            tabindex=\\\"0\\\"\\n            role=\\\"slider\\\"\\n            aria-label=\\\"volume level\\\"\\n            aria-level=\\\"polite\\\"\\n            [attr.aria-valuenow]=\\\"ariaValue\\\"\\n            aria-valuemin=\\\"0\\\"\\n            aria-valuemax=\\\"100\\\"\\n            aria-orientation=\\\"horizontal\\\"\\n            [attr.aria-valuetext]=\\\"ariaValue + '%'\\\"\\n            (click)=\\\"onClick($event)\\\"\\n            (mousedown)=\\\"onMouseDown($event)\\\">\\n            <div class=\\\"volumeBackground\\\" [ngClass]=\\\"{dragging: isDragging}\\\">\\n                <div class=\\\"volumeValue\\\" [style.width]=\\\"(getVolume() * (100-15)) + '%'\\\"></div>\\n                <div class=\\\"volumeKnob\\\" [style.left]=\\\"(getVolume() * (100-15)) + '%'\\\"></div>\\n            </div>\\n        </div>\\n    \",\n            styles: [\n                \"\\n        vg-volume {\\n            -webkit-touch-callout: none;\\n            -webkit-user-select: none;\\n            -moz-user-select: none;\\n            -ms-user-select: none;\\n            user-select: none;\\n            display: flex;\\n            justify-content: center;\\n            height: 50px;\\n            width: 100px;\\n            cursor: pointer;\\n            color: white;\\n            line-height: 50px;\\n        }\\n        vg-volume .volumeBar {\\n            position: relative;\\n            display: flex;\\n            flex-grow: 1;\\n            align-items: center;\\n        }\\n        vg-volume .volumeBackground {\\n            display: flex;\\n            flex-grow: 1;\\n            height: 5px;\\n            pointer-events: none;\\n            background-color: #333;\\n        }\\n        vg-volume .volumeValue {\\n            display: flex;\\n            height: 5px;\\n            pointer-events: none;\\n            background-color: #FFF;\\n            transition:all 0.2s ease-out;\\n        }\\n        vg-volume .volumeKnob {\\n            position: absolute;\\n            width: 15px; height: 15px;\\n            left: 0; top: 50%;\\n            transform: translateY(-50%);\\n            border-radius: 15px;\\n            pointer-events: none;\\n            background-color: #FFF;\\n            transition:all 0.2s ease-out;\\n        }\\n        vg-volume .volumeBackground.dragging .volumeValue,\\n        vg-volume .volumeBackground.dragging .volumeKnob {\\n            transition: none;\\n        }\\n    \"\n            ]\n        }),\n        __metadata(\"design:paramtypes\", [core_1.ElementRef, vg_api_1.VgAPI])\n    ], VgVolume);\n    return VgVolume;\n}());\nexports.VgVolume = VgVolume;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmctdm9sdW1lLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2NvbnRyb2xzL3ZnLXZvbHVtZS92Zy12b2x1bWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxzQ0FTdUI7QUFDdkIscURBQW1EO0FBZ0ZuRDtJQWFFLGtCQUFZLEdBQWUsRUFBUyxHQUFVO1FBQVYsUUFBRyxHQUFILEdBQUcsQ0FBTztRQUY5QyxrQkFBYSxHQUFtQixFQUFFLENBQUM7UUFHakMsSUFBSSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsYUFBYSxDQUFDO1FBQzlCLElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDO0lBQzFCLENBQUM7SUFFRCwyQkFBUSxHQUFSO1FBQUEsaUJBUUM7UUFQQyxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFO1lBQzFCLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztTQUN0QjthQUFNO1lBQ0wsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQ3JCLElBQUksQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLGNBQU0sT0FBQSxLQUFJLENBQUMsYUFBYSxFQUFFLEVBQXBCLENBQW9CLENBQUMsQ0FDaEUsQ0FBQztTQUNIO0lBQ0gsQ0FBQztJQUVELGdDQUFhLEdBQWI7UUFDRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNoRCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLEVBQUUsR0FBRyxHQUFHLENBQUM7SUFDMUMsQ0FBQztJQUVELDBCQUFPLEdBQVAsVUFBUSxLQUEwQjtRQUNoQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFDdEQsQ0FBQztJQUVELDhC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QWU7SUFFdkI7UUFEQyxnQkFBUyxDQUFDLFdBQVcsRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsQ0FBQztrQ0FDM0IsaUJBQVU7a0RBQUM7SUF3Q3pCO1FBREMsbUJBQVksQ0FBQyxvQkFBb0IsRUFBRSxDQUFFLFFBQVEsQ0FBRSxDQUFDOzs7OzBDQUtoRDtJQUdEO1FBREMsbUJBQVksQ0FBQyxrQkFBa0IsRUFBRSxDQUFFLFFBQVEsQ0FBRSxDQUFDOzs7OzhDQVE5QztJQUdEO1FBREMsbUJBQVksQ0FBQyxTQUFTLEVBQUUsQ0FBRSxRQUFRLENBQUUsQ0FBQzs7eUNBQ2IsYUFBYTs7cURBUXJDO0lBcEVVLFFBQVE7UUE3RXBCLGdCQUFTLENBQUM7WUFDVCxRQUFRLEVBQUUsV0FBVztZQUNyQixhQUFhLEVBQUUsd0JBQWlCLENBQUMsSUFBSTtZQUNyQyxRQUFRLEVBQUUsbzBCQW9CUDtZQUNILE1BQU0sRUFBRTtnQkFDTixnL0NBaURDO2FBQ0Y7U0FDRixDQUFDO3lDQWNpQixpQkFBVSxFQUFjLGNBQUs7T0FibkMsUUFBUSxDQXlGcEI7SUFBRCxlQUFDO0NBQUEsQUF6RkQsSUF5RkM7QUF6RlksNEJBQVEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDb21wb25lbnQsXG4gIElucHV0LFxuICBFbGVtZW50UmVmLFxuICBIb3N0TGlzdGVuZXIsXG4gIE9uSW5pdCxcbiAgVmlld0VuY2Fwc3VsYXRpb24sXG4gIFZpZXdDaGlsZCxcbiAgT25EZXN0cm95XG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVmdBUEkgfSBmcm9tICcuLi8uLi9jb3JlL3NlcnZpY2VzL3ZnLWFwaSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAndmctdm9sdW1lJyxcbiAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgdGVtcGxhdGU6IGBcbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgI3ZvbHVtZUJhclxuICAgICAgICAgICAgY2xhc3M9XCJ2b2x1bWVCYXJcIlxuICAgICAgICAgICAgdGFiaW5kZXg9XCIwXCJcbiAgICAgICAgICAgIHJvbGU9XCJzbGlkZXJcIlxuICAgICAgICAgICAgYXJpYS1sYWJlbD1cInZvbHVtZSBsZXZlbFwiXG4gICAgICAgICAgICBhcmlhLWxldmVsPVwicG9saXRlXCJcbiAgICAgICAgICAgIFthdHRyLmFyaWEtdmFsdWVub3ddPVwiYXJpYVZhbHVlXCJcbiAgICAgICAgICAgIGFyaWEtdmFsdWVtaW49XCIwXCJcbiAgICAgICAgICAgIGFyaWEtdmFsdWVtYXg9XCIxMDBcIlxuICAgICAgICAgICAgYXJpYS1vcmllbnRhdGlvbj1cImhvcml6b250YWxcIlxuICAgICAgICAgICAgW2F0dHIuYXJpYS12YWx1ZXRleHRdPVwiYXJpYVZhbHVlICsgJyUnXCJcbiAgICAgICAgICAgIChjbGljayk9XCJvbkNsaWNrKCRldmVudClcIlxuICAgICAgICAgICAgKG1vdXNlZG93bik9XCJvbk1vdXNlRG93bigkZXZlbnQpXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidm9sdW1lQmFja2dyb3VuZFwiIFtuZ0NsYXNzXT1cIntkcmFnZ2luZzogaXNEcmFnZ2luZ31cIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidm9sdW1lVmFsdWVcIiBbc3R5bGUud2lkdGhdPVwiKGdldFZvbHVtZSgpICogKDEwMC0xNSkpICsgJyUnXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInZvbHVtZUtub2JcIiBbc3R5bGUubGVmdF09XCIoZ2V0Vm9sdW1lKCkgKiAoMTAwLTE1KSkgKyAnJSdcIj48L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICBgLFxuICBzdHlsZXM6IFtcbiAgICBgXG4gICAgICAgIHZnLXZvbHVtZSB7XG4gICAgICAgICAgICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XG4gICAgICAgICAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAgICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgICAgIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICAgICAgaGVpZ2h0OiA1MHB4O1xuICAgICAgICAgICAgd2lkdGg6IDEwMHB4O1xuICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDUwcHg7XG4gICAgICAgIH1cbiAgICAgICAgdmctdm9sdW1lIC52b2x1bWVCYXIge1xuICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGZsZXgtZ3JvdzogMTtcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIH1cbiAgICAgICAgdmctdm9sdW1lIC52b2x1bWVCYWNrZ3JvdW5kIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBmbGV4LWdyb3c6IDE7XG4gICAgICAgICAgICBoZWlnaHQ6IDVweDtcbiAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzMzMztcbiAgICAgICAgfVxuICAgICAgICB2Zy12b2x1bWUgLnZvbHVtZVZhbHVlIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBoZWlnaHQ6IDVweDtcbiAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0ZGRjtcbiAgICAgICAgICAgIHRyYW5zaXRpb246YWxsIDAuMnMgZWFzZS1vdXQ7XG4gICAgICAgIH1cbiAgICAgICAgdmctdm9sdW1lIC52b2x1bWVLbm9iIHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAgIHdpZHRoOiAxNXB4OyBoZWlnaHQ6IDE1cHg7XG4gICAgICAgICAgICBsZWZ0OiAwOyB0b3A6IDUwJTtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7XG4gICAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNGRkY7XG4gICAgICAgICAgICB0cmFuc2l0aW9uOmFsbCAwLjJzIGVhc2Utb3V0O1xuICAgICAgICB9XG4gICAgICAgIHZnLXZvbHVtZSAudm9sdW1lQmFja2dyb3VuZC5kcmFnZ2luZyAudm9sdW1lVmFsdWUsXG4gICAgICAgIHZnLXZvbHVtZSAudm9sdW1lQmFja2dyb3VuZC5kcmFnZ2luZyAudm9sdW1lS25vYiB7XG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBub25lO1xuICAgICAgICB9XG4gICAgYFxuICBdXG59KVxuZXhwb3J0IGNsYXNzIFZnVm9sdW1lIGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3kge1xuICBASW5wdXQoKSB2Z0Zvcjogc3RyaW5nO1xuICBAVmlld0NoaWxkKCd2b2x1bWVCYXInLCB7IHN0YXRpYzogdHJ1ZSB9KVxuICB2b2x1bWVCYXJSZWY6IEVsZW1lbnRSZWY7XG5cbiAgZWxlbTogSFRNTEVsZW1lbnQ7XG4gIHRhcmdldDogYW55O1xuICBpc0RyYWdnaW5nOiBib29sZWFuO1xuICBtb3VzZURvd25Qb3NYOiBudW1iZXI7XG4gIGFyaWFWYWx1ZTogbnVtYmVyO1xuXG4gIHN1YnNjcmlwdGlvbnM6IFN1YnNjcmlwdGlvbltdID0gW107XG5cbiAgY29uc3RydWN0b3IocmVmOiBFbGVtZW50UmVmLCBwdWJsaWMgQVBJOiBWZ0FQSSkge1xuICAgIHRoaXMuZWxlbSA9IHJlZi5uYXRpdmVFbGVtZW50O1xuICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xuICB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgaWYgKHRoaXMuQVBJLmlzUGxheWVyUmVhZHkpIHtcbiAgICAgIHRoaXMub25QbGF5ZXJSZWFkeSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaChcbiAgICAgICAgdGhpcy5BUEkucGxheWVyUmVhZHlFdmVudC5zdWJzY3JpYmUoKCkgPT4gdGhpcy5vblBsYXllclJlYWR5KCkpXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIG9uUGxheWVyUmVhZHkoKSB7XG4gICAgdGhpcy50YXJnZXQgPSB0aGlzLkFQSS5nZXRNZWRpYUJ5SWQodGhpcy52Z0Zvcik7XG4gICAgdGhpcy5hcmlhVmFsdWUgPSB0aGlzLmdldFZvbHVtZSgpICogMTAwO1xuICB9XG5cbiAgb25DbGljayhldmVudDogeyBjbGllbnRYOiBudW1iZXIgfSkge1xuICAgIHRoaXMuc2V0Vm9sdW1lKHRoaXMuY2FsY3VsYXRlVm9sdW1lKGV2ZW50LmNsaWVudFgpKTtcbiAgfVxuXG4gIG9uTW91c2VEb3duKGV2ZW50OiB7IGNsaWVudFg6IG51bWJlciB9KSB7XG4gICAgdGhpcy5tb3VzZURvd25Qb3NYID0gZXZlbnQuY2xpZW50WDtcbiAgICB0aGlzLmlzRHJhZ2dpbmcgPSB0cnVlO1xuICB9XG5cbiAgQEhvc3RMaXN0ZW5lcignZG9jdW1lbnQ6bW91c2Vtb3ZlJywgWyAnJGV2ZW50JyBdKVxuICBvbkRyYWcoZXZlbnQ6IHsgY2xpZW50WDogbnVtYmVyIH0pIHtcbiAgICBpZiAodGhpcy5pc0RyYWdnaW5nKSB7XG4gICAgICB0aGlzLnNldFZvbHVtZSh0aGlzLmNhbGN1bGF0ZVZvbHVtZShldmVudC5jbGllbnRYKSk7XG4gICAgfVxuICB9XG5cbiAgQEhvc3RMaXN0ZW5lcignZG9jdW1lbnQ6bW91c2V1cCcsIFsgJyRldmVudCcgXSlcbiAgb25TdG9wRHJhZyhldmVudDogeyBjbGllbnRYOiBudW1iZXIgfSkge1xuICAgIGlmICh0aGlzLmlzRHJhZ2dpbmcpIHtcbiAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xuICAgICAgaWYgKHRoaXMubW91c2VEb3duUG9zWCA9PT0gZXZlbnQuY2xpZW50WCkge1xuICAgICAgICB0aGlzLnNldFZvbHVtZSh0aGlzLmNhbGN1bGF0ZVZvbHVtZShldmVudC5jbGllbnRYKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgQEhvc3RMaXN0ZW5lcigna2V5ZG93bicsIFsgJyRldmVudCcgXSlcbiAgYXJyb3dBZGp1c3RWb2x1bWUoZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMzggfHwgZXZlbnQua2V5Q29kZSA9PT0gMzkpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLnNldFZvbHVtZShNYXRoLm1heCgwLCBNYXRoLm1pbigxMDAsIHRoaXMuZ2V0Vm9sdW1lKCkgKiAxMDAgKyAxMCkpKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT09IDM3IHx8IGV2ZW50LmtleUNvZGUgPT09IDQwKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5zZXRWb2x1bWUoTWF0aC5tYXgoMCwgTWF0aC5taW4oMTAwLCB0aGlzLmdldFZvbHVtZSgpICogMTAwIC0gMTApKSk7XG4gICAgfVxuICB9XG5cbiAgY2FsY3VsYXRlVm9sdW1lKG1vdXNlUG9zWDogbnVtYmVyKSB7XG4gICAgY29uc3QgcmVjT2JqID0gdGhpcy52b2x1bWVCYXJSZWYubmF0aXZlRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCB2b2x1bWVCYXJPZmZzZXRMZWZ0OiBudW1iZXIgPSByZWNPYmoubGVmdDtcbiAgICBjb25zdCB2b2x1bWVCYXJXaWR0aDogbnVtYmVyID0gcmVjT2JqLndpZHRoO1xuICAgIHJldHVybiAobW91c2VQb3NYIC0gdm9sdW1lQmFyT2Zmc2V0TGVmdCkgLyB2b2x1bWVCYXJXaWR0aCAqIDEwMDtcbiAgfVxuXG4gIHNldFZvbHVtZSh2b2w6IG51bWJlcikge1xuICAgIHRoaXMudGFyZ2V0LnZvbHVtZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHZvbCAvIDEwMCkpO1xuICAgIHRoaXMuYXJpYVZhbHVlID0gdGhpcy50YXJnZXQudm9sdW1lICogMTAwO1xuICB9XG5cbiAgZ2V0Vm9sdW1lKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMudGFyZ2V0ID8gdGhpcy50YXJnZXQudm9sdW1lIDogMDtcbiAgfVxuXG4gIG5nT25EZXN0cm95KCkge1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5mb3JFYWNoKChzKSA9PiBzLnVuc3Vic2NyaWJlKCkpO1xuICB9XG59XG4iXX0=","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar vg_api_1 = require(\"../core/services/vg-api\");\nvar vg_states_1 = require(\"../core/states/vg-states\");\nvar vg_fullscreen_api_1 = require(\"../core/services/vg-fullscreen-api\");\nvar vg_controls_hidden_1 = require(\"../core/services/vg-controls-hidden\");\nvar VgOverlayPlay = /** @class */ (function () {\n    function VgOverlayPlay(ref, API, fsAPI, controlsHidden) {\n        this.API = API;\n        this.fsAPI = fsAPI;\n        this.controlsHidden = controlsHidden;\n        this.isNativeFullscreen = false;\n        this.areControlsHidden = false;\n        this.subscriptions = [];\n        this.isBuffering = false;\n        this.elem = ref.nativeElement;\n    }\n    VgOverlayPlay.prototype.ngOnInit = function () {\n        var _this = this;\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(function () { return _this.onPlayerReady(); }));\n        }\n    };\n    VgOverlayPlay.prototype.onPlayerReady = function () {\n        var _this = this;\n        this.target = this.API.getMediaById(this.vgFor);\n        this.subscriptions.push(this.fsAPI.onChangeFullscreen.subscribe(this.onChangeFullscreen.bind(this)));\n        this.subscriptions.push(this.controlsHidden.isHidden.subscribe(this.onHideControls.bind(this)));\n        this.subscriptions.push(this.target.subscriptions.bufferDetected.subscribe(function (isBuffering) { return _this.onUpdateBuffer(isBuffering); }));\n    };\n    VgOverlayPlay.prototype.onUpdateBuffer = function (isBuffering) {\n        this.isBuffering = isBuffering;\n    };\n    VgOverlayPlay.prototype.onChangeFullscreen = function (fsState) {\n        if (this.fsAPI.nativeFullscreen) {\n            this.isNativeFullscreen = fsState;\n        }\n    };\n    VgOverlayPlay.prototype.onHideControls = function (hidden) {\n        this.areControlsHidden = hidden;\n    };\n    VgOverlayPlay.prototype.onClick = function () {\n        var state = this.getState();\n        switch (state) {\n            case vg_states_1.VgStates.VG_PLAYING:\n                this.target.pause();\n                break;\n            case vg_states_1.VgStates.VG_PAUSED:\n            case vg_states_1.VgStates.VG_ENDED:\n                this.target.play();\n                break;\n        }\n    };\n    VgOverlayPlay.prototype.getState = function () {\n        var state = vg_states_1.VgStates.VG_PAUSED;\n        if (this.target) {\n            if (this.target.state instanceof Array) {\n                for (var i = 0, l = this.target.state.length; i < l; i++) {\n                    if (this.target.state[i] === vg_states_1.VgStates.VG_PLAYING) {\n                        state = vg_states_1.VgStates.VG_PLAYING;\n                        break;\n                    }\n                }\n            }\n            else {\n                state = this.target.state;\n            }\n        }\n        return state;\n    };\n    VgOverlayPlay.prototype.ngOnDestroy = function () {\n        this.subscriptions.forEach(function (s) { return s.unsubscribe(); });\n    };\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", String)\n    ], VgOverlayPlay.prototype, \"vgFor\", void 0);\n    __decorate([\n        core_1.HostBinding('class.is-buffering'),\n        __metadata(\"design:type\", Object)\n    ], VgOverlayPlay.prototype, \"isBuffering\", void 0);\n    __decorate([\n        core_1.HostListener('click'),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", []),\n        __metadata(\"design:returntype\", void 0)\n    ], VgOverlayPlay.prototype, \"onClick\", null);\n    VgOverlayPlay = __decorate([\n        core_1.Component({\n            selector: 'vg-overlay-play',\n            encapsulation: core_1.ViewEncapsulation.None,\n            template: \"<div class=\\\"vg-overlay-play\\\"\\n                    [class.native-fullscreen]=\\\"isNativeFullscreen\\\"\\n                    [class.controls-hidden]=\\\"areControlsHidden\\\">\\n                   <div class=\\\"overlay-play-container\\\"\\n                        [class.vg-icon-play_arrow]=\\\"getState() !== 'playing'\\\">\\n                   </div>\\n               </div>\",\n            styles: [\"\\n        vg-overlay-play {\\n            z-index: 200;\\n        }\\n\\n        vg-overlay-play.is-buffering {\\n            display: none;\\n        }\\n\\n        vg-overlay-play .vg-overlay-play {\\n            transition: all 0.5s;\\n            cursor: pointer;\\n            position: absolute;\\n            display: block;\\n            color: white;\\n            width: 100%;\\n            height: 100%;\\n            font-size: 80px;\\n            filter: alpha(opacity=60);\\n            opacity: 0.6;\\n        }\\n\\n        vg-overlay-play .vg-overlay-play.native-fullscreen.controls-hidden {\\n            cursor: none;\\n        }\\n\\n        vg-overlay-play .vg-overlay-play .overlay-play-container.vg-icon-play_arrow {\\n            pointer-events: none;\\n            width: 100%;\\n            height: 100%;\\n            position: absolute;\\n            display: flex;\\n            align-items: center;\\n            justify-content: center;\\n            font-size: 80px;\\n        }\\n\\n        vg-overlay-play .vg-overlay-play:hover {\\n            filter: alpha(opacity=100);\\n            opacity: 1;\\n        }\\n\\n        vg-overlay-play .vg-overlay-play:hover .overlay-play-container.vg-icon-play_arrow:before {\\n            transform: scale(1.2);\\n        }\\n    \"]\n        }),\n        __metadata(\"design:paramtypes\", [core_1.ElementRef, vg_api_1.VgAPI, vg_fullscreen_api_1.VgFullscreenAPI, vg_controls_hidden_1.VgControlsHidden])\n    ], VgOverlayPlay);\n    return VgOverlayPlay;\n}());\nexports.VgOverlayPlay = VgOverlayPlay;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmctb3ZlcmxheS1wbGF5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL292ZXJsYXktcGxheS92Zy1vdmVybGF5LXBsYXkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxzQ0FHdUI7QUFDdkIsa0RBQWdEO0FBQ2hELHNEQUFvRDtBQUVwRCx3RUFBcUU7QUFDckUsMEVBQXVFO0FBMkR2RTtJQVlJLHVCQUFZLEdBQWUsRUFBUyxHQUFVLEVBQVMsS0FBc0IsRUFBVSxjQUFnQztRQUFuRixRQUFHLEdBQUgsR0FBRyxDQUFPO1FBQVMsVUFBSyxHQUFMLEtBQUssQ0FBaUI7UUFBVSxtQkFBYyxHQUFkLGNBQWMsQ0FBa0I7UUFQdkgsdUJBQWtCLEdBQUcsS0FBSyxDQUFDO1FBQzNCLHNCQUFpQixHQUFHLEtBQUssQ0FBQztRQUUxQixrQkFBYSxHQUFtQixFQUFFLENBQUM7UUFFQSxnQkFBVyxHQUFHLEtBQUssQ0FBQztRQUduRCxJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxhQUFhLENBQUM7SUFDbEMsQ0FBQztJQUVELGdDQUFRLEdBQVI7UUFBQSxpQkFPQztRQU5HLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUU7WUFDeEIsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1NBQ3hCO2FBQ0k7WUFDRCxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxjQUFNLE9BQUEsS0FBSSxDQUFDLGFBQWEsRUFBRSxFQUFwQixDQUFvQixDQUFDLENBQUMsQ0FBQztTQUM1RjtJQUNMLENBQUM7SUFFRCxxQ0FBYSxHQUFiO1FBQUEsaUJBU0M7UUFSRyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNoRCxJQUFJLENBQUMsYUFB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SUFBSTtZQUNyQyxRQUFRLEVBQUUsd1dBTVE7WUFDbEIsTUFBTSxFQUFFLENBQUUsOHVDQTZDVCxDQUFFO1NBQ04sQ0FBQzt5Q0FhbUIsaUJBQVUsRUFBYyxjQUFLLEVBQWdCLG1DQUFlLEVBQTBCLHFDQUFnQjtPQVo5RyxhQUFhLENBeUZ6QjtJQUFELG9CQUFDO0NBQUEsQUF6RkQsSUF5RkM7QUF6Rlksc0NBQWEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICAgIENvbXBvbmVudCwgT25Jbml0LCBJbnB1dCwgRWxlbWVudFJlZiwgSG9zdExpc3RlbmVyLCBWaWV3RW5jYXBzdWxhdGlvbiwgT25EZXN0cm95LFxuICAgIEhvc3RCaW5kaW5nXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVmdBUEkgfSBmcm9tICcuLi9jb3JlL3NlcnZpY2VzL3ZnLWFwaSc7XG5pbXBvcnQgeyBWZ1N0YXRlcyB9IGZyb20gJy4uL2NvcmUvc3RhdGVzL3ZnLXN0YXRlcyc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IFZnRnVsbHNjcmVlbkFQSSB9IGZyb20gJy4uL2NvcmUvc2VydmljZXMvdmctZnVsbHNjcmVlbi1hcGknO1xuaW1wb3J0IHsgVmdDb250cm9sc0hpZGRlbiB9IGZyb20gJy4uL2NvcmUvc2VydmljZXMvdmctY29udHJvbHMtaGlkZGVuJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICd2Zy1vdmVybGF5LXBsYXknLFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gICAgdGVtcGxhdGU6IGA8ZGl2IGNsYXNzPVwidmctb3ZlcmxheS1wbGF5XCJcbiAgICAgICAgICAgICAgICAgICAgW2NsYXNzLm5hdGl2ZS1mdWxsc2NyZWVuXT1cImlzTmF0aXZlRnVsbHNjcmVlblwiXG4gICAgICAgICAgICAgICAgICAgIFtjbGFzcy5jb250cm9scy1oaWRkZW5dPVwiYXJlQ29udHJvbHNIaWRkZW5cIj5cbiAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwib3ZlcmxheS1wbGF5LWNvbnRhaW5lclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBbY2xhc3MudmctaWNvbi1wbGF5X2Fycm93XT1cImdldFN0YXRlKCkgIT09ICdwbGF5aW5nJ1wiPlxuICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgPC9kaXY+YCxcbiAgICBzdHlsZXM6IFsgYFxuICAgICAgICB2Zy1vdmVybGF5LXBsYXkge1xuICAgICAgICAgICAgei1pbmRleDogMjAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdmctb3ZlcmxheS1wbGF5LmlzLWJ1ZmZlcmluZyB7XG4gICAgICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgICB9XG5cbiAgICAgICAgdmctb3ZlcmxheS1wbGF5IC52Zy1vdmVybGF5LXBsYXkge1xuICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuNXM7XG4gICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgZm9udC1zaXplOiA4MHB4O1xuICAgICAgICAgICAgZmlsdGVyOiBhbHBoYShvcGFjaXR5PTYwKTtcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuNjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZnLW92ZXJsYXktcGxheSAudmctb3ZlcmxheS1wbGF5Lm5hdGl2ZS1mdWxsc2NyZWVuLmNvbnRyb2xzLWhpZGRlbiB7XG4gICAgICAgICAgICBjdXJzb3I6IG5vbmU7XG4gICAgICAgIH1cblxuICAgICAgICB2Zy1vdmVybGF5LXBsYXkgLnZnLW92ZXJsYXktcGxheSAub3ZlcmxheS1wbGF5LWNvbnRhaW5lci52Zy1pY29uLXBsYXlfYXJyb3cge1xuICAgICAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgICAgICBmb250LXNpemU6IDgwcHg7XG4gICAgICAgIH1cblxuICAgICAgICB2Zy1vdmVybGF5LXBsYXkgLnZnLW92ZXJsYXktcGxheTpob3ZlciB7XG4gICAgICAgICAgICBmaWx0ZXI6IGFscGhhKG9wYWNpdHk9MTAwKTtcbiAgICAgICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIH1cblxuICAgICAgICB2Zy1vdmVybGF5LXBsYXkgLnZnLW92ZXJsYXktcGxheTpob3ZlciAub3ZlcmxheS1wbGF5LWNvbnRhaW5lci52Zy1pY29uLXBsYXlfYXJyb3c6YmVmb3JlIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMS4yKTtcbiAgICAgICAgfVxuICAgIGAgXVxufSlcbmV4cG9ydCBjbGFzcyBWZ092ZXJsYXlQbGF5IGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3kge1xuICAgIEBJbnB1dCgpIHZnRm9yOiBzdHJpbmc7XG4gICAgZWxlbTogSFRNTEVsZW1lbnQ7XG4gICAgdGFyZ2V0OiBhbnk7XG5cbiAgICBpc05hdGl2ZUZ1bGxzY3JlZW4gPSBmYWxzZTtcbiAgICBhcmVDb250cm9sc0hpZGRlbiA9IGZhbHNlO1xuXG4gICAgc3Vic2NyaXB0aW9uczogU3Vic2NyaXB0aW9uW10gPSBbXTtcblxuICAgIEBIb3N0QmluZGluZygnY2xhc3MuaXMtYnVmZmVyaW5nJykgaXNCdWZmZXJpbmcgPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKHJlZjogRWxlbWVudFJlZiwgcHVibGljIEFQSTogVmdBUEksIHB1YmxpYyBmc0FQSTogVmdGdWxsc2NyZWVuQVBJLCBwcml2YXRlIGNvbnRyb2xzSGlkZGVuOiBWZ0NvbnRyb2xzSGlkZGVuKSB7XG4gICAgICAgIHRoaXMuZWxlbSA9IHJlZi5uYXRpdmVFbGVtZW50O1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICBpZiAodGhpcy5BUEkuaXNQbGF5ZXJSZWFkeSkge1xuICAgICAgICAgICAgdGhpcy5vblBsYXllclJlYWR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaCh0aGlzLkFQSS5wbGF5ZXJSZWFkeUV2ZW50LnN1YnNjcmliZSgoKSA9PiB0aGlzLm9uUGxheWVyUmVhZHkoKSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25QbGF5ZXJSZWFkeSgpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLkFQSS5nZXRNZWRpYUJ5SWQodGhpcy52Z0Zvcik7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKHRoaXMuZnNBUEkub25DaGFuZ2VGdWxsc2NyZWVuLnN1YnNjcmliZSh0aGlzLm9uQ2hhbmdlRnVsbHNjcmVlbi5iaW5kKHRoaXMpKSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKHRoaXMuY29udHJvbHNIaWRkZW4uaXNIaWRkZW4uc3Vic2NyaWJlKHRoaXMub25IaWRlQ29udHJvbHMuYmluZCh0aGlzKSkpO1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaChcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0LnN1YnNjcmlwdGlvbnMuYnVmZmVyRGV0ZWN0ZWQuc3Vic2NyaWJlKFxuICAgICAgICAgICAgICAgIGlzQnVmZmVyaW5nID0+IHRoaXMub25VcGRhdGVCdWZmZXIoaXNCdWZmZXJpbmcpXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgb25VcGRhdGVCdWZmZXIoaXNCdWZmZXJpbmcpIHtcbiAgICAgICAgdGhpcy5pc0J1ZmZlcmluZyA9IGlzQnVmZmVyaW5nO1xuICAgIH1cblxuICAgIG9uQ2hhbmdlRnVsbHNjcmVlbihmc1N0YXRlOiBib29sZWFuKSB7XG4gICAgICAgIGlmICh0aGlzLmZzQVBJLm5hdGl2ZUZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgIHRoaXMuaXNOYXRpdmVGdWxsc2NyZWVuID0gZnNTdGF0ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uSGlkZUNvbnRyb2xzKGhpZGRlbjogYm9vbGVhbikge1xuICAgICAgICB0aGlzLmFyZUNvbnRyb2xzSGlkZGVuID0gaGlkZGVuO1xuICAgIH1cblxuICAgIEBIb3N0TGlzdGVuZXIoJ2NsaWNrJylcbiAgICBvbkNsaWNrKCkge1xuICAgICAgICBsZXQgc3RhdGUgPSB0aGlzLmdldFN0YXRlKCk7XG5cbiAgICAgICAgc3dpdGNoIChzdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSBWZ1N0YXRlcy5WR19QTEFZSU5HOlxuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0LnBhdXNlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgVmdTdGF0ZXMuVkdfUEFVU0VEOlxuICAgICAgICAgICAgY2FzZSBWZ1N0YXRlcy5WR19FTkRFRDpcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldC5wbGF5KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRTdGF0ZSgpIHtcbiAgICAgICAgbGV0IHN0YXRlID0gVmdTdGF0ZXMuVkdfUEFVU0VEO1xuXG4gICAgICAgIGlmICh0aGlzLnRhcmdldCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudGFyZ2V0LnN0YXRlIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHRoaXMudGFyZ2V0LnN0YXRlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50YXJnZXQuc3RhdGVbIGkgXSA9PT0gVmdTdGF0ZXMuVkdfUExBWUlORykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBWZ1N0YXRlcy5WR19QTEFZSU5HO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IHRoaXMudGFyZ2V0LnN0YXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cblxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMuZm9yRWFjaChzID0+IHMudW5zdWJzY3JpYmUoKSk7XG4gICAgfVxufVxuIl19","import { Component, OnInit, HostBinding } from '@angular/core';\nimport { VideoPlaylistModel } from './video-playlist.model';\nimport { VgAPI } from 'videogular2/compiled/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Plugins } from '@capacitor/core';\nconst { Share } = Plugins;\n\n@Component({\n  selector: 'app-video-playlist',\n  templateUrl: './video-playlist.page.html',\n  styleUrls: [\n    './styles/video-playlist.page.scss',\n    './styles/video-playlist.shell.scss'\n  ]\n})\nexport class VideoPlaylistPage implements OnInit {\n  start_playing = false;\n  api: VgAPI;\n  video_playlist_model: VideoPlaylistModel;\n\n  @HostBinding('class.is-shell') get isShell() {\n    return (this.video_playlist_model && this.video_playlist_model.isShell) ? true : false;\n  }\n\n  constructor(private route: ActivatedRoute) { }\n\n  ngOnInit(): void {\n    this.route.data.subscribe((resolvedRouteData) => {\n      const videoPlaylistDataStore = resolvedRouteData['data'];\n\n      videoPlaylistDataStore.state.subscribe(\n        (state) => {\n          this.video_playlist_model = state;\n          if (!state.isShell) {\n            this.video_playlist_model.video_playlist = state.videos;\n            this.video_playlist_model.selected_video = state.videos[0];\n          }\n        },\n        (error) => {}\n      );\n    },\n    (error) => {});\n  }\n\n  playMedia(media) {\n    // Check if this media is not the same we are currently playing\n    if (media !== this.video_playlist_model.selected_video) {\n      // Change sources\n      this.video_playlist_model.selected_video = media;\n      // When changing sources we wait until the metadata is loaded and then we start playing the video\n    }\n  }\n\n  onPlayerReady(api: VgAPI) {\n    this.api = api;\n    this.api.getDefaultMedia().subscriptions.loadedMetadata.subscribe(this.playVideo.bind(this));\n  }\n\n  playVideo() {\n    if (this.start_playing) {\n      this.api.play();\n    } else {\n      this.start_playing = true;\n    }\n  }\n\n  shareMedia() {\n    const selectedVideo = this.video_playlist_model.selected_video;\n    Share.share({\n      title: selectedVideo.title,\n      text: selectedVideo.description,\n      url: 'https://ionicthemes.com/',\n      dialogTitle: 'Share Media'\n    })\n    .then(() => console.log('Successful share'))\n    .catch((error) => console.log('Error sharing', error));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Resolve } from '@angular/router';\nimport { VideoPlaylistService } from './video-playlist.service';\nimport { Observable } from 'rxjs';\nimport { DataStore } from '../shell/data-store';\nimport { VideoPlaylistModel } from './video-playlist.model';\n\n@Injectable()\nexport class VideoPlaylistResolver implements Resolve<any> {\n\n  constructor(private videoPlaylistService: VideoPlaylistService) { }\n\n  resolve() {\n    const dataSource: Observable<VideoPlaylistModel> = this.videoPlaylistService.getVideoPlaylistDataSource();\n\n    const dataStore: DataStore<VideoPlaylistModel> = this.videoPlaylistService.getVideoPlaylistStore(dataSource);\n\n    return dataStore;\n  }\n}\n","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar vg_player_1 = require(\"./vg-player/vg-player\");\nvar vg_media_1 = require(\"./vg-media/vg-media\");\nvar vg_cue_points_1 = require(\"./vg-cue-points/vg-cue-points\");\nvar vg_api_1 = require(\"./services/vg-api\");\nvar vg_fullscreen_api_1 = require(\"./services/vg-fullscreen-api\");\nvar vg_utils_1 = require(\"./services/vg-utils\");\nvar vg_controls_hidden_1 = require(\"./services/vg-controls-hidden\");\n// components\n__export(require(\"./vg-player/vg-player\"));\n__export(require(\"./vg-media/vg-media\"));\n__export(require(\"./vg-cue-points/vg-cue-points\"));\n// services\n__export(require(\"./services/vg-api\"));\n__export(require(\"./services/vg-fullscreen-api\"));\n__export(require(\"./services/vg-utils\"));\n__export(require(\"./services/vg-controls-hidden\"));\n// types\n__export(require(\"./events/vg-events\"));\n__export(require(\"./states/vg-states\"));\n// utility classes\n__export(require(\"./vg-media/vg-media-element\"));\n/**\n * @internal\n */\nfunction coreDirectives() {\n    return [\n        vg_player_1.VgPlayer, vg_media_1.VgMedia, vg_cue_points_1.VgCuePoints\n    ];\n}\nexports.coreDirectives = coreDirectives;\nfunction coreServices() {\n    return [\n        vg_api_1.VgAPI, vg_fullscreen_api_1.VgFullscreenAPI, vg_utils_1.VgUtils, vg_controls_hidden_1.VgControlsHidden\n    ];\n}\nexports.coreServices = coreServices;\nvar VgCoreModule = /** @class */ (function () {\n    function VgCoreModule() {\n    }\n    VgCoreModule = __decorate([\n        core_1.NgModule({\n            declarations: coreDirectives(),\n            exports: coreDirectives(),\n            providers: coreServices()\n        })\n    ], VgCoreModule);\n    return VgCoreModule;\n}());\nexports.VgCoreModule = VgCoreModule;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29yZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb3JlL2NvcmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxzQ0FBbUQ7QUFDbkQsbURBQWlEO0FBQ2pELGdEQUE4QztBQUM5QywrREFBNEQ7QUFDNUQsNENBQTBDO0FBQzFDLGtFQUErRDtBQUMvRCxnREFBOEM7QUFDOUMsb0VBQWlFO0FBR2pFLGFBQWE7QUFDYiwyQ0FBc0M7QUFDdEMseUNBQW9DO0FBQ3BDLG1EQUE4QztBQUU5QyxXQUFXO0FBQ1gsdUNBQWtDO0FBQ2xDLGtEQUE2QztBQUM3Qyx5Q0FBb0M7QUFDcEMsbURBQThDO0FBRTlDLFFBQVE7QUFDUix3Q0FBbUM7QUFDbkMsd0NBQW1DO0FBS25DLGtCQUFrQjtBQUNsQixpREFBNEM7QUFXNUM7O0dBRUc7QUFDSCxTQUFnQixjQUFjO0lBQzFCLE9BQU87UUFDSCxvQkFBUSxFQUFFLGtCQUFPLEVBQUUsMkJBQVc7S0FDakMsQ0FBQztBQUNOLENBQUM7QUFKRCx3Q0FJQztBQUVELFNBQWdCLFlBQVk7SUFDeEIsT0FBTztRQUNILGNBQUssRUFBRSxtQ0FBZSxFQUFFLGtCQUFPLEVBQUUscUNBQWdCO0tBQ3BELENBQUM7QUFDTixDQUFDO0FBSkQsb0NBSUM7QUFPRDtJQUFBO0lBQ0EsQ0FBQztJQURZLFlBQVk7UUFMeEIsZUFBUSxDQUFDO1lBQ04sWUFBWSxFQUFFLGNBQWMsRUFBRTtZQUM5QixPQUFPLEVBQUUsY0FBYyxFQUFFO1lBQ3pCLFNBQVMsRUFBRSxZQUFZLEVBQUU7U0FDNUIsQ0FBQztPQUNXLFlBQVksQ0FDeEI7SUFBRCxtQkFBQztDQUFBLEFBREQsSUFDQztBQURZLG9DQUFZIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmdNb2R1bGUsIFByb3ZpZGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBWZ1BsYXllciB9IGZyb20gJy4vdmctcGxheWVyL3ZnLXBsYXllcic7XG5pbXBvcnQgeyBWZ01lZGlhIH0gZnJvbSAnLi92Zy1tZWRpYS92Zy1tZWRpYSc7XG5pbXBvcnQgeyBWZ0N1ZVBvaW50cyB9IGZyb20gJy4vdmctY3VlLXBvaW50cy92Zy1jdWUtcG9pbnRzJztcbmltcG9ydCB7IFZnQVBJIH0gZnJvbSAnLi9zZXJ2aWNlcy92Zy1hcGknO1xuaW1wb3J0IHsgVmdGdWxsc2NyZWVuQVBJIH0gZnJvbSAnLi9zZXJ2aWNlcy92Zy1mdWxsc2NyZWVuLWFwaSc7XG5pbXBvcnQgeyBWZ1V0aWxzIH0gZnJvbSAnLi9zZXJ2aWNlcy92Zy11dGlscyc7XG5pbXBvcnQgeyBWZ0NvbnRyb2xzSGlkZGVuIH0gZnJvbSAnLi9zZXJ2aWNlcy92Zy1jb250cm9scy1oaWRkZW4nO1xuXG5cbi8vIGNvbXBvbmVudHNcbmV4cG9ydCAqIGZyb20gJy4vdmctcGxheWVyL3ZnLXBsYXllcic7XG5leHBvcnQgKiBmcm9tICcuL3ZnLW1lZGlhL3ZnLW1lZGlhJztcbmV4cG9ydCAqIGZyb20gJy4vdmctY3VlLXBvaW50cy92Zy1jdWUtcG9pbnRzJztcblxuLy8gc2VydmljZXNcbmV4cG9ydCAqIGZyb20gJy4vc2VydmljZXMvdmctYXBpJztcbmV4cG9ydCAqIGZyb20gJy4vc2VydmljZXMvdmctZnVsbHNjcmVlbi1hcGknO1xuZXhwb3J0ICogZnJvbSAnLi9zZXJ2aWNlcy92Zy11dGlscyc7XG5leHBvcnQgKiBmcm9tICcuL3NlcnZpY2VzL3ZnLWNvbnRyb2xzLWhpZGRlbic7XG5cbi8vIHR5cGVzXG5leHBvcnQgKiBmcm9tICcuL2V2ZW50cy92Zy1ldmVudHMnO1xuZXhwb3J0ICogZnJvbSAnLi9zdGF0ZXMvdmctc3RhdGVzJztcblxuLy8gaW50ZXJmYWNlc1xuZXhwb3J0ICogZnJvbSAnLi92Zy1tZWRpYS9pLW1lZGlhLWVsZW1lbnQnO1xuXG4vLyB1dGlsaXR5IGNsYXNzZXNcbmV4cG9ydCAqIGZyb20gJy4vdmctbWVkaWEvdmctbWVkaWEtZWxlbWVudCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQml0cmF0ZU9wdGlvbiB7XG4gICAgcXVhbGl0eUluZGV4OiBudW1iZXI7XG4gICAgd2lkdGg6IG51bWJlcjtcbiAgICBoZWlnaHQ6IG51bWJlcjtcbiAgICBiaXRyYXRlOiBudW1iZXI7XG4gICAgbWVkaWFUeXBlOiBzdHJpbmc7XG4gICAgbGFiZWw/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb3JlRGlyZWN0aXZlcygpIHtcbiAgICByZXR1cm4gW1xuICAgICAgICBWZ1BsYXllciwgVmdNZWRpYSwgVmdDdWVQb2ludHNcbiAgICBdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29yZVNlcnZpY2VzKCk6IFByb3ZpZGVyW10ge1xuICAgIHJldHVybiBbXG4gICAgICAgIFZnQVBJLCBWZ0Z1bGxzY3JlZW5BUEksIFZnVXRpbHMsIFZnQ29udHJvbHNIaWRkZW5cbiAgICBdO1xufVxuXG5ATmdNb2R1bGUoe1xuICAgIGRlY2xhcmF0aW9uczogY29yZURpcmVjdGl2ZXMoKSxcbiAgICBleHBvcnRzOiBjb3JlRGlyZWN0aXZlcygpLFxuICAgIHByb3ZpZGVyczogY29yZVNlcnZpY2VzKClcbn0pXG5leHBvcnQgY2xhc3MgVmdDb3JlTW9kdWxlIHtcbn1cbiJdfQ==","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar vg_api_1 = require(\"../services/vg-api\");\nvar vg_fullscreen_api_1 = require(\"../services/vg-fullscreen-api\");\nvar vg_utils_1 = require(\"../services/vg-utils\");\nvar vg_media_1 = require(\"../vg-media/vg-media\");\nvar vg_controls_hidden_1 = require(\"../services/vg-controls-hidden\");\nvar VgPlayer = /** @class */ (function () {\n    function VgPlayer(ref, api, fsAPI, controlsHidden) {\n        this.api = api;\n        this.fsAPI = fsAPI;\n        this.controlsHidden = controlsHidden;\n        this.isFullscreen = false;\n        this.isNativeFullscreen = false;\n        this.areControlsHidden = false;\n        this.onPlayerReady = new core_1.EventEmitter();\n        this.onMediaReady = new core_1.EventEmitter();\n        this.subscriptions = [];\n        this.elem = ref.nativeElement;\n        this.api.registerElement(this.elem);\n    }\n    VgPlayer.prototype.ngAfterContentInit = function () {\n        var _this = this;\n        this.medias.toArray().forEach(function (media) {\n            _this.api.registerMedia(media);\n        });\n        this.fsAPI.init(this.elem, this.medias);\n        this.subscriptions.push(this.fsAPI.onChangeFullscreen.subscribe(this.onChangeFullscreen.bind(this)));\n        this.subscriptions.push(this.controlsHidden.isHidden.subscribe(this.onHideControls.bind(this)));\n        this.api.onPlayerReady(this.fsAPI);\n        this.onPlayerReady.emit(this.api);\n    };\n    VgPlayer.prototype.onChangeFullscreen = function (fsState) {\n        if (!this.fsAPI.nativeFullscreen) {\n            this.isFullscreen = fsState;\n            this.zIndex = fsState ? vg_utils_1.VgUtils.getZIndex().toString() : 'auto';\n        }\n        else {\n            this.isNativeFullscreen = fsState;\n        }\n    };\n    VgPlayer.prototype.onHideControls = function (hidden) {\n        this.areControlsHidden = hidden;\n    };\n    VgPlayer.prototype.ngOnDestroy = function () {\n        this.subscriptions.forEach(function (s) { return s.unsubscribe(); });\n    };\n    __decorate([\n        core_1.HostBinding('class.fullscreen'),\n        __metadata(\"design:type\", Object)\n    ], VgPlayer.prototype, \"isFullscreen\", void 0);\n    __decorate([\n        core_1.HostBinding('class.native-fullscreen'),\n        __metadata(\"design:type\", Object)\n    ], VgPlayer.prototype, \"isNativeFullscreen\", void 0);\n    __decorate([\n        core_1.HostBinding('class.controls-hidden'),\n        __metadata(\"design:type\", Object)\n    ], VgPlayer.prototype, \"areControlsHidden\", void 0);\n    __decorate([\n        core_1.HostBinding('style.z-index'),\n        __metadata(\"design:type\", String)\n    ], VgPlayer.prototype, \"zIndex\", void 0);\n    __decorate([\n        core_1.Output(),\n        __metadata(\"design:type\", core_1.EventEmitter)\n    ], VgPlayer.prototype, \"onPlayerReady\", void 0);\n    __decorate([\n        core_1.Output(),\n        __metadata(\"design:type\", core_1.EventEmitter)\n    ], VgPlayer.prototype, \"onMediaReady\", void 0);\n    __decorate([\n        core_1.ContentChildren(vg_media_1.VgMedia),\n        __metadata(\"design:type\", core_1.QueryList)\n    ], VgPlayer.prototype, \"medias\", void 0);\n    VgPlayer = __decorate([\n        core_1.Component({\n            selector: 'vg-player',\n            encapsulation: core_1.ViewEncapsulation.None,\n            template: \"<ng-content></ng-content>\",\n            styles: [\"\\n        vg-player {\\n            font-family: 'videogular';\\n            position: relative;\\n            display: flex;\\n            width: 100%;\\n            height: 100%;\\n            overflow: hidden;\\n            background-color: black;\\n        }\\n\\n        vg-player.fullscreen {\\n            position: fixed;\\n            left: 0;\\n            top: 0;\\n        }\\n\\n        vg-player.native-fullscreen.controls-hidden {\\n            cursor: none;\\n        }\\n    \"],\n            providers: [vg_api_1.VgAPI, vg_fullscreen_api_1.VgFullscreenAPI, vg_controls_hidden_1.VgControlsHidden]\n        }),\n        __metadata(\"design:paramtypes\", [core_1.ElementRef, vg_api_1.VgAPI, vg_fullscreen_api_1.VgFullscreenAPI, vg_controls_hidden_1.VgControlsHidden])\n    ], VgPlayer);\n    return VgPlayer;\n}());\nexports.VgPlayer = VgPlayer;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmctcGxheWVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2NvcmUvdmctcGxheWVyL3ZnLXBsYXllci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBLHNDQVN1QjtBQUN2Qiw2Q0FBMkM7QUFDM0MsbUVBQWdFO0FBQ2hFLGlEQUErQztBQUMvQyxpREFBK0M7QUFFL0MscUVBQWtFO0FBNkJsRTtJQW1CSSxrQkFBWSxHQUFlLEVBQVMsR0FBVSxFQUFTLEtBQXNCLEVBQVUsY0FBZ0M7UUFBbkYsUUFBRyxHQUFILEdBQUcsQ0FBTztRQUFTLFVBQUssR0FBTCxLQUFLLENBQWlCO1FBQVUsbUJBQWMsR0FBZCxjQUFjLENBQWtCO1FBaEJ0RixpQkFBWSxHQUFHLEtBQUssQ0FBQztRQUNkLHVCQUFrQixHQUFHLEtBQUssQ0FBQztRQUM3QixzQkFBaUIsR0FBRyxLQUFLLENBQUM7UUFJaEUsa0JBQWEsR0FBc0IsSUFBSSxtQkFBWSxFQUFFLENBQUM7UUFHdEQsaUJBQVksR0FBc0IsSUFBSSxtQkFBWSxFQUFFLENBQUM7UUFLckQsa0JBQWEsR0FBbUIsRUFBRSxDQUFDO1FBRy9CLElBQUksQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDLGFBQWEsQ0FBQztRQUU5QixJQUFJLENBQUMsR0FBRyxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDeEMsQ0FBQztJQUVELHFDQUFrQixHQUFsQjtRQUFBLGlCQVlDO1FBWEcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLENBQUMsVUFBQyxLQUFLO1lBQ2hDLEtBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ2xDLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFeEMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDckcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUVoRyxJQUFJLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbkMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3RDLENBQUM7SUFFRCxxQ0FBa0IsR0FBbEIsVUFBbUIsT0FBZ0I7UUFDL0IsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLEVBQUU7WUFDOUIsSUFBSSxDQUFDLFlBQVksR0FBRyxPQUFPLENBQUM7WUFDNUIsSUFBSSxDQUFDLE1BQU0sR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLGtCQUFPLENBQUMsU0FBUyxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztTQUNuRTthQUFNO1lBQ0gsSUFBSSxDQUFDLGtCQUFrQixHQUFHLE9BQU8sQ0FBQztTQUNyQztJQUNMLENBQUM7SUFFRCxpQ0FBYyxHQUFkLFVBQWUsTUFBZTtRQUMxQixJQUFJLENBQUMsaUJBQWlCLEdBQUcsTUFBTSxDQUFDO0lBQ3BDLENBQUM7SUFFRCw4QkFBVyxHQUFYO1FBQ0ksSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxDQUFDLENBQUMsV0FBVyxFQUFFLEVBQWYsQ0FBZSxDQUFDLENBQUM7SUFDckQsQ0FBQztJQW5EZ0M7UUFBaEMsa0JBQVcsQ0FBQyxrQkFBa0IsQ0FBQzs7a0RBQXNCO0lBQ2Q7UUFBdkMsa0JBQVcsQ0FBQyx5QkFBeUIsQ0FBQzs7d0RBQTRCO0lBQzdCO1FBQXJDLGtCQUFXLENBQUMsdUJBQXVCLENBQUM7O3VEQUEyQjtJQUNsQztRQUE3QixrQkFBVyxDQUFDLGVBQWUsQ0FBQzs7NENBQWdCO0lBRzdDO1FBREMsYUFBTSxFQUFFO2tDQUNNLG1CQUFZO21EQUEyQjtJQUd0RDtRQURDLGFBQU0sRUFBRTtrQ0FDSyxtQkFBWTtrREFBMkI7SUFHckQ7UUFEQyxzQkFBZSxDQUFDLGtCQUFPLENBQUM7a0NBQ2pCLGdCQUFTOzRDQUFVO0lBZmxCLFFBQVE7UUEzQnBCLGdCQUFTLENBQUM7WUFDUCxRQUFRLEVBQUUsV0FBVztZQUNyQixhQUFhLEVBQUUsd0JBQWlCLENBQUMsSUFBSTtZQUNyQyxRQUFRLEVBQUUsMkJBQTJCO1lBQ3JDLE1BQU0sRUFBRSxDQUFFLDRkQW9CVCxDQUFFO1lBQ0gsU0FBUyxFQUFFLENBQUUsY0FBSyxFQUFFLG1DQUFlLEVBQUUscUNBQWdCLENBQUU7U0FDMUQsQ0FBQzt5Q0FvQm1CLGlCQUFVLEVBQWMsY0FBSyxFQUFnQixtQ0FBZSxFQUEwQixxQ0FBZ0I7T0FuQjlHLFFBQVEsQ0F1RHBCO0lBQUQsZUFBQztDQUFBLEFBdkRELElBdURDO0FBdkRZLDRCQUFRIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgICBPdXRwdXQsXG4gICAgQ29tcG9uZW50LFxuICAgIEV2ZW50RW1pdHRlcixcbiAgICBFbGVtZW50UmVmLFxuICAgIEhvc3RCaW5kaW5nLFxuICAgIFF1ZXJ5TGlzdCxcbiAgICBBZnRlckNvbnRlbnRJbml0LFxuICAgIENvbnRlbnRDaGlsZHJlbiwgVmlld0VuY2Fwc3VsYXRpb24sIE9uRGVzdHJveVxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFZnQVBJIH0gZnJvbSAnLi4vc2VydmljZXMvdmctYXBpJztcbmltcG9ydCB7IFZnRnVsbHNjcmVlbkFQSSB9IGZyb20gJy4uL3NlcnZpY2VzL3ZnLWZ1bGxzY3JlZW4tYXBpJztcbmltcG9ydCB7IFZnVXRpbHMgfSBmcm9tICcuLi9zZXJ2aWNlcy92Zy11dGlscyc7XG5pbXBvcnQgeyBWZ01lZGlhIH0gZnJvbSAnLi4vdmctbWVkaWEvdmctbWVkaWEnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBWZ0NvbnRyb2xzSGlkZGVuIH0gZnJvbSAnLi4vc2VydmljZXMvdmctY29udHJvbHMtaGlkZGVuJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICd2Zy1wbGF5ZXInLFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gICAgdGVtcGxhdGU6IGA8bmctY29udGVudD48L25nLWNvbnRlbnQ+YCxcbiAgICBzdHlsZXM6IFsgYFxuICAgICAgICB2Zy1wbGF5ZXIge1xuICAgICAgICAgICAgZm9udC1mYW1pbHk6ICd2aWRlb2d1bGFyJztcbiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcbiAgICAgICAgfVxuXG4gICAgICAgIHZnLXBsYXllci5mdWxsc2NyZWVuIHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgICAgIGxlZnQ6IDA7XG4gICAgICAgICAgICB0b3A6IDA7XG4gICAgICAgIH1cblxuICAgICAgICB2Zy1wbGF5ZXIubmF0aXZlLWZ1bGxzY3JlZW4uY29udHJvbHMtaGlkZGVuIHtcbiAgICAgICAgICAgIGN1cnNvcjogbm9uZTtcbiAgICAgICAgfVxuICAgIGAgXSxcbiAgICBwcm92aWRlcnM6IFsgVmdBUEksIFZnRnVsbHNjcmVlbkFQSSwgVmdDb250cm9sc0hpZGRlbiBdXG59KVxuZXhwb3J0IGNsYXNzIFZnUGxheWVyIGltcGxlbWVudHMgQWZ0ZXJDb250ZW50SW5pdCwgT25EZXN0cm95IHtcbiAgICBlbGVtOiBIVE1MRWxlbWVudDtcblxuICAgIEBIb3N0QmluZGluZygnY2xhc3MuZnVsbHNjcmVlbicpIGlzRnVsbHNjcmVlbiA9IGZhbHNlO1xuICAgIEBIb3N0QmluZGluZygnY2xhc3MubmF0aXZlLWZ1bGxzY3JlZW4nKSBpc05hdGl2ZUZ1bGxzY3JlZW4gPSBmYWxzZTtcbiAgICBASG9zdEJpbmRpbmcoJ2NsYXNzLmNvbnRyb2xzLWhpZGRlbicpIGFyZUNvbnRyb2xzSGlkZGVuID0gZmFsc2U7XG4gICAgQEhvc3RCaW5kaW5nKCdzdHlsZS56LWluZGV4JykgekluZGV4OiBzdHJpbmc7XG5cbiAgICBAT3V0cHV0KClcbiAgICBvblBsYXllclJlYWR5OiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgIEBPdXRwdXQoKVxuICAgIG9uTWVkaWFSZWFkeTogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgICBAQ29udGVudENoaWxkcmVuKFZnTWVkaWEpXG4gICAgbWVkaWFzOiBRdWVyeUxpc3Q8VmdNZWRpYT47XG5cbiAgICBzdWJzY3JpcHRpb25zOiBTdWJzY3JpcHRpb25bXSA9IFtdO1xuXG4gICAgY29uc3RydWN0b3IocmVmOiBFbGVtZW50UmVmLCBwdWJsaWMgYXBpOiBWZ0FQSSwgcHVibGljIGZzQVBJOiBWZ0Z1bGxzY3JlZW5BUEksIHByaXZhdGUgY29udHJvbHNIaWRkZW46IFZnQ29udHJvbHNIaWRkZW4pIHtcbiAgICAgICAgdGhpcy5lbGVtID0gcmVmLm5hdGl2ZUVsZW1lbnQ7XG5cbiAgICAgICAgdGhpcy5hcGkucmVnaXN0ZXJFbGVtZW50KHRoaXMuZWxlbSk7XG4gICAgfVxuXG4gICAgbmdBZnRlckNvbnRlbnRJbml0KCkge1xuICAgICAgICB0aGlzLm1lZGlhcy50b0FycmF5KCkuZm9yRWFjaCgobWVkaWEpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYXBpLnJlZ2lzdGVyTWVkaWEobWVkaWEpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmZzQVBJLmluaXQodGhpcy5lbGVtLCB0aGlzLm1lZGlhcyk7XG5cbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2godGhpcy5mc0FQSS5vbkNoYW5nZUZ1bGxzY3JlZW4uc3Vic2NyaWJlKHRoaXMub25DaGFuZ2VGdWxsc2NyZWVuLmJpbmQodGhpcykpKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2godGhpcy5jb250cm9sc0hpZGRlbi5pc0hpZGRlbi5zdWJzY3JpYmUodGhpcy5vbkhpZGVDb250cm9scy5iaW5kKHRoaXMpKSk7XG5cbiAgICAgICAgdGhpcy5hcGkub25QbGF5ZXJSZWFkeSh0aGlzLmZzQVBJKTtcbiAgICAgICAgdGhpcy5vblBsYXllclJlYWR5LmVtaXQodGhpcy5hcGkpO1xuICAgIH1cblxuICAgIG9uQ2hhbmdlRnVsbHNjcmVlbihmc1N0YXRlOiBib29sZWFuKSB7XG4gICAgICAgIGlmICghdGhpcy5mc0FQSS5uYXRpdmVGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICB0aGlzLmlzRnVsbHNjcmVlbiA9IGZzU3RhdGU7XG4gICAgICAgICAgICB0aGlzLnpJbmRleCA9IGZzU3RhdGUgPyBWZ1V0aWxzLmdldFpJbmRleCgpLnRvU3RyaW5nKCkgOiAnYXV0byc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlzTmF0aXZlRnVsbHNjcmVlbiA9IGZzU3RhdGU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkhpZGVDb250cm9scyhoaWRkZW46IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5hcmVDb250cm9sc0hpZGRlbiA9IGhpZGRlbjtcbiAgICB9XG5cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLmZvckVhY2gocyA9PiBzLnVuc3Vic2NyaWJlKCkpO1xuICAgIH1cbn1cbiJdfQ==","<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button></ion-menu-button>\n    </ion-buttons>\n    <ion-title>Video Playlist</ion-title>\n    <ion-buttons slot=\"end\">\n      <!-- <ion-button (click)=\"shareMedia()\">\n        <ion-icon slot=\"icon-only\" name=\"share\"></ion-icon>\n      </ion-button> -->\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"video-playlist-content\">\n  <app-aspect-ratio [ratio]=\"{w: 16, h: 9}\">\n    <vg-player class=\"video-player\" (onPlayerReady)=\"onPlayerReady($event)\">\n\t\t\t<video class=\"expand-horizontally\" controls #player_video [vgMedia]=\"player_video\" id=\"player-video\" preload=\"auto\">\n\t      <source *ngFor=\"let video of video_playlist_model.selected_video?.sources\" [src]=\"video.src\" [type]=\"video.type\">\n\t    </video>\n\t  </vg-player>\n  </app-aspect-ratio>\n\n  <section class=\"video-data-section\">\n    <h3 class=\"video-title\">\n      <app-text-shell animation=\"gradient\" [data]=\"video_playlist_model.selected_video?.title\"></app-text-shell>\n    </h3>\n    <p class=\"video-description\">\n      <app-text-shell lines=\"5\" animation=\"gradient\" [data]=\"video_playlist_model.selected_video?.description\"></app-text-shell>\n    </p>\n  </section>\n\n  <section class=\"video-playlist-section\">\n    <ion-row class=\"playlist-item-row\" *ngFor=\"let video of video_playlist_model.video_playlist\">\n      <ion-col size=\"4\">\n        <app-image-shell [display]=\"'cover'\" class=\"video-image\" animation=\"spinner\" [src]=\"video.thumbnail\" [alt]=\"'video thumbnail'\" (click)=\"playMedia(video)\">\n          <app-aspect-ratio [ratio]=\"{w:3, h: 2}\">\n            <a class=\"play-icon-wrapper\" (click)=\"playMedia(video)\">\n              <ion-icon class=\"play-icon\" name=\"play\"></ion-icon>\n            </a>\n          </app-aspect-ratio>\n        </app-image-shell>\n      </ion-col>\n      <ion-col size=\"8\" class=\"video-info-wrapper\">\n        <h4 class=\"image-title\">\n          <app-text-shell animation=\"gradient\" [data]=\"video.title\"></app-text-shell>\n        </h4>\n        <p class=\"image-description\">\n          <app-text-shell lines=\"3\" animation=\"gradient\" [data]=\"video.description\"></app-text-shell>\n        </p>\n      </ion-col>\n    </ion-row>\n  </section>\n</ion-content>\n","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar vg_api_1 = require(\"../../core/services/vg-api\");\nvar VgTrackSelector = /** @class */ (function () {\n    function VgTrackSelector(ref, API) {\n        this.API = API;\n        this.subscriptions = [];\n        this.elem = ref.nativeElement;\n    }\n    VgTrackSelector.prototype.ngOnInit = function () {\n        var _this = this;\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(function () { return _this.onPlayerReady(); }));\n        }\n    };\n    VgTrackSelector.prototype.onPlayerReady = function () {\n        this.target = this.API.getMediaById(this.vgFor);\n        var subs = Array.from(this.API.getMasterMedia().elem.children)\n            .filter(function (item) { return item.tagName === 'TRACK'; })\n            .filter(function (item) { return item.kind === 'subtitles'; })\n            .map(function (item) { return ({\n            label: item.label,\n            selected: item.default === true,\n            id: item.srclang\n        }); });\n        this.tracks = subs.concat([\n            {\n                id: null,\n                label: 'Off',\n                selected: subs.every(function (item) { return item.selected === false; })\n            }\n        ]);\n        var track = this.tracks.filter(function (item) { return item.selected === true; })[0];\n        this.trackSelected = track.id;\n        this.ariaValue = track.label;\n    };\n    VgTrackSelector.prototype.selectTrack = function (trackId) {\n        var _this = this;\n        this.trackSelected = (trackId === 'null') ? null : trackId;\n        this.ariaValue = 'No track selected';\n        Array.from(this.API.getMasterMedia().elem.textTracks)\n            .forEach(function (item) {\n            if (item.language === trackId) {\n                _this.ariaValue = item.label;\n                item.mode = 'showing';\n            }\n            else {\n                item.mode = 'hidden';\n            }\n        });\n    };\n    VgTrackSelector.prototype.ngOnDestroy = function () {\n        this.subscriptions.forEach(function (s) { return s.unsubscribe(); });\n    };\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", String)\n    ], VgTrackSelector.prototype, \"vgFor\", void 0);\n    VgTrackSelector = __decorate([\n        core_1.Component({\n            selector: 'vg-track-selector',\n            encapsulation: core_1.ViewEncapsulation.None,\n            template: \"\\n        <div class=\\\"container\\\">\\n            <div class=\\\"track-selected\\\"\\n                 [class.vg-icon-closed_caption]=\\\"!trackSelected\\\">\\n                {{ trackSelected || '' }}\\n            </div>\\n            \\n            <select class=\\\"trackSelector\\\" \\n                    (change)=\\\"selectTrack($event.target.value)\\\"\\n                    tabindex=\\\"0\\\"\\n                    aria-label=\\\"track selector\\\"\\n                    [attr.aria-valuetext]=\\\"ariaValue\\\">\\n                <option \\n                    *ngFor=\\\"let track of tracks\\\"\\n                    [value]=\\\"track.id\\\"\\n                    [selected]=\\\"track.selected === true\\\">\\n                    {{ track.label }}\\n                </option>\\n            </select>\\n        </div>\\n    \",\n            styles: [\"\\n        vg-track-selector {\\n            -webkit-touch-callout: none;\\n            -webkit-user-select: none;\\n            -moz-user-select: none;\\n            -ms-user-select: none;\\n            user-select: none;\\n            display: flex;\\n            justify-content: center;\\n            width: 50px;\\n            height: 50px;\\n            cursor: pointer;\\n            color: white;\\n            line-height: 50px;\\n        }\\n        vg-track-selector .container {\\n            position: relative;\\n            display: flex;\\n            flex-grow: 1;\\n            align-items: center;\\n            \\n            padding: 0;\\n            margin: 5px;\\n        }\\n        vg-track-selector select.trackSelector {\\n            width: 50px;\\n            padding: 5px 8px;\\n            border: none;\\n            background: none;\\n            -webkit-appearance: none;\\n            -moz-appearance: none;\\n            appearance: none;\\n            color: transparent;\\n            font-size: 16px;\\n        }\\n        vg-track-selector select.trackSelector::-ms-expand {\\n            display: none;\\n        }\\n        vg-track-selector select.trackSelector option {\\n            color: #000;\\n        }\\n        vg-track-selector .track-selected {\\n            position: absolute;\\n            width: 100%;\\n            height: 50px;\\n            top: -6px;\\n            text-align: center;\\n            text-transform: uppercase;\\n            font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\\n            padding-top: 2px;\\n            pointer-events: none;\\n        }\\n        vg-track-selector .vg-icon-closed_caption:before {\\n            width: 100%;\\n        }\\n    \"]\n        }),\n        __metadata(\"design:paramtypes\", [core_1.ElementRef, vg_api_1.VgAPI])\n    ], VgTrackSelector);\n    return VgTrackSelector;\n}());\nexports.VgTrackSelector = VgTrackSelector;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmctdHJhY2stc2VsZWN0b3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY29udHJvbHMvdmctdHJhY2stc2VsZWN0b3IvdmctdHJhY2stc2VsZWN0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxzQ0FBbUc7QUFDbkcscURBQW1EO0FBMEZuRDtJQVlJLHlCQUFZLEdBQWUsRUFBUyxHQUFVO1FBQVYsUUFBRyxHQUFILEdBQUcsQ0FBTztRQUo5QyxrQkFBYSxHQUFtQixFQUFFLENBQUM7UUFLL0IsSUFBSSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsYUFBYSxDQUFDO0lBQ2xDLENBQUM7SUFFRCxrQ0FBUSxHQUFSO1FBQUEsaUJBT0M7UUFORyxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFO1lBQ3hCLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztTQUN4QjthQUNJO1lBQ0QsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLENBQUMsY0FBTSxPQUFBLEtBQUksQ0FBQyxhQUFhLEVBQUUsRUFBcEIsQ0FBb0IsQ0FBQyxDQUFDLENBQUM7U0FDNUY7SUFDTCxDQUFDO0lBRUQsdUNBQWEsR0FBYjtRQUNJLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBRWhELElBQU0sSUFBSSxHQUFrQixLQUFLLENBQUMsSUFBSSxDQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsY0FBYyxFQUFFLENBQUMsSUFBeUIsQ0FBQyxRQUFRLENBQUM7YUFDaEcsTUFBTSxDQUFDLFVBQUMsSUFBaUIsSUFBSyxPQUFBLElBQUksQ0FBQyxPQUFPLEtBQUssT0FBTyxFQUF4QixDQUF3QixDQUFDO2FBQ3ZELE1BQU0sQ0FBQyxVQUFDLElBQXNCLElBQUssT0FBQSxJQUFJLENBQUMsSUFBSSxLQUFLLFdBQVcsRUFBekIsQ0FBeUIsQ0FBQzthQUM3RCxHQUFHLENBQUMsVUFBQyxJQUFzQixJQUFLLE9BQUEsQ0FBQztZQUM5QixLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7WUFDakIsUUFBUSxFQUFFLElBQUksQ0FBQyxPQUFPLEtBQUssSUFBSTtZQUMvQixFQUFFLEVBQUUsSUFBSSxDQUFDLE9BQU87U0FDbkIsQ0FBQyxFQUorQixDQUkvQixDQUFDLENBQUM7UUFFUixJQUFJLENBQUMsTUFBTSxHQUNKLElBQUk7WUFDUDtnQkFDSSxFQUFFLEVBQUUsSUFBSTtnQkFDUixLQUFLLEVBQUUsS0FBSztnQkFDWixRQUFRLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFDLElBQVksSUFBSyxPQUFBLElBQUksQ0FBQyxRQUFRLEtBQUssS0FBSyxFQUF2QixDQUF1QixDQUFDO2FBQ2xFO1VBQ0osQ0FBQztRQUVGLElBQU0sS0FBSyxHQUFXLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLFVBQUMsSUFBWSxJQUFLLE9BQUEsSUFBSSxDQUFDLFFBQVEsS0FBSyxJQUFJLEVBQXRCLENBQXNCLENBQUMsQ0FBRSxDQUFDLENBQUUsQ0FBQztRQUN4RixJQUFJLENBQUMsYUFBYSxHQUFHLEtBQUssQ0FBQyxFQUFFLENBQUM7UUFDOUIsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDO0lBQ2pDLENBQUM7SUFFRCxxQ0FBVyxHQUFYLFVBQVksT0FBZTtRQUEzQixpQkFjQztRQWJHLElBQUksQ0FBQyxhQUFhLEdBQUcsQ0FBQyxPQUFPLEtBQUssTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDO1FBRTNELElBQUksQ0FBQyxTQUFTLEdBQUcsbUJBQW1CLENBQUM7UUFFckMsS0FBSyxDQUFDLElBQUksQ0FBRSxJQUFJLENBQUMsR0FBRyxDQUFDLGNBQWMsRUFBRSxDQUFDLElBQXlCLENBQUMsVUFBVSxDQUFDO2FBQ3RFLE9BQU8sQ0FBQyxVQUFDLElBQWU7WUFDckIsSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLE9BQU8sRUFBRTtnQkFDM0IsS0FBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO2dCQUM1QixJQUFJLENBQUMsSUFBSSxHQUFHLFNBQVMsQ0FBQzthQUN6QjtpQkFBTTtnQkFDSCxJQUFJLENBQUMsSUFBSSxHQUFHLFFBQVEsQ0FBQzthQUN4QjtRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ1gsQ0FBQztJQUVELHFDQUFXLEdBQVg7UUFDSSxJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFBLENBQUMsQ0FBQyxXQUFXLEVBQUUsRUFBZixDQUFlLENBQUMsQ0FBQztJQUNyRCxDQUFDO0lBcEVRO1FBQVIsWUFBSyxFQUFFOztrREFBZTtJQURkLGVBQWU7UUFqRjNCLGdCQUFTLENBQUM7WUFDUCxRQUFRLEVBQUUsbUJBQW1CO1lBQzdCLGFBQWEsRUFBRSx3QkFBaUIsQ0FBQyxJQUFJO1lBQ3JDLFFBQVEsRUFBRSx3d0JBb0JUO1lBQ0QsTUFBTSxFQUFFLENBQUUsK3BEQXVEVCxDQUFFO1NBQ04sQ0FBQzt5Q0FhbUIsaUJBQVUsRUFBYyxjQUFLO09BWnJDLGVBQWUsQ0FzRTNCO0lBQUQsc0JBQUM7Q0FBQSxBQXRFRCxJQXNFQztBQXRFWSwwQ0FBZSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgRWxlbWVudFJlZiwgT25Jbml0LCBJbnB1dCwgVmlld0VuY2Fwc3VsYXRpb24sIE9uRGVzdHJveSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVmdBUEkgfSBmcm9tICcuLi8uLi9jb3JlL3NlcnZpY2VzL3ZnLWFwaSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcblxuZXhwb3J0IGludGVyZmFjZSBPcHRpb24ge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbGFiZWw6IHN0cmluZztcbiAgICBzZWxlY3RlZDogYm9vbGVhbjtcbn1cblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICd2Zy10cmFjay1zZWxlY3RvcicsXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgICB0ZW1wbGF0ZTogYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidHJhY2stc2VsZWN0ZWRcIlxuICAgICAgICAgICAgICAgICBbY2xhc3MudmctaWNvbi1jbG9zZWRfY2FwdGlvbl09XCIhdHJhY2tTZWxlY3RlZFwiPlxuICAgICAgICAgICAgICAgIHt7IHRyYWNrU2VsZWN0ZWQgfHwgJycgfX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8c2VsZWN0IGNsYXNzPVwidHJhY2tTZWxlY3RvclwiIFxuICAgICAgICAgICAgICAgICAgICAoY2hhbmdlKT1cInNlbGVjdFRyYWNrKCRldmVudC50YXJnZXQudmFsdWUpXCJcbiAgICAgICAgICAgICAgICAgICAgdGFiaW5kZXg9XCIwXCJcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cInRyYWNrIHNlbGVjdG9yXCJcbiAgICAgICAgICAgICAgICAgICAgW2F0dHIuYXJpYS12YWx1ZXRleHRdPVwiYXJpYVZhbHVlXCI+XG4gICAgICAgICAgICAgICAgPG9wdGlvbiBcbiAgICAgICAgICAgICAgICAgICAgKm5nRm9yPVwibGV0IHRyYWNrIG9mIHRyYWNrc1wiXG4gICAgICAgICAgICAgICAgICAgIFt2YWx1ZV09XCJ0cmFjay5pZFwiXG4gICAgICAgICAgICAgICAgICAgIFtzZWxlY3RlZF09XCJ0cmFjay5zZWxlY3RlZCA9PT0gdHJ1ZVwiPlxuICAgICAgICAgICAgICAgICAgICB7eyB0cmFjay5sYWJlbCB9fVxuICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgIDwvZGl2PlxuICAgIGAsXG4gICAgc3R5bGVzOiBbIGBcbiAgICAgICAgdmctdHJhY2stc2VsZWN0b3Ige1xuICAgICAgICAgICAgLXdlYmtpdC10b3VjaC1jYWxsb3V0OiBub25lO1xuICAgICAgICAgICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgICAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgICAgIHdpZHRoOiA1MHB4O1xuICAgICAgICAgICAgaGVpZ2h0OiA1MHB4O1xuICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDUwcHg7XG4gICAgICAgIH1cbiAgICAgICAgdmctdHJhY2stc2VsZWN0b3IgLmNvbnRhaW5lciB7XG4gICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgZmxleC1ncm93OiAxO1xuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgICAgIG1hcmdpbjogNXB4O1xuICAgICAgICB9XG4gICAgICAgIHZnLXRyYWNrLXNlbGVjdG9yIHNlbGVjdC50cmFja1NlbGVjdG9yIHtcbiAgICAgICAgICAgIHdpZHRoOiA1MHB4O1xuICAgICAgICAgICAgcGFkZGluZzogNXB4IDhweDtcbiAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IG5vbmU7XG4gICAgICAgICAgICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XG4gICAgICAgICAgICAtbW96LWFwcGVhcmFuY2U6IG5vbmU7XG4gICAgICAgICAgICBhcHBlYXJhbmNlOiBub25lO1xuICAgICAgICAgICAgY29sb3I6IHRyYW5zcGFyZW50O1xuICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgICB9XG4gICAgICAgIHZnLXRyYWNrLXNlbGVjdG9yIHNlbGVjdC50cmFja1NlbGVjdG9yOjotbXMtZXhwYW5kIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICAgIH1cbiAgICAgICAgdmctdHJhY2stc2VsZWN0b3Igc2VsZWN0LnRyYWNrU2VsZWN0b3Igb3B0aW9uIHtcbiAgICAgICAgICAgIGNvbG9yOiAjMDAwO1xuICAgICAgICB9XG4gICAgICAgIHZnLXRyYWNrLXNlbGVjdG9yIC50cmFjay1zZWxlY3RlZCB7XG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgIGhlaWdodDogNTBweDtcbiAgICAgICAgICAgIHRvcDogLTZweDtcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgICAgICAgICBmb250LWZhbWlseTogSGVsdmV0aWNhIE5ldWUsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7XG4gICAgICAgICAgICBwYWRkaW5nLXRvcDogMnB4O1xuICAgICAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICAgIH1cbiAgICAgICAgdmctdHJhY2stc2VsZWN0b3IgLnZnLWljb24tY2xvc2VkX2NhcHRpb246YmVmb3JlIHtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICB9XG4gICAgYCBdXG59KVxuZXhwb3J0IGNsYXNzIFZnVHJhY2tTZWxlY3RvciBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95IHtcbiAgICBASW5wdXQoKSB2Z0Zvcjogc3RyaW5nO1xuXG4gICAgZWxlbTogSFRNTEVsZW1lbnQ7XG4gICAgdGFyZ2V0OiBhbnk7XG4gICAgdHJhY2tzOiBBcnJheTxPcHRpb24+O1xuICAgIHRyYWNrU2VsZWN0ZWQ6IHN0cmluZztcblxuICAgIHN1YnNjcmlwdGlvbnM6IFN1YnNjcmlwdGlvbltdID0gW107XG5cbiAgICBhcmlhVmFsdWU6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKHJlZjogRWxlbWVudFJlZiwgcHVibGljIEFQSTogVmdBUEkpIHtcbiAgICAgICAgdGhpcy5lbGVtID0gcmVmLm5hdGl2ZUVsZW1lbnQ7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIGlmICh0aGlzLkFQSS5pc1BsYXllclJlYWR5KSB7XG4gICAgICAgICAgICB0aGlzLm9uUGxheWVyUmVhZHkoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKHRoaXMuQVBJLnBsYXllclJlYWR5RXZlbnQuc3Vic2NyaWJlKCgpID0+IHRoaXMub25QbGF5ZXJSZWFkeSgpKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblBsYXllclJlYWR5KCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRoaXMuQVBJLmdldE1lZGlhQnlJZCh0aGlzLnZnRm9yKTtcblxuICAgICAgICBjb25zdCBzdWJzOiBBcnJheTxPcHRpb24+ID0gQXJyYXkuZnJvbSgodGhpcy5BUEkuZ2V0TWFzdGVyTWVkaWEoKS5lbGVtIGFzIEhUTUxNZWRpYUVsZW1lbnQpLmNoaWxkcmVuKVxuICAgICAgICAgICAgLmZpbHRlcigoaXRlbTogSFRNTEVsZW1lbnQpID0+IGl0ZW0udGFnTmFtZSA9PT0gJ1RSQUNLJylcbiAgICAgICAgICAgIC5maWx0ZXIoKGl0ZW06IEhUTUxUcmFja0VsZW1lbnQpID0+IGl0ZW0ua2luZCA9PT0gJ3N1YnRpdGxlcycpXG4gICAgICAgICAgICAubWFwKChpdGVtOiBIVE1MVHJhY2tFbGVtZW50KSA9PiAoe1xuICAgICAgICAgICAgICAgIGxhYmVsOiBpdGVtLmxhYmVsLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkOiBpdGVtLmRlZmF1bHQgPT09IHRydWUsXG4gICAgICAgICAgICAgICAgaWQ6IGl0ZW0uc3JjbGFuZ1xuICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgIHRoaXMudHJhY2tzID0gW1xuICAgICAgICAgICAgLi4uc3VicyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZDogbnVsbCxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ09mZicsXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IHN1YnMuZXZlcnkoKGl0ZW06IE9wdGlvbikgPT4gaXRlbS5zZWxlY3RlZCA9PT0gZmFsc2UpXG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG5cbiAgICAgICAgY29uc3QgdHJhY2s6IE9wdGlvbiA9IHRoaXMudHJhY2tzLmZpbHRlcigoaXRlbTogT3B0aW9uKSA9PiBpdGVtLnNlbGVjdGVkID09PSB0cnVlKVsgMCBdO1xuICAgICAgICB0aGlzLnRyYWNrU2VsZWN0ZWQgPSB0cmFjay5pZDtcbiAgICAgICAgdGhpcy5hcmlhVmFsdWUgPSB0cmFjay5sYWJlbDtcbiAgICB9XG5cbiAgICBzZWxlY3RUcmFjayh0cmFja0lkOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy50cmFja1NlbGVjdGVkID0gKHRyYWNrSWQgPT09ICdudWxsJykgPyBudWxsIDogdHJhY2tJZDtcblxuICAgICAgICB0aGlzLmFyaWFWYWx1ZSA9ICdObyB0cmFjayBzZWxlY3RlZCc7XG5cbiAgICAgICAgQXJyYXkuZnJvbSgodGhpcy5BUEkuZ2V0TWFzdGVyTWVkaWEoKS5lbGVtIGFzIEhUTUxNZWRpYUVsZW1lbnQpLnRleHRUcmFja3MpXG4gICAgICAgICAgICAuZm9yRWFjaCgoaXRlbTogVGV4dFRyYWNrKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0ubGFuZ3VhZ2UgPT09IHRyYWNrSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcmlhVmFsdWUgPSBpdGVtLmxhYmVsO1xuICAgICAgICAgICAgICAgICAgICBpdGVtLm1vZGUgPSAnc2hvd2luZyc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5tb2RlID0gJ2hpZGRlbic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5mb3JFYWNoKHMgPT4gcy51bnN1YnNjcmliZSgpKTtcbiAgICB9XG59XG4iXX0=","import { ShellModel } from '../shell/data-store';\n\nexport class VideoModel {\n  title: string;\n  description: string;\n  thumbnail: string;\n  sources: Array<{ src: string, type: string }>;\n}\n\nexport class VideoPlaylistModel extends ShellModel {\n  selected_video: VideoModel = new VideoModel();\n\n  video_playlist: Array<VideoModel> = [\n    new VideoModel(),\n    new VideoModel(),\n    new VideoModel()\n  ];\n\n  constructor() {\n    super();\n  }\n}\n","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar vg_api_1 = require(\"../../core/services/vg-api\");\n// Workaround until we can use UTC with Angular Date Pipe\nvar VgUtcPipe = /** @class */ (function () {\n    function VgUtcPipe() {\n    }\n    VgUtcPipe.prototype.transform = function (value, format) {\n        var date = new Date(value);\n        var result = format;\n        var ss = date.getUTCSeconds();\n        var mm = date.getUTCMinutes();\n        var hh = date.getUTCHours();\n        if (ss < 10) {\n            ss = '0' + ss;\n        }\n        if (mm < 10) {\n            mm = '0' + mm;\n        }\n        if (hh < 10) {\n            hh = '0' + hh;\n        }\n        result = result.replace(/ss/g, ss);\n        result = result.replace(/mm/g, mm);\n        result = result.replace(/hh/g, hh);\n        return result;\n    };\n    VgUtcPipe = __decorate([\n        core_1.Pipe({ name: 'vgUtc' })\n    ], VgUtcPipe);\n    return VgUtcPipe;\n}());\nexports.VgUtcPipe = VgUtcPipe;\nvar VgTimeDisplay = /** @class */ (function () {\n    function VgTimeDisplay(ref, API) {\n        this.API = API;\n        this.vgProperty = 'current';\n        this.vgFormat = 'mm:ss';\n        this.subscriptions = [];\n        this.elem = ref.nativeElement;\n    }\n    VgTimeDisplay.prototype.ngOnInit = function () {\n        var _this = this;\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(function () { return _this.onPlayerReady(); }));\n        }\n    };\n    VgTimeDisplay.prototype.onPlayerReady = function () {\n        this.target = this.API.getMediaById(this.vgFor);\n    };\n    VgTimeDisplay.prototype.getTime = function () {\n        var t = 0;\n        if (this.target) {\n            t = Math.round(this.target.time[this.vgProperty]);\n            t = isNaN(t) || this.target.isLive ? 0 : t;\n        }\n        return t;\n    };\n    VgTimeDisplay.prototype.ngOnDestroy = function () {\n        this.subscriptions.forEach(function (s) { return s.unsubscribe(); });\n    };\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", String)\n    ], VgTimeDisplay.prototype, \"vgFor\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Object)\n    ], VgTimeDisplay.prototype, \"vgProperty\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Object)\n    ], VgTimeDisplay.prototype, \"vgFormat\", void 0);\n    VgTimeDisplay = __decorate([\n        core_1.Component({\n            selector: 'vg-time-display',\n            encapsulation: core_1.ViewEncapsulation.None,\n            template: \"\\n        <span *ngIf=\\\"target?.isLive\\\">LIVE</span>\\n        <span *ngIf=\\\"!target?.isLive\\\">{{ getTime() | vgUtc:vgFormat }}</span>\\n        <ng-content></ng-content>\\n    \",\n            styles: [\"\\n        vg-time-display {\\n            -webkit-touch-callout: none;\\n            -webkit-user-select: none;\\n            -moz-user-select: none;\\n            -ms-user-select: none;\\n            user-select: none;\\n            display: flex;\\n            justify-content: center;\\n            height: 50px;\\n            width: 60px;\\n            cursor: pointer;\\n            color: white;\\n            line-height: 50px;\\n            pointer-events: none;\\n            font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\\n        }\\n    \"]\n        }),\n        __metadata(\"design:paramtypes\", [core_1.ElementRef, vg_api_1.VgAPI])\n    ], VgTimeDisplay);\n    return VgTimeDisplay;\n}());\nexports.VgTimeDisplay = VgTimeDisplay;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmctdGltZS1kaXNwbGF5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2NvbnRyb2xzL3ZnLXRpbWUtZGlzcGxheS92Zy10aW1lLWRpc3BsYXkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxzQ0FBd0g7QUFDeEgscURBQW1EO0FBR25ELHlEQUF5RDtBQUV6RDtJQUFBO0lBd0JBLENBQUM7SUF2QkcsNkJBQVMsR0FBVCxVQUFVLEtBQWEsRUFBRSxNQUFjO1FBQ25DLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzNCLElBQUksTUFBTSxHQUFHLE1BQU0sQ0FBQztRQUNwQixJQUFJLEVBQUUsR0FBa0IsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQzdDLElBQUksRUFBRSxHQUFrQixJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDN0MsSUFBSSxFQUFFLEdBQWtCLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUUzQyxJQUFJLEVBQUUsR0FBRyxFQUFFLEVBQUU7WUFDVCxFQUFFLEdBQUcsR0FBRyxHQUFHLEVBQUUsQ0FBQztTQUNqQjtRQUNELElBQUksRUFBRSxHQUFHLEVBQUUsRUFBRTtZQUNULEVBQUUsR0FBRyxHQUFHLEdBQUcsRUFBRSxDQUFDO1NBQ2pCO1FBQ0QsSUFBSSxFQUFFLEdBQUcsRUFBRSxFQUFFO1lBQ1QsRUFBRSxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUM7U0FDakI7UUFFRCxNQUFNLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQVUsRUFBRSxDQUFDLENBQUM7UUFDM0MsTUFBTSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFVLEVBQUUsQ0FBQyxDQUFDO1FBQzNDLE1BQU0sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBVSxFQUFFLENBQUMsQ0FBQztRQUUzQyxPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDO0lBdkJRLFNBQVM7UUFEckIsV0FBSSxDQUFDLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxDQUFDO09BQ1gsU0FBUyxDQXdCckI7SUFBRCxnQkFBQztDQUFBLEFBeEJELElBd0JDO0FBeEJZLDhCQUFTO0FBcUR0QjtJQVVJLHVCQUFZLEdBQWUsRUFBUyxHQUFVO1FBQVYsUUFBRyxHQUFILEdBQUcsQ0FBTztRQVJyQyxlQUFVLEdBQUcsU0FBUyxDQUFDO1FBQ3ZCLGFBQVEsR0FBRyxPQUFPLENBQUM7UUFLNUIsa0JBQWEsR0FBbUIsRUFBRSxDQUFDO1FBRy9CLElBQUksQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDLGFBQWEsQ0FBQztJQUNsQyxDQUFDO0lBRUQsZ0NBQVEsR0FBUjtRQUFBLGlCQU9DO1FBTkcsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBRTtZQUN4QixJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7U0FDeEI7YUFDSTtZQUNELElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLGNBQU0sT0FBQSxLQUFJLENBQUMsYUFBYSxFQUFFLEVBQXBCLENBQW9CLENBQUMsQ0FBQyxDQUFDO1NBQzVGO0lBQ0wsQ0FBQztJQUVELHFDQUFhLEdBQWI7UUFDSSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNwRCxDQUFDO0lBRUQsK0JBQU8sR0FBUDtRQUNJLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUVWLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNiLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFFLElBQUksQ0FBQyxVQUFVLENBQUUsQ0FBQyxDQUFDO1lBQ3BELENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQzlDO1FBRUQsT0FBTyxDQUFDLENBQUM7SUFDYixDQUFDO0lBRUQsbUNBQVcsR0FBWDtRQUNJLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLFVBQUEsQ0FBQyxJQUFJLE9BQUEsQ0FBQyxDQUFDLFdBQVcsRUFBRSxFQUFmLENBQWUsQ0FBQyxDQUFDO0lBQ3JELENBQUM7SUF2Q1E7UUFBUixZQUFLLEVBQUU7O2dEQUFlO0lBQ2Q7UUFBUixZQUFLLEVBQUU7O3FEQUF3QjtJQUN2QjtRQUFSLFlBQUssRUFBRTs7bURBQW9CO0lBSG5CLGFBQWE7UUEzQnpCLGdCQUFTLENBQUM7WUFDUCxRQUFRLEVBQUUsaUJBQWlCO1lBQzNCLGFBQWEsRUFBRSx3QkFBaUIsQ0FBQyxJQUFJO1lBQ3JDLFFBQVEsRUFBRSxnTEFJVDtZQUNELE1BQU0sRUFBRSxDQUFFLG9pQkFpQlQsQ0FBRTtTQUNOLENBQUM7eUNBV21CLGlCQUFVLEVBQWMsY0FBSztPQVZyQyxhQUFhLENBeUN6QjtJQUFELG9CQUFDO0NBQUEsQUF6Q0QsSUF5Q0M7QUF6Q1ksc0NBQWEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBFbGVtZW50UmVmLCBPbkluaXQsIFBpcGVUcmFuc2Zvcm0sIFBpcGUsIFZpZXdFbmNhcHN1bGF0aW9uLCBPbkRlc3Ryb3kgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFZnQVBJIH0gZnJvbSAnLi4vLi4vY29yZS9zZXJ2aWNlcy92Zy1hcGknO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5cbi8vIFdvcmthcm91bmQgdW50aWwgd2UgY2FuIHVzZSBVVEMgd2l0aCBBbmd1bGFyIERhdGUgUGlwZVxuQFBpcGUoeyBuYW1lOiAndmdVdGMnIH0pXG5leHBvcnQgY2xhc3MgVmdVdGNQaXBlIGltcGxlbWVudHMgUGlwZVRyYW5zZm9ybSB7XG4gICAgdHJhbnNmb3JtKHZhbHVlOiBudW1iZXIsIGZvcm1hdDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IGRhdGUgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgICAgIGxldCByZXN1bHQgPSBmb3JtYXQ7XG4gICAgICAgIGxldCBzczogc3RyaW5nfG51bWJlciA9IGRhdGUuZ2V0VVRDU2Vjb25kcygpO1xuICAgICAgICBsZXQgbW06IHN0cmluZ3xudW1iZXIgPSBkYXRlLmdldFVUQ01pbnV0ZXMoKTtcbiAgICAgICAgbGV0IGhoOiBzdHJpbmd8bnVtYmVyID0gZGF0ZS5nZXRVVENIb3VycygpO1xuXG4gICAgICAgIGlmIChzcyA8IDEwKSB7XG4gICAgICAgICAgICBzcyA9ICcwJyArIHNzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtbSA8IDEwKSB7XG4gICAgICAgICAgICBtbSA9ICcwJyArIG1tO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoaCA8IDEwKSB7XG4gICAgICAgICAgICBoaCA9ICcwJyArIGhoO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoL3NzL2csIDxzdHJpbmc+c3MpO1xuICAgICAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZSgvbW0vZywgPHN0cmluZz5tbSk7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKC9oaC9nLCA8c3RyaW5nPmhoKTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICd2Zy10aW1lLWRpc3BsYXknLFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gICAgdGVtcGxhdGU6IGBcbiAgICAgICAgPHNwYW4gKm5nSWY9XCJ0YXJnZXQ/LmlzTGl2ZVwiPkxJVkU8L3NwYW4+XG4gICAgICAgIDxzcGFuICpuZ0lmPVwiIXRhcmdldD8uaXNMaXZlXCI+e3sgZ2V0VGltZSgpIHwgdmdVdGM6dmdGb3JtYXQgfX08L3NwYW4+XG4gICAgICAgIDxuZy1jb250ZW50PjwvbmctY29udGVudD5cbiAgICBgLFxuICAgIHN0eWxlczogWyBgXG4gICAgICAgIHZnLXRpbWUtZGlzcGxheSB7XG4gICAgICAgICAgICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XG4gICAgICAgICAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAgICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgICAgIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICAgICAgaGVpZ2h0OiA1MHB4O1xuICAgICAgICAgICAgd2lkdGg6IDYwcHg7XG4gICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgICAgICBsaW5lLWhlaWdodDogNTBweDtcbiAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgICAgICAgZm9udC1mYW1pbHk6IEhlbHZldGljYSBOZXVlLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmO1xuICAgICAgICB9XG4gICAgYCBdXG59KVxuZXhwb3J0IGNsYXNzIFZnVGltZURpc3BsYXkgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSB7XG4gICAgQElucHV0KCkgdmdGb3I6IHN0cmluZztcbiAgICBASW5wdXQoKSB2Z1Byb3BlcnR5ID0gJ2N1cnJlbnQnO1xuICAgIEBJbnB1dCgpIHZnRm9ybWF0ID0gJ21tOnNzJztcblxuICAgIGVsZW06IEhUTUxFbGVtZW50O1xuICAgIHRhcmdldDogYW55O1xuXG4gICAgc3Vic2NyaXB0aW9uczogU3Vic2NyaXB0aW9uW10gPSBbXTtcblxuICAgIGNvbnN0cnVjdG9yKHJlZjogRWxlbWVudFJlZiwgcHVibGljIEFQSTogVmdBUEkpIHtcbiAgICAgICAgdGhpcy5lbGVtID0gcmVmLm5hdGl2ZUVsZW1lbnQ7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIGlmICh0aGlzLkFQSS5pc1BsYXllclJlYWR5KSB7XG4gICAgICAgICAgICB0aGlzLm9uUGxheWVyUmVhZHkoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKHRoaXMuQVBJLnBsYXllclJlYWR5RXZlbnQuc3Vic2NyaWJlKCgpID0+IHRoaXMub25QbGF5ZXJSZWFkeSgpKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblBsYXllclJlYWR5KCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRoaXMuQVBJLmdldE1lZGlhQnlJZCh0aGlzLnZnRm9yKTtcbiAgICB9XG5cbiAgICBnZXRUaW1lKCkge1xuICAgICAgICBsZXQgdCA9IDA7XG5cbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0KSB7XG4gICAgICAgICAgICB0ID0gTWF0aC5yb3VuZCh0aGlzLnRhcmdldC50aW1lWyB0aGlzLnZnUHJvcGVydHkgXSk7XG4gICAgICAgICAgICB0ID0gaXNOYU4odCkgfHwgdGhpcy50YXJnZXQuaXNMaXZlID8gMCA6IHQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdDtcbiAgICB9XG5cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLmZvckVhY2gocyA9PiBzLnVuc3Vic2NyaWJlKCkpO1xuICAgIH1cbn1cbiJdfQ==","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar vg_api_1 = require(\"../../../core/services/vg-api\");\nvar VgScrubBarBufferingTime = /** @class */ (function () {\n    function VgScrubBarBufferingTime(ref, API) {\n        this.API = API;\n        this.subscriptions = [];\n        this.elem = ref.nativeElement;\n    }\n    VgScrubBarBufferingTime.prototype.ngOnInit = function () {\n        var _this = this;\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(function () { return _this.onPlayerReady(); }));\n        }\n    };\n    VgScrubBarBufferingTime.prototype.onPlayerReady = function () {\n        this.target = this.API.getMediaById(this.vgFor);\n    };\n    VgScrubBarBufferingTime.prototype.getBufferTime = function () {\n        var bufferTime = \"0%\";\n        if (this.target && this.target.buffer && this.target.buffered.length) {\n            if (this.target.time.total === 0) {\n                bufferTime = '0%';\n            }\n            else {\n                bufferTime = ((this.target.buffer.end / this.target.time.total) * 100) + '%';\n            }\n        }\n        return bufferTime;\n    };\n    VgScrubBarBufferingTime.prototype.ngOnDestroy = function () {\n        this.subscriptions.forEach(function (s) { return s.unsubscribe(); });\n    };\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", String)\n    ], VgScrubBarBufferingTime.prototype, \"vgFor\", void 0);\n    VgScrubBarBufferingTime = __decorate([\n        core_1.Component({\n            selector: 'vg-scrub-bar-buffering-time',\n            encapsulation: core_1.ViewEncapsulation.None,\n            template: \"<div class=\\\"background\\\" [style.width]=\\\"getBufferTime()\\\"></div>\",\n            styles: [\"\\n        vg-scrub-bar-buffering-time {\\n            display: flex;\\n            width: 100%;\\n            height: 5px;\\n            pointer-events: none;\\n            position: absolute;\\n        }\\n\\n        vg-scrub-bar-buffering-time .background {\\n            background-color: rgba(255, 255, 255, 0.3);\\n        }\\n\\n        vg-controls vg-scrub-bar-buffering-time {\\n            position: absolute;\\n            top: calc(50% - 3px);\\n        }\\n\\n        vg-controls vg-scrub-bar-buffering-time .background {\\n            -webkit-border-radius: 2px;\\n            -moz-border-radius: 2px;\\n            border-radius: 2px;\\n        }\\n    \"]\n        }),\n        __metadata(\"design:paramtypes\", [core_1.ElementRef, vg_api_1.VgAPI])\n    ], VgScrubBarBufferingTime);\n    return VgScrubBarBufferingTime;\n}());\nexports.VgScrubBarBufferingTime = VgScrubBarBufferingTime;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmctc2NydWItYmFyLWJ1ZmZlcmluZy10aW1lLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL2NvbnRyb2xzL3ZnLXNjcnViLWJhci92Zy1zY3J1Yi1iYXItYnVmZmVyaW5nLXRpbWUvdmctc2NydWItYmFyLWJ1ZmZlcmluZy10aW1lLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUEsc0NBQW1HO0FBQ25HLHdEQUFzRDtBQWdDdEQ7SUFRSSxpQ0FBWSxHQUFlLEVBQVMsR0FBVTtRQUFWLFFBQUcsR0FBSCxHQUFHLENBQU87UUFGOUMsa0JBQWEsR0FBbUIsRUFBRSxDQUFDO1FBRy9CLElBQUksQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDLGFBQWEsQ0FBQztJQUNsQyxDQUFDO0lBRUQsMENBQVEsR0FBUjtRQUFBLGlCQU9DO1FBTkcsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBRTtZQUN4QixJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7U0FDeEI7YUFDSTtZQUNELElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLGNBQU0sT0FBQSxLQUFJLENBQUMsYUFBYSxFQUFFLEVBQXBCLENBQW9CLENBQUMsQ0FBQyxDQUFDO1NBQzVGO0lBQ0wsQ0FBQztJQUVELCtDQUFhLEdBQWI7UUFDSSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNwRCxDQUFDO0lBRUQsK0NBQWEsR0FBYjtRQUNJLElBQUksVUFBVSxHQUFHLElBQUksQ0FBQztRQUV0QixJQUFJLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFO1lBQ2xFLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxLQUFLLENBQUMsRUFBRTtnQkFDOUIsVUFBVSxHQUFHLElBQUksQ0FBQzthQUNyQjtpQkFDSTtnQkFDRCxVQUFVLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUM7YUFDaEY7U0FDSjtRQUVELE9BQU8sVUFBVSxDQUFDO0lBQ3RCLENBQUM7SUFFRCw2Q0FBVyxHQUFYO1FBQ0ksSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxDQUFDLENBQUMsV0FBVyxFQUFFLEVBQWYsQ0FBZSxDQUFDLENBQUM7SUFDckQsQ0FBQztJQXpDUTtRQUFSLFlBQUssRUFBRTs7MERBQWU7SUFEZCx1QkFBdUI7UUE3Qm5DLGdCQUFTLENBQUM7WUFDUCxRQUFRLEVBQUUsNkJBQTZCO1lBQ3ZDLGFBQWEsRUFBRSx3QkFBaUIsQ0FBQyxJQUFJO1lBQ3JDLFFBQVEsRUFBRSxvRUFBZ0U7WUFDMUUsTUFBTSxFQUFFLENBQUUsdW9CQXVCVCxDQUFFO1NBQ04sQ0FBQzt5Q0FTbUIsaUJBQVUsRUFBYyxjQUFLO09BUnJDLHVCQUF1QixDQTJDbkM7SUFBRCw4QkFBQztDQUFBLEFBM0NELElBMkNDO0FBM0NZLDBEQUF1QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIEVsZW1lbnRSZWYsIE9uSW5pdCwgVmlld0VuY2Fwc3VsYXRpb24sIE9uRGVzdHJveSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVmdBUEkgfSBmcm9tICcuLi8uLi8uLi9jb3JlL3NlcnZpY2VzL3ZnLWFwaSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICd2Zy1zY3J1Yi1iYXItYnVmZmVyaW5nLXRpbWUnLFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gICAgdGVtcGxhdGU6IGA8ZGl2IGNsYXNzPVwiYmFja2dyb3VuZFwiIFtzdHlsZS53aWR0aF09XCJnZXRCdWZmZXJUaW1lKClcIj48L2Rpdj5gLFxuICAgIHN0eWxlczogWyBgXG4gICAgICAgIHZnLXNjcnViLWJhci1idWZmZXJpbmctdGltZSB7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICBoZWlnaHQ6IDVweDtcbiAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmctc2NydWItYmFyLWJ1ZmZlcmluZy10aW1lIC5iYWNrZ3JvdW5kIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZnLWNvbnRyb2xzIHZnLXNjcnViLWJhci1idWZmZXJpbmctdGltZSB7XG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICB0b3A6IGNhbGMoNTAlIC0gM3B4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZnLWNvbnRyb2xzIHZnLXNjcnViLWJhci1idWZmZXJpbmctdGltZSAuYmFja2dyb3VuZCB7XG4gICAgICAgICAgICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDJweDtcbiAgICAgICAgICAgIC1tb3otYm9yZGVyLXJhZGl1czogMnB4O1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xuICAgICAgICB9XG4gICAgYCBdXG59KVxuZXhwb3J0IGNsYXNzIFZnU2NydWJCYXJCdWZmZXJpbmdUaW1lIGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3kge1xuICAgIEBJbnB1dCgpIHZnRm9yOiBzdHJpbmc7XG5cbiAgICBlbGVtOiBIVE1MRWxlbWVudDtcbiAgICB0YXJnZXQ6IGFueTtcblxuICAgIHN1YnNjcmlwdGlvbnM6IFN1YnNjcmlwdGlvbltdID0gW107XG5cbiAgICBjb25zdHJ1Y3RvcihyZWY6IEVsZW1lbnRSZWYsIHB1YmxpYyBBUEk6IFZnQVBJKSB7XG4gICAgICAgIHRoaXMuZWxlbSA9IHJlZi5uYXRpdmVFbGVtZW50O1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICBpZiAodGhpcy5BUEkuaXNQbGF5ZXJSZWFkeSkge1xuICAgICAgICAgICAgdGhpcy5vblBsYXllclJlYWR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaCh0aGlzLkFQSS5wbGF5ZXJSZWFkeUV2ZW50LnN1YnNjcmliZSgoKSA9PiB0aGlzLm9uUGxheWVyUmVhZHkoKSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25QbGF5ZXJSZWFkeSgpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLkFQSS5nZXRNZWRpYUJ5SWQodGhpcy52Z0Zvcik7XG4gICAgfVxuXG4gICAgZ2V0QnVmZmVyVGltZSgpIHtcbiAgICAgICAgbGV0IGJ1ZmZlclRpbWUgPSBcIjAlXCI7XG5cbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0ICYmIHRoaXMudGFyZ2V0LmJ1ZmZlciAmJiB0aGlzLnRhcmdldC5idWZmZXJlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldC50aW1lLnRvdGFsID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnVmZmVyVGltZSA9ICcwJSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBidWZmZXJUaW1lID0gKCh0aGlzLnRhcmdldC5idWZmZXIuZW5kIC8gdGhpcy50YXJnZXQudGltZS50b3RhbCkgKiAxMDApICsgJyUnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJ1ZmZlclRpbWU7XG4gICAgfVxuXG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5mb3JFYWNoKHMgPT4gcy51bnN1YnNjcmliZSgpKTtcbiAgICB9XG59XG4iXX0=","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar rxjs_1 = require(\"rxjs\");\nvar operators_1 = require(\"rxjs/operators\");\nvar vg_states_1 = require(\"../states/vg-states\");\nvar vg_api_1 = require(\"../services/vg-api\");\nvar vg_events_1 = require(\"../events/vg-events\");\nvar rxjs_2 = require(\"rxjs\");\nvar VgMedia = /** @class */ (function () {\n    function VgMedia(api, ref) {\n        this.api = api;\n        this.ref = ref;\n        this.state = vg_states_1.VgStates.VG_PAUSED;\n        this.time = { current: 0, total: 0, left: 0 };\n        this.buffer = { end: 0 };\n        this.canPlay = false;\n        this.canPlayThrough = false;\n        this.isMetadataLoaded = false;\n        this.isWaiting = false;\n        this.isCompleted = false;\n        this.isLive = false;\n        this.isBufferDetected = false;\n        this.checkInterval = 200;\n        this.currentPlayPos = 0;\n        this.lastPlayPos = 0;\n        this.playAtferSync = false;\n        this.bufferDetected = new rxjs_1.Subject();\n    }\n    VgMedia.prototype.ngOnInit = function () {\n        var _this = this;\n        if (this.vgMedia.nodeName) {\n            // It's a native element\n            this.elem = this.vgMedia;\n        }\n        else {\n            // It's an Angular Class\n            this.elem = this.vgMedia.elem;\n        }\n        // Just in case we're creating this vgMedia dynamically register again into API\n        this.api.registerMedia(this);\n        this.subscriptions = {\n            // Native events\n            abort: rxjs_1.fromEvent(this.elem, vg_events_1.VgEvents.VG_ABORT),\n            canPlay: rxjs_1.fromEvent(this.elem, vg_events_1.VgEvents.VG_CAN_PLAY),\n            canPlayThrough: rxjs_1.fromEvent(this.elem, vg_events_1.VgEvents.VG_CAN_PLAY_THROUGH),\n            durationChange: rxjs_1.fromEvent(this.elem, vg_events_1.VgEvents.VG_DURATION_CHANGE),\n            emptied: rxjs_1.fromEvent(this.elem, vg_events_1.VgEvents.VG_EMPTIED),\n            encrypted: rxjs_1.fromEvent(this.elem, vg_events_1.VgEvents.VG_ENCRYPTED),\n            ended: rxjs_1.fromEvent(this.elem, vg_events_1.VgEvents.VG_ENDED),\n            error: rxjs_1.fromEvent(this.elem, vg_events_1.VgEvents.VG_ERROR),\n            loadedData: rxjs_1.fromEvent(this.elem, vg_events_1.VgEvents.VG_LOADED_DATA),\n            loadedMetadata: rxjs_1.fromEvent(this.elem, vg_events_1.VgEvents.VG_LOADED_METADATA),\n            loadStart: rxjs_1.fromEvent(this.elem, vg_events_1.VgEvents.VG_LOAD_START),\n            pause: rxjs_1.fromEvent(this.elem, vg_events_1.VgEvents.VG_PAUSE),\n            play: rxjs_1.fromEvent(this.elem, vg_events_1.VgEvents.VG_PLAY),\n            playing: rxjs_1.fromEvent(this.elem, vg_events_1.VgEvents.VG_PLAYING),\n            progress: rxjs_1.fromEvent(this.elem, vg_events_1.VgEvents.VG_PROGRESS),\n            rateChange: rxjs_1.fromEvent(this.elem, vg_events_1.VgEvents.VG_RATE_CHANGE),\n            seeked: rxjs_1.fromEvent(this.elem, vg_events_1.VgEvents.VG_SEEKED),\n            seeking: rxjs_1.fromEvent(this.elem, vg_events_1.VgEvents.VG_SEEKING),\n            stalled: rxjs_1.fromEvent(this.elem, vg_events_1.VgEvents.VG_STALLED),\n            suspend: rxjs_1.fromEvent(this.elem, vg_events_1.VgEvents.VG_SUSPEND),\n            timeUpdate: rxjs_1.fromEvent(this.elem, vg_events_1.VgEvents.VG_TIME_UPDATE),\n            volumeChange: rxjs_1.fromEvent(this.elem, vg_events_1.VgEvents.VG_VOLUME_CHANGE),\n            waiting: rxjs_1.fromEvent(this.elem, vg_events_1.VgEvents.VG_WAITING),\n            // Advertisement only events\n            startAds: rxjs_1.fromEvent(window, vg_events_1.VgEvents.VG_START_ADS),\n            endAds: rxjs_1.fromEvent(window, vg_events_1.VgEvents.VG_END_ADS),\n            // See changes on <source> child elements to reload the video file\n            mutation: rxjs_1.Observable.create(function (observer) {\n                var domObs = new MutationObserver(function (mutations) {\n                    observer.next(mutations);\n                });\n                domObs.observe(_this.elem, { childList: true, attributes: true });\n                return function () {\n                    domObs.disconnect();\n                };\n            }),\n            // Custom buffering detection\n            bufferDetected: this.bufferDetected\n        };\n        this.mutationObs = this.subscriptions.mutation.subscribe(this.onMutation.bind(this));\n        this.canPlayObs = this.subscriptions.canPlay.subscribe(this.onCanPlay.bind(this));\n        this.canPlayThroughObs = this.subscriptions.canPlayThrough.subscribe(this.onCanPlayThrough.bind(this));\n        this.loadedMetadataObs = this.subscriptions.loadedMetadata.subscribe(this.onLoadMetadata.bind(this));\n        this.waitingObs = this.subscriptions.waiting.subscribe(this.onWait.bind(this));\n        this.progressObs = this.subscriptions.progress.subscribe(this.onProgress.bind(this));\n        this.endedObs = this.subscriptions.ended.subscribe(this.onComplete.bind(this));\n        this.playingObs = this.subscriptions.playing.subscribe(this.onStartPlaying.bind(this));\n        this.playObs = this.subscriptions.play.subscribe(this.onPlay.bind(this));\n        this.pauseObs = this.subscriptions.pause.subscribe(this.onPause.bind(this));\n        this.timeUpdateObs = this.subscriptions.timeUpdate.subscribe(this.onTimeUpdate.bind(this));\n        this.volumeChangeObs = this.subscriptions.volumeChange.subscribe(this.onVolumeChange.bind(this));\n        this.errorObs = this.subscriptions.error.subscribe(this.onError.bind(this));\n        if (this.vgMaster) {\n            this.api.playerReadyEvent.subscribe(function () {\n                _this.prepareSync();\n            });\n        }\n    };\n    VgMedia.prototype.prepareSync = function () {\n        var _this = this;\n        var canPlayAll = [];\n        for (var media in this.api.medias) {\n            if (this.api.medias[media]) {\n                canPlayAll.push(this.api.medias[media].subscriptions.canPlay);\n            }\n        }\n        this.canPlayAllSubscription = rxjs_2.combineLatest(canPlayAll).pipe(operators_1.map(function () {\n            var params = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                params[_i] = arguments[_i];\n            }\n            var checkReadyState = function (event) {\n                return event.target.readyState === 4;\n            };\n            var allReady = params.some(checkReadyState);\n            if (allReady && !_this.syncSubscription) {\n                _this.startSync();\n                _this.syncSubscription.unsubscribe();\n            }\n        })).subscribe();\n    };\n    VgMedia.prototype.startSync = function () {\n        var _this = this;\n        this.syncSubscription = rxjs_2.timer(0, 1000).subscribe(function () {\n            for (var media in _this.api.medias) {\n                if (_this.api.medias[media] !== _this) {\n                    var diff = _this.api.medias[media].currentTime - _this.currentTime;\n                    if (diff < -0.3 || diff > 0.3) {\n                        _this.playAtferSync = (_this.state === vg_states_1.VgStates.VG_PLAYING);\n                        _this.pause();\n                        _this.api.medias[media].pause();\n                        _this.api.medias[media].currentTime = _this.currentTime;\n                    }\n                    else {\n                        if (_this.playAtferSync) {\n                            _this.play();\n                            _this.api.medias[media].play();\n                            _this.playAtferSync = false;\n                        }\n                    }\n                }\n            }\n        });\n    };\n    VgMedia.prototype.onMutation = function (mutations) {\n        // Detect changes only for source elements or src attribute\n        for (var i = 0, l = mutations.length; i < l; i++) {\n            var mut = mutations[i];\n            if (mut.type === 'attributes' && mut.attributeName === 'src') {\n                // Only load src file if it's not a blob (for DASH / HLS sources)\n                if (mut.target['src'] && mut.target['src'].length > 0 && mut.target['src'].indexOf('blob:') < 0) {\n                    this.loadMedia();\n                    break;\n                }\n            }\n            else if (mut.type === 'childList' && mut.removedNodes.length && mut.removedNodes[0].nodeName.toLowerCase() === 'source') {\n                this.loadMedia();\n                break;\n            }\n        }\n    };\n    VgMedia.prototype.loadMedia = function () {\n        var _this = this;\n        this.vgMedia.pause();\n        this.vgMedia.currentTime = 0;\n        // Start buffering until we can play the media file\n        this.stopBufferCheck();\n        this.isBufferDetected = true;\n        this.bufferDetected.next(this.isBufferDetected);\n        // TODO: This is ugly, we should find something cleaner. For some reason a TimerObservable doesn't works.\n        setTimeout(function () { return _this.vgMedia.load(); }, 10);\n    };\n    VgMedia.prototype.play = function () {\n        var _this = this;\n        // short-circuit if already playing\n        if (this.playPromise || (this.state !== vg_states_1.VgStates.VG_PAUSED && this.state !== vg_states_1.VgStates.VG_ENDED)) {\n            return;\n        }\n        this.playPromise = this.vgMedia.play();\n        // browser has async play promise\n        if (this.playPromise && this.playPromise.then && this.playPromise.catch) {\n            this.playPromise\n                .then(function () {\n                _this.playPromise = null;\n            })\n                .catch(function () {\n                _this.playPromise = null;\n                // deliberately empty for the sake of eating console noise\n            });\n        }\n        return this.playPromise;\n    };\n    VgMedia.prototype.pause = function () {\n        var _this = this;\n        // browser has async play promise\n        if (this.playPromise) {\n            this.playPromise\n                .then(function () {\n                _this.vgMedia.pause();\n            });\n        }\n        else {\n            this.vgMedia.pause();\n        }\n    };\n    Object.defineProperty(VgMedia.prototype, \"id\", {\n        get: function () {\n            // We should return undefined if vgMedia still doesn't exist\n            var result = undefined;\n            if (this.vgMedia) {\n                result = this.vgMedia.id;\n            }\n            return result;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(VgMedia.prototype, \"duration\", {\n        get: function () {\n            return this.vgMedia.duration;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(VgMedia.prototype, \"currentTime\", {\n        get: function () {\n            return this.vgMedia.currentTime;\n        },\n        set: function (seconds) {\n            this.vgMedia.currentTime = seconds;\n            // this.elem.dispatchEvent(new CustomEvent(VgEvents.VG_SEEK));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(VgMedia.prototype, \"volume\", {\n        get: function () {\n            return this.vgMedia.volume;\n        },\n        set: function (volume) {\n            this.vgMedia.volume = volume;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(VgMedia.prototype, \"playbackRate\", {\n        get: function () {\n            return this.vgMedia.playbackRate;\n        },\n        set: function (rate) {\n            this.vgMedia.playbackRate = rate;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(VgMedia.prototype, \"buffered\", {\n        get: function () {\n            return this.vgMedia.buffered;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(VgMedia.prototype, \"textTracks\", {\n        get: function () {\n            return this.vgMedia.textTracks;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // @ts-ignore\n    VgMedia.prototype.onCanPlay = function (event) {\n        this.isBufferDetected = false;\n        this.bufferDetected.next(this.isBufferDetected);\n        this.canPlay = true;\n        this.ref.detectChanges();\n    };\n    // @ts-ignore\n    VgMedia.prototype.onCanPlayThrough = function (event) {\n        this.isBufferDetected = false;\n        this.bufferDetected.next(this.isBufferDetected);\n        this.canPlayThrough = true;\n        this.ref.detectChanges();\n    };\n    // @ts-ignore\n    VgMedia.prototype.onLoadMetadata = function (event) {\n        this.isMetadataLoaded = true;\n        this.time = {\n            current: 0,\n            left: 0,\n            total: this.duration * 1000\n        };\n        this.state = vg_states_1.VgStates.VG_PAUSED;\n        // Live streaming check\n        var t = Math.round(this.time.total);\n        this.isLive = (t === Infinity);\n        this.ref.detectChanges();\n    };\n    // @ts-ignore\n    VgMedia.prototype.onWait = function (event) {\n        this.isWaiting = true;\n        this.ref.detectChanges();\n    };\n    // @ts-ignore\n    VgMedia.prototype.onComplete = function (event) {\n        this.isCompleted = true;\n        this.state = vg_states_1.VgStates.VG_ENDED;\n        this.ref.detectChanges();\n    };\n    // @ts-ignore\n    VgMedia.prototype.onStartPlaying = function (event) {\n        this.state = vg_states_1.VgStates.VG_PLAYING;\n        this.ref.detectChanges();\n    };\n    // @ts-ignore\n    VgMedia.prototype.onPlay = function (event) {\n        this.state = vg_states_1.VgStates.VG_PLAYING;\n        if (this.vgMaster) {\n            if (!this.syncSubscription || this.syncSubscription.closed) {\n                this.startSync();\n            }\n        }\n        this.startBufferCheck();\n        this.ref.detectChanges();\n    };\n    // @ts-ignore\n    VgMedia.prototype.onPause = function (event) {\n        this.state = vg_states_1.VgStates.VG_PAUSED;\n        if (this.vgMaster) {\n            if (!this.playAtferSync) {\n                this.syncSubscription.unsubscribe();\n            }\n        }\n        this.stopBufferCheck();\n        this.ref.detectChanges();\n    };\n    // @ts-ignore\n    VgMedia.prototype.onTimeUpdate = function (event) {\n        var end = this.buffered.length - 1;\n        this.time = {\n            current: this.currentTime * 1000,\n            total: this.time.total,\n            left: (this.duration - this.currentTime) * 1000\n        };\n        if (end >= 0) {\n            this.buffer = { end: this.buffered.end(end) * 1000 };\n        }\n        this.ref.detectChanges();\n    };\n    // @ts-ignore\n    VgMedia.prototype.onProgress = function (event) {\n        var end = this.buffered.length - 1;\n        if (end >= 0) {\n            this.buffer = { end: this.buffered.end(end) * 1000 };\n        }\n        this.ref.detectChanges();\n    };\n    // @ts-ignore\n    VgMedia.prototype.onVolumeChange = function (event) {\n        // TODO: Save to localstorage the current volume\n        this.ref.detectChanges();\n    };\n    // @ts-ignore\n    VgMedia.prototype.onError = function (event) {\n        // TODO: Handle error messages\n        this.ref.detectChanges();\n    };\n    // http://stackoverflow.com/a/23828241/779529\n    VgMedia.prototype.bufferCheck = function () {\n        var offset = 1 / this.checkInterval;\n        this.currentPlayPos = this.currentTime;\n        if (!this.isBufferDetected && this.currentPlayPos < (this.lastPlayPos + offset)) {\n            this.isBufferDetected = true;\n        }\n        if (this.isBufferDetected && this.currentPlayPos > (this.lastPlayPos + offset)) {\n            this.isBufferDetected = false;\n        }\n        // Prevent calls to bufferCheck after ngOnDestroy have been called\n        if (!this.bufferDetected.closed) {\n            this.bufferDetected.next(this.isBufferDetected);\n        }\n        this.lastPlayPos = this.currentPlayPos;\n    };\n    VgMedia.prototype.startBufferCheck = function () {\n        var _this = this;\n        this.checkBufferSubscription = rxjs_2.timer(0, this.checkInterval).subscribe(function () {\n            _this.bufferCheck();\n        });\n    };\n    VgMedia.prototype.stopBufferCheck = function () {\n        if (this.checkBufferSubscription) {\n            this.checkBufferSubscription.unsubscribe();\n        }\n        this.isBufferDetected = false;\n        this.bufferDetected.next(this.isBufferDetected);\n    };\n    VgMedia.prototype.seekTime = function (value, byPercent) {\n        if (byPercent === void 0) { byPercent = false; }\n        var second;\n        var duration = this.duration;\n        if (byPercent) {\n            second = value * duration / 100;\n        }\n        else {\n            second = value;\n        }\n        this.currentTime = second;\n    };\n    VgMedia.prototype.addTextTrack = function (type, label, language, mode) {\n        var newTrack = this.vgMedia.addTextTrack(type, label, language);\n        if (mode) {\n            newTrack.mode = mode;\n        }\n        return newTrack;\n    };\n    VgMedia.prototype.ngOnDestroy = function () {\n        this.vgMedia.src = '';\n        this.mutationObs.unsubscribe();\n        this.canPlayObs.unsubscribe();\n        this.canPlayThroughObs.unsubscribe();\n        this.loadedMetadataObs.unsubscribe();\n        this.waitingObs.unsubscribe();\n        this.progressObs.unsubscribe();\n        this.endedObs.unsubscribe();\n        this.playingObs.unsubscribe();\n        this.playObs.unsubscribe();\n        this.pauseObs.unsubscribe();\n        this.timeUpdateObs.unsubscribe();\n        this.volumeChangeObs.unsubscribe();\n        this.errorObs.unsubscribe();\n        if (this.checkBufferSubscription) {\n            this.checkBufferSubscription.unsubscribe();\n        }\n        if (this.syncSubscription) {\n            this.syncSubscription.unsubscribe();\n        }\n        this.bufferDetected.complete();\n        this.bufferDetected.unsubscribe();\n        this.api.unregisterMedia(this);\n    };\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Object)\n    ], VgMedia.prototype, \"vgMedia\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Boolean)\n    ], VgMedia.prototype, \"vgMaster\", void 0);\n    VgMedia = __decorate([\n        core_1.Directive({\n            selector: '[vgMedia]'\n        }),\n        __metadata(\"design:paramtypes\", [vg_api_1.VgAPI, core_1.ChangeDetectorRef])\n    ], VgMedia);\n    return VgMedia;\n}());\nexports.VgMedia = VgMedia;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmctbWVkaWEuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY29yZS92Zy1tZWRpYS92Zy1tZWRpYS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBLHNDQUF1RjtBQUV2Riw2QkFBb0U7QUFDcEUsNENBQXFDO0FBRXJDLGlEQUErQztBQUMvQyw2Q0FBMkM7QUFDM0MsaURBQStDO0FBRS9DLDZCQUEwQztBQVMxQztJQWlESSxpQkFBb0IsR0FBVSxFQUFVLEdBQXNCO1FBQTFDLFFBQUcsR0FBSCxHQUFHLENBQU87UUFBVSxRQUFHLEdBQUgsR0FBRyxDQUFtQjtRQTNDOUQsVUFBSyxHQUFXLG9CQUFRLENBQUMsU0FBUyxDQUFDO1FBRW5DLFNBQUksR0FBUSxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUM7UUFDOUMsV0FBTSxHQUFRLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDO1FBSXpCLFlBQU8sR0FBRyxLQUFLLENBQUM7UUFDaEIsbUJBQWMsR0FBRyxLQUFLLENBQUM7UUFDdkIscUJBQWdCLEdBQUcsS0FBSyxDQUFDO1FBQ3pCLGNBQVMsR0FBRyxLQUFLLENBQUM7UUFDbEIsZ0JBQVcsR0FBRyxLQUFLLENBQUM7UUFDcEIsV0FBTSxHQUFHLEtBQUssQ0FBQztRQUVmLHFCQUFnQixHQUFHLEtBQUssQ0FBQztRQUV6QixrQkFBYSxHQUFHLEdBQUcsQ0FBQztRQUNwQixtQkFBYyxHQUFHLENBQUMsQ0FBQztRQUNuQixnQkFBVyxHQUFHLENBQUMsQ0FBQztRQUtoQixrQkFBYSxHQUFHLEtBQUssQ0FBQztRQWdCdEIsbUJBQWMsR0FBcUIsSUFBSSxjQUFPLEVBQUUsQ0FBQztJQU1qRCxDQUFDO0lBRUQsMEJBQVEsR0FBUjtRQUFBLGlCQW1GQztRQWxGRyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFF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O1NBQ3ZDO1FBRUQsSUFBSSxDQUFDLGNBQWMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUMvQixJQUFJLENBQUMsY0FBYyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBRWxDLElBQUksQ0FBQyxHQUFHLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUFsZlE7UUFBUixZQUFLLEVBQUU7OzRDQUF3QjtJQUN2QjtRQUFSLFlBQUssRUFBRTs7NkNBQW1CO0lBSmxCLE9BQU87UUFIbkIsZ0JBQVMsQ0FBQztZQUNQLFFBQVEsRUFBRSxXQUFXO1NBQ3hCLENBQUM7eUNBa0QyQixjQUFLLEVBQWUsd0JBQWlCO09BakRyRCxPQUFPLENBc2ZuQjtJQUFELGNBQUM7Q0FBQSxBQXRmRCxJQXNmQztBQXRmWSwwQkFBTyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENoYW5nZURldGVjdG9yUmVmLCBPbkluaXQsIERpcmVjdGl2ZSwgSW5wdXQsIE9uRGVzdHJveSB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5pbXBvcnQgeyBJUGxheWFibGUsIElNZWRpYVN1YnNjcmlwdGlvbnMgfSBmcm9tIFwiLi9pLXBsYXlhYmxlXCI7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBTdWJzY3JpcHRpb24sIFN1YmplY3QsIGZyb21FdmVudCB9IGZyb20gXCJyeGpzXCI7XG5pbXBvcnQgeyBtYXAgfSBmcm9tIFwicnhqcy9vcGVyYXRvcnNcIjtcblxuaW1wb3J0IHsgVmdTdGF0ZXMgfSBmcm9tICcuLi9zdGF0ZXMvdmctc3RhdGVzJztcbmltcG9ydCB7IFZnQVBJIH0gZnJvbSAnLi4vc2VydmljZXMvdmctYXBpJztcbmltcG9ydCB7IFZnRXZlbnRzIH0gZnJvbSAnLi4vZXZlbnRzL3ZnLWV2ZW50cyc7XG5pbXBvcnQgeyBJTWVkaWFFbGVtZW50IH0gZnJvbSAnLi9pLW1lZGlhLWVsZW1lbnQnO1xuaW1wb3J0IHt0aW1lciwgY29tYmluZUxhdGVzdH0gZnJvbSAncnhqcyc7XG5cblxuXG5cblxuQERpcmVjdGl2ZSh7XG4gICAgc2VsZWN0b3I6ICdbdmdNZWRpYV0nXG59KVxuZXhwb3J0IGNsYXNzIFZnTWVkaWEgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSwgSVBsYXlhYmxlIHtcbiAgICBlbGVtOiBhbnk7XG5cbiAgICBASW5wdXQoKSB2Z01lZGlhOiBJTWVkaWFFbGVtZW50O1xuICAgIEBJbnB1dCgpIHZnTWFzdGVyOiBib29sZWFuO1xuXG4gICAgc3RhdGU6IHN0cmluZyA9IFZnU3RhdGVzLlZHX1BBVVNFRDtcblxuICAgIHRpbWU6IGFueSA9IHsgY3VycmVudDogMCwgdG90YWw6IDAsIGxlZnQ6IDAgfTtcbiAgICBidWZmZXI6IGFueSA9IHsgZW5kOiAwIH07XG4gICAgdHJhY2s6IGFueTtcbiAgICBzdWJzY3JpcHRpb25zOiBJTWVkaWFTdWJzY3JpcHRpb25zIHwgYW55O1xuXG4gICAgY2FuUGxheSA9IGZhbHNlO1xuICAgIGNhblBsYXlUaHJvdWdoID0gZmFsc2U7XG4gICAgaXNNZXRhZGF0YUxvYWRlZCA9IGZhbHNlO1xuICAgIGlzV2FpdGluZyA9IGZhbHNlO1xuICAgIGlzQ29tcGxldGVkID0gZmFsc2U7XG4gICAgaXNMaXZlID0gZmFsc2U7XG5cbiAgICBpc0J1ZmZlckRldGVjdGVkID0gZmFsc2U7XG5cbiAgICBjaGVja0ludGVydmFsID0gMjAwO1xuICAgIGN1cnJlbnRQbGF5UG9zID0gMDtcbiAgICBsYXN0UGxheVBvcyA9IDA7XG5cbiAgICBjaGVja0J1ZmZlclN1YnNjcmlwdGlvbjogYW55O1xuICAgIHN5bmNTdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbjtcbiAgICBjYW5QbGF5QWxsU3Vic2NyaXB0aW9uOiBhbnk7XG4gICAgcGxheUF0ZmVyU3luYyA9IGZhbHNlO1xuXG4gICAgbXV0YXRpb25PYnM6IFN1YnNjcmlwdGlvbjtcbiAgICBjYW5QbGF5T2JzOiBTdWJzY3JpcHRpb247XG4gICAgY2FuUGxheVRocm91Z2hPYnM6IFN1YnNjcmlwdGlvbjtcbiAgICBsb2FkZWRNZXRhZGF0YU9iczogU3Vic2NyaXB0aW9uO1xuICAgIHdhaXRpbmdPYnM6IFN1YnNjcmlwdGlvbjtcbiAgICBwcm9ncmVzc09iczogU3Vic2NyaXB0aW9uO1xuICAgIGVuZGVkT2JzOiBTdWJzY3JpcHRpb247XG4gICAgcGxheWluZ09iczogU3Vic2NyaXB0aW9uO1xuICAgIHBsYXlPYnM6IFN1YnNjcmlwdGlvbjtcbiAgICBwYXVzZU9iczogU3Vic2NyaXB0aW9uO1xuICAgIHRpbWVVcGRhdGVPYnM6IFN1YnNjcmlwdGlvbjtcbiAgICB2b2x1bWVDaGFuZ2VPYnM6IFN1YnNjcmlwdGlvbjtcbiAgICBlcnJvck9iczogU3Vic2NyaXB0aW9uO1xuXG4gICAgYnVmZmVyRGV0ZWN0ZWQ6IFN1YmplY3Q8Ym9vbGVhbj4gPSBuZXcgU3ViamVjdCgpO1xuXG4gICAgcGxheVByb21pc2U6IFByb21pc2U8YW55PjtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYXBpOiBWZ0FQSSwgcHJpdmF0ZSByZWY6IENoYW5nZURldGVjdG9yUmVmKSB7XG5cbiAgICB9XG5cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgaWYgKHRoaXMudmdNZWRpYS5ub2RlTmFtZSkge1xuICAgICAgICAgICAgLy8gSXQncyBhIG5hdGl2ZSBlbGVtZW50XG4gICAgICAgICAgICB0aGlzLmVsZW0gPSB0aGlzLnZnTWVkaWE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJdCdzIGFuIEFuZ3VsYXIgQ2xhc3NcbiAgICAgICAgICAgIHRoaXMuZWxlbSA9IHRoaXMudmdNZWRpYS5lbGVtO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSnVzdCBpbiBjYXNlIHdlJ3JlIGNyZWF0aW5nIHRoaXMgdmdNZWRpYSBkeW5hbWljYWxseSByZWdpc3RlciBhZ2FpbiBpbnRvIEFQSVxuICAgICAgICB0aGlzLmFwaS5yZWdpc3Rlck1lZGlhKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9IHtcbiAgICAgICAgICAgIC8vIE5hdGl2ZSBldmVudHNcbiAgICAgICAgICAgIGFib3J0OiBmcm9tRXZlbnQoPGFueT50aGlzLmVsZW0sIFZnRXZlbnRzLlZHX0FCT1JUKSxcbiAgICAgICAgICAgIGNhblBsYXk6IGZyb21FdmVudCg8YW55PnRoaXMuZWxlbSwgVmdFdmVudHMuVkdfQ0FOX1BMQVkpLFxuICAgICAgICAgICAgY2FuUGxheVRocm91Z2g6IGZyb21FdmVudCg8YW55PnRoaXMuZWxlbSwgVmdFdmVudHMuVkdfQ0FOX1BMQVlfVEhST1VHSCksXG4gICAgICAgICAgICBkdXJhdGlvbkNoYW5nZTogZnJvbUV2ZW50KDxhbnk+dGhpcy5lbGVtLCBWZ0V2ZW50cy5WR19EVVJBVElPTl9DSEFOR0UpLFxuICAgICAgICAgICAgZW1wdGllZDogZnJvbUV2ZW50KDxhbnk+dGhpcy5lbGVtLCBWZ0V2ZW50cy5WR19FTVBUSUVEKSxcbiAgICAgICAgICAgIGVuY3J5cHRlZDogZnJvbUV2ZW50KDxhbnk+dGhpcy5lbGVtLCBWZ0V2ZW50cy5WR19FTkNSWVBURUQpLFxuICAgICAgICAgICAgZW5kZWQ6IGZyb21FdmVudCg8YW55PnRoaXMuZWxlbSwgVmdFdmVudHMuVkdfRU5ERUQpLFxuICAgICAgICAgICAgZXJyb3I6IGZyb21FdmVudCg8YW55PnRoaXMuZWxlbSwgVmdFdmVudHMuVkdfRVJST1IpLFxuICAgICAgICAgICAgbG9hZGVkRGF0YTogZnJvbUV2ZW50KDxhbnk+dGhpcy5lbGVtLCBWZ0V2ZW50cy5WR19MT0FERURfREFUQSksXG4gICAgICAgICAgICBsb2FkZWRNZXRhZGF0YTogZnJvbUV2ZW50KDxhbnk+dGhpcy5lbGVtLCBWZ0V2ZW50cy5WR19MT0FERURfTUVUQURBVEEpLFxuICAgICAgICAgICAgbG9hZFN0YXJ0OiBmcm9tRXZlbnQoPGFueT50aGlzLmVsZW0sIFZnRXZlbnRzLlZHX0xPQURfU1RBUlQpLFxuICAgICAgICAgICAgcGF1c2U6IGZyb21FdmVudCg8YW55PnRoaXMuZWxlbSwgVmdFdmVudHMuVkdfUEFVU0UpLFxuICAgICAgICAgICAgcGxheTogZnJvbUV2ZW50KDxhbnk+dGhpcy5lbGVtLCBWZ0V2ZW50cy5WR19QTEFZKSxcbiAgICAgICAgICAgIHBsYXlpbmc6IGZyb21FdmVudCg8YW55PnRoaXMuZWxlbSwgVmdFdmVudHMuVkdfUExBWUlORyksXG4gICAgICAgICAgICBwcm9ncmVzczogZnJvbUV2ZW50KDxhbnk+dGhpcy5lbGVtLCBWZ0V2ZW50cy5WR19QUk9HUkVTUyksXG4gICAgICAgICAgICByYXRlQ2hhbmdlOiBmcm9tRXZlbnQoPGFueT50aGlzLmVsZW0sIFZnRXZlbnRzLlZHX1JBVEVfQ0hBTkdFKSxcbiAgICAgICAgICAgIHNlZWtlZDogZnJvbUV2ZW50KDxhbnk+dGhpcy5lbGVtLCBWZ0V2ZW50cy5WR19TRUVLRUQpLFxuICAgICAgICAgICAgc2Vla2luZzogZnJvbUV2ZW50KDxhbnk+dGhpcy5lbGVtLCBWZ0V2ZW50cy5WR19TRUVLSU5HKSxcbiAgICAgICAgICAgIHN0YWxsZWQ6IGZyb21FdmVudCg8YW55PnRoaXMuZWxlbSwgVmdFdmVudHMuVkdfU1RBTExFRCksXG4gICAgICAgICAgICBzdXNwZW5kOiBmcm9tRXZlbnQoPGFueT50aGlzLmVsZW0sIFZnRXZlbnRzLlZHX1NVU1BFTkQpLFxuICAgICAgICAgICAgdGltZVVwZGF0ZTogZnJvbUV2ZW50KDxhbnk+dGhpcy5lbGVtLCBWZ0V2ZW50cy5WR19USU1FX1VQREFURSksXG4gICAgICAgICAgICB2b2x1bWVDaGFuZ2U6IGZyb21FdmVudCg8YW55PnRoaXMuZWxlbSwgVmdFdmVudHMuVkdfVk9MVU1FX0NIQU5HRSksXG4gICAgICAgICAgICB3YWl0aW5nOiBmcm9tRXZlbnQoPGFueT50aGlzLmVsZW0sIFZnRXZlbnRzLlZHX1dBSVRJTkcpLFxuXG4gICAgICAgICAgICAvLyBBZHZlcnRpc2VtZW50IG9ubHkgZXZlbnRzXG4gICAgICAgICAgICBzdGFydEFkczogZnJvbUV2ZW50KDxhbnk+d2luZG93LCBWZ0V2ZW50cy5WR19TVEFSVF9BRFMpLFxuICAgICAgICAgICAgZW5kQWRzOiBmcm9tRXZlbnQoPGFueT53aW5kb3csIFZnRXZlbnRzLlZHX0VORF9BRFMpLFxuXG4gICAgICAgICAgICAvLyBTZWUgY2hhbmdlcyBvbiA8c291cmNlPiBjaGlsZCBlbGVtZW50cyB0byByZWxvYWQgdGhlIHZpZGVvIGZpbGVcbiAgICAgICAgICAgIG11dGF0aW9uOiBPYnNlcnZhYmxlLmNyZWF0ZShcbiAgICAgICAgICAgICAgICAob2JzZXJ2ZXI6IGFueSkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBkb21PYnMgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0KG11dGF0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGRvbU9icy5vYnNlcnZlKDxhbnk+dGhpcy5lbGVtLCB7IGNoaWxkTGlzdDogdHJ1ZSwgYXR0cmlidXRlczogdHJ1ZSB9KTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9tT2JzLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApLFxuXG4gICAgICAgICAgICAvLyBDdXN0b20gYnVmZmVyaW5nIGRldGVjdGlvblxuICAgICAgICAgICAgYnVmZmVyRGV0ZWN0ZWQ6IHRoaXMuYnVmZmVyRGV0ZWN0ZWRcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLm11dGF0aW9uT2JzID0gdGhpcy5zdWJzY3JpcHRpb25zLm11dGF0aW9uLnN1YnNjcmliZSh0aGlzLm9uTXV0YXRpb24uYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuY2FuUGxheU9icyA9IHRoaXMuc3Vic2NyaXB0aW9ucy5jYW5QbGF5LnN1YnNjcmliZSh0aGlzLm9uQ2FuUGxheS5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5jYW5QbGF5VGhyb3VnaE9icyA9IHRoaXMuc3Vic2NyaXB0aW9ucy5jYW5QbGF5VGhyb3VnaC5zdWJzY3JpYmUodGhpcy5vbkNhblBsYXlUaHJvdWdoLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmxvYWRlZE1ldGFkYXRhT2JzID0gdGhpcy5zdWJzY3JpcHRpb25zLmxvYWRlZE1ldGFkYXRhLnN1YnNjcmliZSh0aGlzLm9uTG9hZE1ldGFkYXRhLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLndhaXRpbmdPYnMgPSB0aGlzLnN1YnNjcmlwdGlvbnMud2FpdGluZy5zdWJzY3JpYmUodGhpcy5vbldhaXQuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3NPYnMgPSB0aGlzLnN1YnNjcmlwdGlvbnMucHJvZ3Jlc3Muc3Vic2NyaWJlKHRoaXMub25Qcm9ncmVzcy5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5lbmRlZE9icyA9IHRoaXMuc3Vic2NyaXB0aW9ucy5lbmRlZC5zdWJzY3JpYmUodGhpcy5vbkNvbXBsZXRlLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnBsYXlpbmdPYnMgPSB0aGlzLnN1YnNjcmlwdGlvbnMucGxheWluZy5zdWJzY3JpYmUodGhpcy5vblN0YXJ0UGxheWluZy5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5wbGF5T2JzID0gdGhpcy5zdWJzY3JpcHRpb25zLnBsYXkuc3Vic2NyaWJlKHRoaXMub25QbGF5LmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnBhdXNlT2JzID0gdGhpcy5zdWJzY3JpcHRpb25zLnBhdXNlLnN1YnNjcmliZSh0aGlzLm9uUGF1c2UuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMudGltZVVwZGF0ZU9icyA9IHRoaXMuc3Vic2NyaXB0aW9ucy50aW1lVXBkYXRlLnN1YnNjcmliZSh0aGlzLm9uVGltZVVwZGF0ZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy52b2x1bWVDaGFuZ2VPYnMgPSB0aGlzLnN1YnNjcmlwdGlvbnMudm9sdW1lQ2hhbmdlLnN1YnNjcmliZSh0aGlzLm9uVm9sdW1lQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmVycm9yT2JzID0gdGhpcy5zdWJzY3JpcHRpb25zLmVycm9yLnN1YnNjcmliZSh0aGlzLm9uRXJyb3IuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgaWYgKHRoaXMudmdNYXN0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuYXBpLnBsYXllclJlYWR5RXZlbnQuc3Vic2NyaWJlKFxuICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVwYXJlU3luYygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcmVwYXJlU3luYygpIHtcbiAgICAgICAgbGV0IGNhblBsYXlBbGw6IEFycmF5PE9ic2VydmFibGU8YW55Pj4gPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBtZWRpYSBpbiB0aGlzLmFwaS5tZWRpYXMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFwaS5tZWRpYXNbIG1lZGlhIF0pIHtcbiAgICAgICAgICAgICAgICBjYW5QbGF5QWxsLnB1c2godGhpcy5hcGkubWVkaWFzWyBtZWRpYSBdLnN1YnNjcmlwdGlvbnMuY2FuUGxheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhblBsYXlBbGxTdWJzY3JpcHRpb24gPSBjb21iaW5lTGF0ZXN0KGNhblBsYXlBbGwpLnBpcGUoXG4gICAgICAgICAgICBtYXAoKC4uLnBhcmFtcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGVja1JlYWR5U3RhdGUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBldmVudC50YXJnZXQucmVhZHlTdGF0ZSA9PT0gNDtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFsbFJlYWR5OiBib29sZWFuID0gcGFyYW1zLnNvbWUoY2hlY2tSZWFkeVN0YXRlKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxsUmVhZHkgJiYgIXRoaXMuc3luY1N1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydFN5bmMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3luY1N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKSkuc3Vic2NyaWJlKCk7XG4gICAgfVxuXG4gICAgc3RhcnRTeW5jKCkge1xuICAgICAgICB0aGlzLnN5bmNTdWJzY3JpcHRpb24gPSB0aW1lcigwLCAxMDAwKS5zdWJzY3JpYmUoXG4gICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgbWVkaWEgaW4gdGhpcy5hcGkubWVkaWFzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFwaS5tZWRpYXNbIG1lZGlhIF0gIT09IHRoaXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkaWZmOiBudW1iZXIgPSB0aGlzLmFwaS5tZWRpYXNbIG1lZGlhIF0uY3VycmVudFRpbWUgLSB0aGlzLmN1cnJlbnRUaW1lO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlmZiA8IC0wLjMgfHwgZGlmZiA+IDAuMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxheUF0ZmVyU3luYyA9ICh0aGlzLnN0YXRlID09PSBWZ1N0YXRlcy5WR19QTEFZSU5HKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGF1c2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFwaS5tZWRpYXNbIG1lZGlhIF0ucGF1c2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFwaS5tZWRpYXNbIG1lZGlhIF0uY3VycmVudFRpbWUgPSB0aGlzLmN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheUF0ZmVyU3luYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcGkubWVkaWFzWyBtZWRpYSBdLnBsYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5QXRmZXJTeW5jID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIG9uTXV0YXRpb24obXV0YXRpb25zOiBBcnJheTxNdXRhdGlvblJlY29yZD4pIHtcbiAgICAgICAgLy8gRGV0ZWN0IGNoYW5nZXMgb25seSBmb3Igc291cmNlIGVsZW1lbnRzIG9yIHNyYyBhdHRyaWJ1dGVcbiAgICAgICAgZm9yIChsZXQgaT0wLCBsPW11dGF0aW9ucy5sZW5ndGg7IGk8bDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbXV0OiBNdXRhdGlvblJlY29yZCA9IG11dGF0aW9uc1tpXTtcblxuICAgICAgICAgICAgaWYgKG11dC50eXBlID09PSAnYXR0cmlidXRlcycgJiYgbXV0LmF0dHJpYnV0ZU5hbWUgPT09ICdzcmMnKSB7XG4gICAgICAgICAgICAgICAgLy8gT25seSBsb2FkIHNyYyBmaWxlIGlmIGl0J3Mgbm90IGEgYmxvYiAoZm9yIERBU0ggLyBITFMgc291cmNlcylcbiAgICAgICAgICAgICAgICBpZiAobXV0LnRhcmdldFsnc3JjJ10gJiYgbXV0LnRhcmdldFsnc3JjJ10ubGVuZ3RoID4gMCAmJiBtdXQudGFyZ2V0WydzcmMnXS5pbmRleE9mKCdibG9iOicpIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRNZWRpYSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG11dC50eXBlID09PSAnY2hpbGRMaXN0JyAmJiBtdXQucmVtb3ZlZE5vZGVzLmxlbmd0aCAmJiBtdXQucmVtb3ZlZE5vZGVzWzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdzb3VyY2UnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkTWVkaWEoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxvYWRNZWRpYSgpIHtcbiAgICAgICAgdGhpcy52Z01lZGlhLnBhdXNlKCk7XG4gICAgICAgIHRoaXMudmdNZWRpYS5jdXJyZW50VGltZSA9IDA7XG5cbiAgICAgICAgLy8gU3RhcnQgYnVmZmVyaW5nIHVudGlsIHdlIGNhbiBwbGF5IHRoZSBtZWRpYSBmaWxlXG4gICAgICAgIHRoaXMuc3RvcEJ1ZmZlckNoZWNrKCk7XG4gICAgICAgIHRoaXMuaXNCdWZmZXJEZXRlY3RlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuYnVmZmVyRGV0ZWN0ZWQubmV4dCh0aGlzLmlzQnVmZmVyRGV0ZWN0ZWQpO1xuXG4gICAgICAgIC8vIFRPRE86IFRoaXMgaXMgdWdseSwgd2Ugc2hvdWxkIGZpbmQgc29tZXRoaW5nIGNsZWFuZXIuIEZvciBzb21lIHJlYXNvbiBhIFRpbWVyT2JzZXJ2YWJsZSBkb2Vzbid0IHdvcmtzLlxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMudmdNZWRpYS5sb2FkKCksIDEwKTtcbiAgICB9XG5cbiAgICBwbGF5KCkge1xuICAgICAgICAvLyBzaG9ydC1jaXJjdWl0IGlmIGFscmVhZHkgcGxheWluZ1xuICAgICAgICBpZiAodGhpcy5wbGF5UHJvbWlzZSB8fCAodGhpcy5zdGF0ZSAhPT0gVmdTdGF0ZXMuVkdfUEFVU0VEICYmIHRoaXMuc3RhdGUgIT09IFZnU3RhdGVzLlZHX0VOREVEKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wbGF5UHJvbWlzZSA9IHRoaXMudmdNZWRpYS5wbGF5KCk7XG5cbiAgICAgICAgLy8gYnJvd3NlciBoYXMgYXN5bmMgcGxheSBwcm9taXNlXG4gICAgICAgIGlmICh0aGlzLnBsYXlQcm9taXNlICYmIHRoaXMucGxheVByb21pc2UudGhlbiAmJiB0aGlzLnBsYXlQcm9taXNlLmNhdGNoKSB7XG4gICAgICAgICAgICB0aGlzLnBsYXlQcm9taXNlXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXlQcm9taXNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheVByb21pc2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAvLyBkZWxpYmVyYXRlbHkgZW1wdHkgZm9yIHRoZSBzYWtlIG9mIGVhdGluZyBjb25zb2xlIG5vaXNlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5wbGF5UHJvbWlzZTtcbiAgICB9XG5cbiAgICBwYXVzZSgpIHtcbiAgICAgICAgLy8gYnJvd3NlciBoYXMgYXN5bmMgcGxheSBwcm9taXNlXG4gICAgICAgIGlmICh0aGlzLnBsYXlQcm9taXNlKSB7XG4gICAgICAgICAgICB0aGlzLnBsYXlQcm9taXNlXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZnTWVkaWEucGF1c2UoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudmdNZWRpYS5wYXVzZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IGlkKCkge1xuICAgICAgICAvLyBXZSBzaG91bGQgcmV0dXJuIHVuZGVmaW5lZCBpZiB2Z01lZGlhIHN0aWxsIGRvZXNuJ3QgZXhpc3RcbiAgICAgICAgbGV0IHJlc3VsdCA9IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAodGhpcy52Z01lZGlhKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLnZnTWVkaWEuaWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGdldCBkdXJhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmdNZWRpYS5kdXJhdGlvbjtcbiAgICB9XG5cbiAgICBzZXQgY3VycmVudFRpbWUoc2Vjb25kcykge1xuICAgICAgICB0aGlzLnZnTWVkaWEuY3VycmVudFRpbWUgPSBzZWNvbmRzO1xuICAgICAgICAvLyB0aGlzLmVsZW0uZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoVmdFdmVudHMuVkdfU0VFSykpO1xuICAgIH1cblxuICAgIGdldCBjdXJyZW50VGltZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmdNZWRpYS5jdXJyZW50VGltZTtcbiAgICB9XG5cbiAgICBzZXQgdm9sdW1lKHZvbHVtZSkge1xuICAgICAgICB0aGlzLnZnTWVkaWEudm9sdW1lID0gdm9sdW1lO1xuICAgIH1cblxuICAgIGdldCB2b2x1bWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZnTWVkaWEudm9sdW1lO1xuICAgIH1cblxuICAgIHNldCBwbGF5YmFja1JhdGUocmF0ZSkge1xuICAgICAgICB0aGlzLnZnTWVkaWEucGxheWJhY2tSYXRlID0gcmF0ZTtcbiAgICB9XG5cbiAgICBnZXQgcGxheWJhY2tSYXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52Z01lZGlhLnBsYXliYWNrUmF0ZTtcbiAgICB9XG5cbiAgICBnZXQgYnVmZmVyZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZnTWVkaWEuYnVmZmVyZWQ7XG4gICAgfVxuXG4gICAgZ2V0IHRleHRUcmFja3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZnTWVkaWEudGV4dFRyYWNrcztcbiAgICB9XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIG9uQ2FuUGxheShldmVudDogYW55KSB7XG4gICAgICAgIHRoaXMuaXNCdWZmZXJEZXRlY3RlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJ1ZmZlckRldGVjdGVkLm5leHQodGhpcy5pc0J1ZmZlckRldGVjdGVkKTtcbiAgICAgICAgdGhpcy5jYW5QbGF5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgIH1cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgb25DYW5QbGF5VGhyb3VnaChldmVudDogYW55KSB7XG4gICAgICAgIHRoaXMuaXNCdWZmZXJEZXRlY3RlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJ1ZmZlckRldGVjdGVkLm5leHQodGhpcy5pc0J1ZmZlckRldGVjdGVkKTtcbiAgICAgICAgdGhpcy5jYW5QbGF5VGhyb3VnaCA9IHRydWU7XG4gICAgICAgIHRoaXMucmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICB9XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIG9uTG9hZE1ldGFkYXRhKGV2ZW50OiBhbnkpIHtcbiAgICAgICAgdGhpcy5pc01ldGFkYXRhTG9hZGVkID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLnRpbWUgPSB7XG4gICAgICAgICAgICBjdXJyZW50OiAwLFxuICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgIHRvdGFsOiB0aGlzLmR1cmF0aW9uICogMTAwMFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuc3RhdGUgPSBWZ1N0YXRlcy5WR19QQVVTRUQ7XG5cbiAgICAgICAgLy8gTGl2ZSBzdHJlYW1pbmcgY2hlY2tcbiAgICAgICAgbGV0IHQ6bnVtYmVyID0gTWF0aC5yb3VuZCh0aGlzLnRpbWUudG90YWwpO1xuICAgICAgICB0aGlzLmlzTGl2ZSA9ICh0ID09PSBJbmZpbml0eSk7XG4gICAgICAgIHRoaXMucmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICB9XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIG9uV2FpdChldmVudDogYW55KSB7XG4gICAgICAgIHRoaXMuaXNXYWl0aW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgIH1cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgb25Db21wbGV0ZShldmVudDogYW55KSB7XG4gICAgICAgIHRoaXMuaXNDb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnN0YXRlID0gVmdTdGF0ZXMuVkdfRU5ERUQ7XG4gICAgICAgIHRoaXMucmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICB9XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIG9uU3RhcnRQbGF5aW5nKGV2ZW50OiBhbnkpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFZnU3RhdGVzLlZHX1BMQVlJTkc7XG4gICAgICAgIHRoaXMucmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICB9XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIG9uUGxheShldmVudDogYW55KSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBWZ1N0YXRlcy5WR19QTEFZSU5HO1xuXG4gICAgICAgIGlmICh0aGlzLnZnTWFzdGVyKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc3luY1N1YnNjcmlwdGlvbiB8fCB0aGlzLnN5bmNTdWJzY3JpcHRpb24uY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydFN5bmMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RhcnRCdWZmZXJDaGVjaygpO1xuICAgICAgICB0aGlzLnJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgfVxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBvblBhdXNlKGV2ZW50OiBhbnkpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFZnU3RhdGVzLlZHX1BBVVNFRDtcblxuICAgICAgICBpZiAodGhpcy52Z01hc3Rlcikge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBsYXlBdGZlclN5bmMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN5bmNTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RvcEJ1ZmZlckNoZWNrKCk7XG4gICAgICAgIHRoaXMucmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICB9XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIG9uVGltZVVwZGF0ZShldmVudDogYW55KSB7XG4gICAgICAgIGxldCBlbmQgPSB0aGlzLmJ1ZmZlcmVkLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgdGhpcy50aW1lID0ge1xuICAgICAgICAgICAgY3VycmVudDogdGhpcy5jdXJyZW50VGltZSAqIDEwMDAsXG4gICAgICAgICAgICB0b3RhbDogdGhpcy50aW1lLnRvdGFsLFxuICAgICAgICAgICAgbGVmdDogKHRoaXMuZHVyYXRpb24gLSB0aGlzLmN1cnJlbnRUaW1lKSAqIDEwMDBcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoZW5kID49IDApIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyID0geyBlbmQ6IHRoaXMuYnVmZmVyZWQuZW5kKGVuZCkgKiAxMDAwIH07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgIH1cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgb25Qcm9ncmVzcyhldmVudDogYW55KSB7XG4gICAgICAgIGxldCBlbmQgPSB0aGlzLmJ1ZmZlcmVkLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgaWYgKGVuZCA+PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlciA9IHsgZW5kOiB0aGlzLmJ1ZmZlcmVkLmVuZChlbmQpICogMTAwMCB9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICB9XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIG9uVm9sdW1lQ2hhbmdlKGV2ZW50OiBhbnkpIHtcbiAgICAgICAgLy8gVE9ETzogU2F2ZSB0byBsb2NhbHN0b3JhZ2UgdGhlIGN1cnJlbnQgdm9sdW1lXG4gICAgICAgIHRoaXMucmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICB9XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIG9uRXJyb3IoZXZlbnQ6IGFueSkge1xuICAgICAgICAvLyBUT0RPOiBIYW5kbGUgZXJyb3IgbWVzc2FnZXNcbiAgICAgICAgdGhpcy5yZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgIH1cblxuICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIzODI4MjQxLzc3OTUyOVxuICAgIGJ1ZmZlckNoZWNrKCkge1xuICAgICAgICBjb25zdCBvZmZzZXQgPSAxIC8gdGhpcy5jaGVja0ludGVydmFsO1xuICAgICAgICB0aGlzLmN1cnJlbnRQbGF5UG9zID0gdGhpcy5jdXJyZW50VGltZTtcblxuICAgICAgICBpZiAoIXRoaXMuaXNCdWZmZXJEZXRlY3RlZCAmJiB0aGlzLmN1cnJlbnRQbGF5UG9zIDwgKHRoaXMubGFzdFBsYXlQb3MgKyBvZmZzZXQpKSB7XG4gICAgICAgICAgICB0aGlzLmlzQnVmZmVyRGV0ZWN0ZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaXNCdWZmZXJEZXRlY3RlZCAmJiB0aGlzLmN1cnJlbnRQbGF5UG9zID4gKHRoaXMubGFzdFBsYXlQb3MgKyBvZmZzZXQpKSB7XG4gICAgICAgICAgICB0aGlzLmlzQnVmZmVyRGV0ZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFByZXZlbnQgY2FsbHMgdG8gYnVmZmVyQ2hlY2sgYWZ0ZXIgbmdPbkRlc3Ryb3kgaGF2ZSBiZWVuIGNhbGxlZFxuICAgICAgICBpZiAoIXRoaXMuYnVmZmVyRGV0ZWN0ZWQuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlckRldGVjdGVkLm5leHQodGhpcy5pc0J1ZmZlckRldGVjdGVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubGFzdFBsYXlQb3MgPSB0aGlzLmN1cnJlbnRQbGF5UG9zO1xuICAgIH1cblxuICAgIHN0YXJ0QnVmZmVyQ2hlY2soKSB7XG4gICAgICAgIHRoaXMuY2hlY2tCdWZmZXJTdWJzY3JpcHRpb24gPSB0aW1lcigwLCB0aGlzLmNoZWNrSW50ZXJ2YWwpLnN1YnNjcmliZShcbiAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlckNoZWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgc3RvcEJ1ZmZlckNoZWNrKCkge1xuICAgICAgICBpZiAodGhpcy5jaGVja0J1ZmZlclN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jaGVja0J1ZmZlclN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pc0J1ZmZlckRldGVjdGVkID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5idWZmZXJEZXRlY3RlZC5uZXh0KHRoaXMuaXNCdWZmZXJEZXRlY3RlZCk7XG4gICAgfVxuXG4gICAgc2Vla1RpbWUodmFsdWU6bnVtYmVyLCBieVBlcmNlbnQ6Ym9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICAgIGxldCBzZWNvbmQ6bnVtYmVyO1xuICAgICAgICBsZXQgZHVyYXRpb246bnVtYmVyID0gdGhpcy5kdXJhdGlvbjtcblxuICAgICAgICBpZiAoYnlQZXJjZW50KSB7XG4gICAgICAgICAgICBzZWNvbmQgPSB2YWx1ZSAqIGR1cmF0aW9uIC8gMTAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2Vjb25kID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmN1cnJlbnRUaW1lID0gc2Vjb25kO1xuICAgIH1cblxuICAgIGFkZFRleHRUcmFjayh0eXBlOnN0cmluZywgbGFiZWw/OnN0cmluZywgbGFuZ3VhZ2U/OnN0cmluZywgbW9kZT86J2Rpc2FibGVkJyB8ICdoaWRkZW4nIHwgJ3Nob3dpbmcnKTogVGV4dFRyYWNrIHtcbiAgICAgICAgY29uc3QgbmV3VHJhY2s6VGV4dFRyYWNrID0gdGhpcy52Z01lZGlhLmFkZFRleHRUcmFjayh0eXBlLCBsYWJlbCwgbGFuZ3VhZ2UpO1xuXG4gICAgICAgIGlmIChtb2RlKSB7XG4gICAgICAgICAgICBuZXdUcmFjay5tb2RlID0gbW9kZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3VHJhY2s7XG4gICAgfVxuXG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMudmdNZWRpYS5zcmMgPSAnJztcbiAgICAgICAgdGhpcy5tdXRhdGlvbk9icy51bnN1YnNjcmliZSgpO1xuICAgICAgICB0aGlzLmNhblBsYXlPYnMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgdGhpcy5jYW5QbGF5VGhyb3VnaE9icy51bnN1YnNjcmliZSgpO1xuICAgICAgICB0aGlzLmxvYWRlZE1ldGFkYXRhT2JzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIHRoaXMud2FpdGluZ09icy51bnN1YnNjcmliZSgpO1xuICAgICAgICB0aGlzLnByb2dyZXNzT2JzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIHRoaXMuZW5kZWRPYnMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgdGhpcy5wbGF5aW5nT2JzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIHRoaXMucGxheU9icy51bnN1YnNjcmliZSgpO1xuICAgICAgICB0aGlzLnBhdXNlT2JzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIHRoaXMudGltZVVwZGF0ZU9icy51bnN1YnNjcmliZSgpO1xuICAgICAgICB0aGlzLnZvbHVtZUNoYW5nZU9icy51bnN1YnNjcmliZSgpO1xuICAgICAgICB0aGlzLmVycm9yT2JzLnVuc3Vic2NyaWJlKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuY2hlY2tCdWZmZXJTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tCdWZmZXJTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKHRoaXMuc3luY1N1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgdGhpcy5zeW5jU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJ1ZmZlckRldGVjdGVkLmNvbXBsZXRlKCk7XG4gICAgICAgIHRoaXMuYnVmZmVyRGV0ZWN0ZWQudW5zdWJzY3JpYmUoKTtcblxuICAgICAgICB0aGlzLmFwaS51bnJlZ2lzdGVyTWVkaWEodGhpcyk7XG4gICAgfVxufVxuIl19","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar vg_api_1 = require(\"../../core/services/vg-api\");\nvar vg_states_1 = require(\"../../core/states/vg-states\");\nvar VgPlayPause = /** @class */ (function () {\n    function VgPlayPause(ref, API) {\n        this.API = API;\n        this.subscriptions = [];\n        this.ariaValue = vg_states_1.VgStates.VG_PAUSED;\n        this.elem = ref.nativeElement;\n    }\n    VgPlayPause.prototype.ngOnInit = function () {\n        var _this = this;\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(function () { return _this.onPlayerReady(); }));\n        }\n    };\n    VgPlayPause.prototype.onPlayerReady = function () {\n        this.target = this.API.getMediaById(this.vgFor);\n    };\n    VgPlayPause.prototype.onClick = function () {\n        this.playPause();\n    };\n    VgPlayPause.prototype.onKeyDown = function (event) {\n        // On press Enter (13) or Space (32)\n        if (event.keyCode === 13 || event.keyCode === 32) {\n            event.preventDefault();\n            this.playPause();\n        }\n    };\n    VgPlayPause.prototype.playPause = function () {\n        var state = this.getState();\n        switch (state) {\n            case vg_states_1.VgStates.VG_PLAYING:\n                this.target.pause();\n                break;\n            case vg_states_1.VgStates.VG_PAUSED:\n            case vg_states_1.VgStates.VG_ENDED:\n                this.target.play();\n                break;\n        }\n    };\n    VgPlayPause.prototype.getState = function () {\n        this.ariaValue = this.target ? this.target.state : vg_states_1.VgStates.VG_PAUSED;\n        return this.ariaValue;\n    };\n    VgPlayPause.prototype.ngOnDestroy = function () {\n        this.subscriptions.forEach(function (s) { return s.unsubscribe(); });\n    };\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", String)\n    ], VgPlayPause.prototype, \"vgFor\", void 0);\n    __decorate([\n        core_1.HostListener('click'),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", []),\n        __metadata(\"design:returntype\", void 0)\n    ], VgPlayPause.prototype, \"onClick\", null);\n    __decorate([\n        core_1.HostListener('keydown', ['$event']),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", [KeyboardEvent]),\n        __metadata(\"design:returntype\", void 0)\n    ], VgPlayPause.prototype, \"onKeyDown\", null);\n    VgPlayPause = __decorate([\n        core_1.Component({\n            selector: 'vg-play-pause',\n            encapsulation: core_1.ViewEncapsulation.None,\n            template: \"\\n        <div class=\\\"icon\\\"\\n             [class.vg-icon-pause]=\\\"getState() === 'playing'\\\"\\n             [class.vg-icon-play_arrow]=\\\"getState() === 'paused' || getState() === 'ended'\\\"\\n             tabindex=\\\"0\\\"\\n             role=\\\"button\\\"\\n             [attr.aria-label]=\\\"getState() === 'paused'?'play':'pause'\\\"\\n             [attr.aria-valuetext]=\\\"ariaValue\\\">\\n        </div>\",\n            styles: [\"\\n        vg-play-pause {\\n            -webkit-touch-callout: none;\\n            -webkit-user-select: none;\\n            -khtml-user-select: none;\\n            -moz-user-select: none;\\n            -ms-user-select: none;\\n            user-select: none;\\n            display: flex;\\n            justify-content: center;\\n            height: 50px;\\n            width: 50px;\\n            cursor: pointer;\\n            color: white;\\n            line-height: 50px;\\n        }\\n\\n        vg-play-pause .icon {\\n            pointer-events: none;\\n        }\\n    \"]\n        }),\n        __metadata(\"design:paramtypes\", [core_1.ElementRef, vg_api_1.VgAPI])\n    ], VgPlayPause);\n    return VgPlayPause;\n}());\nexports.VgPlayPause = VgPlayPause;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmctcGxheS1wYXVzZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jb250cm9scy92Zy1wbGF5LXBhdXNlL3ZnLXBsYXktcGF1c2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxzQ0FBaUg7QUFDakgscURBQW1EO0FBQ25ELHlEQUF1RDtBQXFDdkQ7SUFVSSxxQkFBWSxHQUFlLEVBQVMsR0FBVTtRQUFWLFFBQUcsR0FBSCxHQUFHLENBQU87UUFKOUMsa0JBQWEsR0FBbUIsRUFBRSxDQUFDO1FBRW5DLGNBQVMsR0FBRyxvQkFBUSxDQUFDLFNBQVMsQ0FBQztRQUczQixJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxhQUFhLENBQUM7SUFDbEMsQ0FBQztJQUVELDhCQUFRLEdBQVI7UUFBQSxpQkFPQztRQU5HLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUU7WUFDeEIsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1NBQ3hCO2FBQ0k7WUFDRCxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxjQUFNLE9BQUEsS0FBSSxDQUFDLGFBQWEsRUFBRSxFQUFwQixDQUFvQixDQUFDLENBQUMsQ0FBQztTQUM1RjtJQUNMLENBQUM7SUFFRCxtQ0FBYSxHQUFiO1FBQ0ksSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDcEQsQ0FBQztJQUdELDZCQUFPLEdBQVA7UUFDSSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7SUFDckIsQ0FBQztJQUdELCtCQUFTLEdBQVQsVUFBVSxLQUFvQjtRQUMxQixvQ0FBb0M7UUFDcEMsSUFBSSxLQUFLLENBQUMsT0FBTyxLQUFLLEVBQUUsSUFBSSxLQUFLLENBQUMsT0FBTyxLQUFLLEVBQUUsRUFBRTtZQUM5QyxLQUFLLENBQUMsY0FBYyxFQUFFLENBQUM7WUFDdkIsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1NBQ3BCO0lBQ0wsQ0FBQztJQUVELCtCQUFTLEdBQVQ7UUFDSSxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7UUFFNUIsUUFBUSxLQUFLLEVBQUU7WUFDWCxLQUFLLG9CQUFRLENBQUMsVUFBVTtnQkFDcEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQztnQkFDcEIsTUFBTTtZQUVWLEtBQUssb0JBQVEsQ0FBQyxTQUFTLENBQUM7WUFDeEIsS0FBSyxvQkFBUSxDQUFDLFFBQVE7Z0JBQ2xCLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUM7Z0JBQ25CLE1BQU07U0FDYjtJQUNMLENBQUM7SUFFRCw4QkFBUSxHQUFSO1FBQ0ksSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsb0JBQVEsQ0FBQyxTQUFTLENBQUM7UUFDdEUsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQzFCLENBQUM7SUFFRCxpQ0FBVyxHQUFYO1FBQ0ksSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxDQUFDLENBQUMsV0FBVyxFQUFFLEVBQWYsQ0FBZSxDQUFDLENBQUM7SUFDckQsQ0FBQztJQTlEUTtRQUFSLFlBQUssRUFBRTs7OENBQWU7SUEyQnZCO1FBREMsbUJBQVksQ0FBQyxPQUFPLENBQUM7Ozs7OENBR3JCO0lBR0Q7UUFEQyxtQkFBWSxDQUFDLFNBQVMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDOzt5Q0FDbkIsYUFBYTs7Z0RBTTdCO0lBdkNRLFdBQVc7UUFsQ3ZCLGdCQUFTLENBQUM7WUFDUCxRQUFRLEVBQUUsZUFBZTtZQUN6QixhQUFhLEVBQUUsd0JBQWlCLENBQUMsSUFBSTtZQUNyQyxRQUFRLEVBQUUsd1lBUUM7WUFDWCxNQUFNLEVBQUUsQ0FBRSw2aUJBb0JULENBQUU7U0FDTixDQUFDO3lDQVdtQixpQkFBVSxFQUFjLGNBQUs7T0FWckMsV0FBVyxDQWdFdkI7SUFBRCxrQkFBQztDQUFBLEFBaEVELElBZ0VDO0FBaEVZLGtDQUFXIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBFbGVtZW50UmVmLCBIb3N0TGlzdGVuZXIsIE9uSW5pdCwgSW5wdXQsIFZpZXdFbmNhcHN1bGF0aW9uLCBPbkRlc3Ryb3kgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFZnQVBJIH0gZnJvbSAnLi4vLi4vY29yZS9zZXJ2aWNlcy92Zy1hcGknO1xuaW1wb3J0IHsgVmdTdGF0ZXMgfSBmcm9tICcuLi8uLi9jb3JlL3N0YXRlcy92Zy1zdGF0ZXMnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAndmctcGxheS1wYXVzZScsXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgICB0ZW1wbGF0ZTogYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiaWNvblwiXG4gICAgICAgICAgICAgW2NsYXNzLnZnLWljb24tcGF1c2VdPVwiZ2V0U3RhdGUoKSA9PT0gJ3BsYXlpbmcnXCJcbiAgICAgICAgICAgICBbY2xhc3MudmctaWNvbi1wbGF5X2Fycm93XT1cImdldFN0YXRlKCkgPT09ICdwYXVzZWQnIHx8IGdldFN0YXRlKCkgPT09ICdlbmRlZCdcIlxuICAgICAgICAgICAgIHRhYmluZGV4PVwiMFwiXG4gICAgICAgICAgICAgcm9sZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgW2F0dHIuYXJpYS1sYWJlbF09XCJnZXRTdGF0ZSgpID09PSAncGF1c2VkJz8ncGxheSc6J3BhdXNlJ1wiXG4gICAgICAgICAgICAgW2F0dHIuYXJpYS12YWx1ZXRleHRdPVwiYXJpYVZhbHVlXCI+XG4gICAgICAgIDwvZGl2PmAsXG4gICAgc3R5bGVzOiBbIGBcbiAgICAgICAgdmctcGxheS1wYXVzZSB7XG4gICAgICAgICAgICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XG4gICAgICAgICAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAgICAgLWtodG1sLXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAgICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgICAgIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICAgICAgaGVpZ2h0OiA1MHB4O1xuICAgICAgICAgICAgd2lkdGg6IDUwcHg7XG4gICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgICAgICBsaW5lLWhlaWdodDogNTBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZnLXBsYXktcGF1c2UgLmljb24ge1xuICAgICAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICAgIH1cbiAgICBgIF1cbn0pXG5leHBvcnQgY2xhc3MgVmdQbGF5UGF1c2UgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSB7XG4gICAgQElucHV0KCkgdmdGb3I6IHN0cmluZztcblxuICAgIGVsZW06IEhUTUxFbGVtZW50O1xuICAgIHRhcmdldDogYW55O1xuXG4gICAgc3Vic2NyaXB0aW9uczogU3Vic2NyaXB0aW9uW10gPSBbXTtcblxuICAgIGFyaWFWYWx1ZSA9IFZnU3RhdGVzLlZHX1BBVVNFRDtcblxuICAgIGNvbnN0cnVjdG9yKHJlZjogRWxlbWVudFJlZiwgcHVibGljIEFQSTogVmdBUEkpIHtcbiAgICAgICAgdGhpcy5lbGVtID0gcmVmLm5hdGl2ZUVsZW1lbnQ7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIGlmICh0aGlzLkFQSS5pc1BsYXllclJlYWR5KSB7XG4gICAgICAgICAgICB0aGlzLm9uUGxheWVyUmVhZHkoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKHRoaXMuQVBJLnBsYXllclJlYWR5RXZlbnQuc3Vic2NyaWJlKCgpID0+IHRoaXMub25QbGF5ZXJSZWFkeSgpKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblBsYXllclJlYWR5KCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRoaXMuQVBJLmdldE1lZGlhQnlJZCh0aGlzLnZnRm9yKTtcbiAgICB9XG5cbiAgICBASG9zdExpc3RlbmVyKCdjbGljaycpXG4gICAgb25DbGljaygpIHtcbiAgICAgICAgdGhpcy5wbGF5UGF1c2UoKTtcbiAgICB9XG5cbiAgICBASG9zdExpc3RlbmVyKCdrZXlkb3duJywgWyckZXZlbnQnXSlcbiAgICBvbktleURvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICAgICAgLy8gT24gcHJlc3MgRW50ZXIgKDEzKSBvciBTcGFjZSAoMzIpXG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSAxMyB8fCBldmVudC5rZXlDb2RlID09PSAzMikge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHRoaXMucGxheVBhdXNlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwbGF5UGF1c2UoKSB7XG4gICAgICAgIGxldCBzdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoKTtcblxuICAgICAgICBzd2l0Y2ggKHN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIFZnU3RhdGVzLlZHX1BMQVlJTkc6XG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXQucGF1c2UoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBWZ1N0YXRlcy5WR19QQVVTRUQ6XG4gICAgICAgICAgICBjYXNlIFZnU3RhdGVzLlZHX0VOREVEOlxuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0LnBsYXkoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldFN0YXRlKCkge1xuICAgICAgICB0aGlzLmFyaWFWYWx1ZSA9IHRoaXMudGFyZ2V0ID8gdGhpcy50YXJnZXQuc3RhdGUgOiBWZ1N0YXRlcy5WR19QQVVTRUQ7XG4gICAgICAgIHJldHVybiB0aGlzLmFyaWFWYWx1ZTtcbiAgICB9XG5cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLmZvckVhY2gocyA9PiBzLnVuc3Vic2NyaWJlKCkpO1xuICAgIH1cbn1cbiJdfQ==","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar vg_events_1 = require(\"../events/vg-events\");\nvar rxjs_1 = require(\"rxjs\");\nvar VgCuePoints = /** @class */ (function () {\n    function VgCuePoints(ref) {\n        this.ref = ref;\n        this.onEnterCuePoint = new core_1.EventEmitter();\n        this.onUpdateCuePoint = new core_1.EventEmitter();\n        this.onExitCuePoint = new core_1.EventEmitter();\n        this.onCompleteCuePoint = new core_1.EventEmitter();\n        this.subscriptions = [];\n        this.cuesSubscriptions = [];\n        this.totalCues = 0;\n    }\n    VgCuePoints.prototype.ngOnInit = function () {\n        this.onLoad$ = rxjs_1.fromEvent(this.ref.nativeElement, vg_events_1.VgEvents.VG_LOAD);\n        this.subscriptions.push(this.onLoad$.subscribe(this.onLoad.bind(this)));\n    };\n    VgCuePoints.prototype.onLoad = function (event) {\n        var cues = event.target.track.cues;\n        this.ref.nativeElement.cues = cues;\n        this.updateCuePoints(cues);\n    };\n    VgCuePoints.prototype.updateCuePoints = function (cues) {\n        this.cuesSubscriptions.forEach(function (s) { return s.unsubscribe(); });\n        for (var i = 0, l = cues.length; i < l; i++) {\n            this.onEnter$ = rxjs_1.fromEvent(cues[i], vg_events_1.VgEvents.VG_ENTER);\n            this.cuesSubscriptions.push(this.onEnter$.subscribe(this.onEnter.bind(this)));\n            this.onExit$ = rxjs_1.fromEvent(cues[i], vg_events_1.VgEvents.VG_EXIT);\n            this.cuesSubscriptions.push(this.onExit$.subscribe(this.onExit.bind(this)));\n        }\n    };\n    VgCuePoints.prototype.onEnter = function (event) {\n        this.onEnterCuePoint.emit(event.target);\n    };\n    VgCuePoints.prototype.onExit = function (event) {\n        this.onExitCuePoint.emit(event.target);\n    };\n    VgCuePoints.prototype.ngDoCheck = function () {\n        if (this.ref.nativeElement.track && this.ref.nativeElement.track.cues) {\n            var changes = this.totalCues !== this.ref.nativeElement.track.cues.length;\n            if (changes) {\n                this.totalCues = this.ref.nativeElement.track.cues.length;\n                this.ref.nativeElement.cues = this.ref.nativeElement.track.cues;\n                this.updateCuePoints(this.ref.nativeElement.track.cues);\n            }\n        }\n    };\n    VgCuePoints.prototype.ngOnDestroy = function () {\n        this.subscriptions.forEach(function (s) { return s.unsubscribe(); });\n    };\n    __decorate([\n        core_1.Output(),\n        __metadata(\"design:type\", core_1.EventEmitter)\n    ], VgCuePoints.prototype, \"onEnterCuePoint\", void 0);\n    __decorate([\n        core_1.Output(),\n        __metadata(\"design:type\", core_1.EventEmitter)\n    ], VgCuePoints.prototype, \"onUpdateCuePoint\", void 0);\n    __decorate([\n        core_1.Output(),\n        __metadata(\"design:type\", core_1.EventEmitter)\n    ], VgCuePoints.prototype, \"onExitCuePoint\", void 0);\n    __decorate([\n        core_1.Output(),\n        __metadata(\"design:type\", core_1.EventEmitter)\n    ], VgCuePoints.prototype, \"onCompleteCuePoint\", void 0);\n    VgCuePoints = __decorate([\n        core_1.Directive({\n            selector: '[vgCuePoints]'\n        }),\n        __metadata(\"design:paramtypes\", [core_1.ElementRef])\n    ], VgCuePoints);\n    return VgCuePoints;\n}());\nexports.VgCuePoints = VgCuePoints;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmctY3VlLXBvaW50cy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jb3JlL3ZnLWN1ZS1wb2ludHMvdmctY3VlLXBvaW50cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBLHNDQUF3RztBQUN4RyxpREFBK0M7QUFDL0MsNkJBQTZEO0FBSzdEO0lBZUkscUJBQW1CLEdBQWU7UUFBZixRQUFHLEdBQUgsR0FBRyxDQUFZO1FBZHhCLG9CQUFlLEdBQXNCLElBQUksbUJBQVksRUFBRSxDQUFDO1FBQ3hELHFCQUFnQixHQUFzQixJQUFJLG1CQUFZLEVBQUUsQ0FBQztRQUN6RCxtQkFBYyxHQUFzQixJQUFJLG1CQUFZLEVBQUUsQ0FBQztRQUN2RCx1QkFBa0IsR0FBc0IsSUFBSSxtQkFBWSxFQUFFLENBQUM7UUFFckUsa0JBQWEsR0FBbUIsRUFBRSxDQUFDO1FBQ25DLHNCQUFpQixHQUFtQixFQUFFLENBQUM7UUFNdkMsY0FBUyxHQUFHLENBQUMsQ0FBQztJQUdkLENBQUM7SUFFRCw4QkFBUSxHQUFSO1FBQ0ksSUFBSSxDQUFDLE9BQU8sR0FBRyxnQkFBUyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFLG9CQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDbkUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzVFLENBQUM7SUFFRCw0QkFBTSxHQUFOLFVBQU8sS0FBVTtRQUNiLElBQUksSUFBSSxHQUFtQixLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUM7UUFFbkQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUVuQyxJQUFJLENBQUMsZUFBZSxDQUFD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QUEsQUFuRUQsSUFtRUM7QUFuRVksa0NBQVciLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEaXJlY3RpdmUsIEVsZW1lbnRSZWYsIEV2ZW50RW1pdHRlciwgT25EZXN0cm95LCBPbkluaXQsIE91dHB1dCwgRG9DaGVjayB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVmdFdmVudHMgfSBmcm9tICcuLi9ldmVudHMvdmctZXZlbnRzJztcbmltcG9ydCB7IE9ic2VydmFibGUgLCAgU3Vic2NyaXB0aW9uLCBmcm9tRXZlbnQgfSBmcm9tICdyeGpzJztcblxuQERpcmVjdGl2ZSh7XG4gICAgc2VsZWN0b3I6ICdbdmdDdWVQb2ludHNdJ1xufSlcbmV4cG9ydCBjbGFzcyBWZ0N1ZVBvaW50cyBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95LCBEb0NoZWNrIHtcbiAgICBAT3V0cHV0KCkgb25FbnRlckN1ZVBvaW50OiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICBAT3V0cHV0KCkgb25VcGRhdGVDdWVQb2ludDogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgQE91dHB1dCgpIG9uRXhpdEN1ZVBvaW50OiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICBAT3V0cHV0KCkgb25Db21wbGV0ZUN1ZVBvaW50OiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgIHN1YnNjcmlwdGlvbnM6IFN1YnNjcmlwdGlvbltdID0gW107XG4gICAgY3Vlc1N1YnNjcmlwdGlvbnM6IFN1YnNjcmlwdGlvbltdID0gW107XG5cbiAgICBvbkxvYWQkOiBPYnNlcnZhYmxlPGFueT47XG4gICAgb25FbnRlciQ6IE9ic2VydmFibGU8YW55PjtcbiAgICBvbkV4aXQkOiBPYnNlcnZhYmxlPGFueT47XG5cbiAgICB0b3RhbEN1ZXMgPSAwO1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIHJlZjogRWxlbWVudFJlZikge1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICB0aGlzLm9uTG9hZCQgPSBmcm9tRXZlbnQodGhpcy5yZWYubmF0aXZlRWxlbWVudCwgVmdFdmVudHMuVkdfTE9BRCk7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKHRoaXMub25Mb2FkJC5zdWJzY3JpYmUodGhpcy5vbkxvYWQuYmluZCh0aGlzKSkpO1xuICAgIH1cblxuICAgIG9uTG9hZChldmVudDogYW55KSB7XG4gICAgICAgIGxldCBjdWVzOiBUZXh0VHJhY2tDdWVbXSA9IGV2ZW50LnRhcmdldC50cmFjay5jdWVzO1xuXG4gICAgICAgIHRoaXMucmVmLm5hdGl2ZUVsZW1lbnQuY3VlcyA9IGN1ZXM7XG5cbiAgICAgICAgdGhpcy51cGRhdGVDdWVQb2ludHMoY3Vlcyk7XG4gICAgfVxuXG4gICAgdXBkYXRlQ3VlUG9pbnRzKGN1ZXM6IFRleHRUcmFja0N1ZVtdKSB7XG4gICAgICAgIHRoaXMuY3Vlc1N1YnNjcmlwdGlvbnMuZm9yRWFjaChzID0+IHMudW5zdWJzY3JpYmUoKSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBjdWVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5vbkVudGVyJCA9IGZyb21FdmVudChjdWVzWyBpIF0sIFZnRXZlbnRzLlZHX0VOVEVSKTtcbiAgICAgICAgICAgIHRoaXMuY3Vlc1N1YnNjcmlwdGlvbnMucHVzaCh0aGlzLm9uRW50ZXIkLnN1YnNjcmliZSh0aGlzLm9uRW50ZXIuYmluZCh0aGlzKSkpO1xuXG4gICAgICAgICAgICB0aGlzLm9uRXhpdCQgPSBmcm9tRXZlbnQoY3Vlc1sgaSBdLCBWZ0V2ZW50cy5WR19FWElUKTtcbiAgICAgICAgICAgIHRoaXMuY3Vlc1N1YnNjcmlwdGlvbnMucHVzaCh0aGlzLm9uRXhpdCQuc3Vic2NyaWJlKHRoaXMub25FeGl0LmJpbmQodGhpcykpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uRW50ZXIoZXZlbnQ6IGFueSkge1xuICAgICAgICB0aGlzLm9uRW50ZXJDdWVQb2ludC5lbWl0KGV2ZW50LnRhcmdldCk7XG4gICAgfVxuXG4gICAgb25FeGl0KGV2ZW50OiBhbnkpIHtcbiAgICAgICAgdGhpcy5vbkV4aXRDdWVQb2ludC5lbWl0KGV2ZW50LnRhcmdldCk7XG4gICAgfVxuXG4gICAgbmdEb0NoZWNrKCkge1xuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMucmVmLm5hdGl2ZUVsZW1lbnQudHJhY2sgJiYgdGhpcy5yZWYubmF0aXZlRWxlbWVudC50cmFjay5jdWVzKSB7XG4gICAgICAgICAgICBjb25zdCBjaGFuZ2VzID0gdGhpcy50b3RhbEN1ZXMgIT09IHRoaXMucmVmLm5hdGl2ZUVsZW1lbnQudHJhY2suY3Vlcy5sZW5ndGg7XG5cbiAgICAgICAgICAgIGlmIChjaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b3RhbEN1ZXMgPSB0aGlzLnJlZi5uYXRpdmVFbGVtZW50LnRyYWNrLmN1ZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHRoaXMucmVmLm5hdGl2ZUVsZW1lbnQuY3VlcyA9IHRoaXMucmVmLm5hdGl2ZUVsZW1lbnQudHJhY2suY3VlcztcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUN1ZVBvaW50cyh0aGlzLnJlZi5uYXRpdmVFbGVtZW50LnRyYWNrLmN1ZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5mb3JFYWNoKHMgPT4gcy51bnN1YnNjcmliZSgpKTtcbiAgICB9XG59XG4iXX0=","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar vg_api_1 = require(\"../../core/services/vg-api\");\nvar VgMute = /** @class */ (function () {\n    function VgMute(ref, API) {\n        this.API = API;\n        this.subscriptions = [];\n        this.ariaValue = 'unmuted';\n        this.elem = ref.nativeElement;\n    }\n    VgMute.prototype.ngOnInit = function () {\n        var _this = this;\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(function () { return _this.onPlayerReady(); }));\n        }\n    };\n    VgMute.prototype.onPlayerReady = function () {\n        this.target = this.API.getMediaById(this.vgFor);\n        this.currentVolume = this.target.volume;\n    };\n    VgMute.prototype.onClick = function () {\n        this.changeMuteState();\n    };\n    VgMute.prototype.onKeyDown = function (event) {\n        // On press Enter (13) or Space (32)\n        if (event.keyCode === 13 || event.keyCode === 32) {\n            event.preventDefault();\n            this.changeMuteState();\n        }\n    };\n    VgMute.prototype.changeMuteState = function () {\n        var volume = this.getVolume();\n        if (volume === 0) {\n            if (this.target.volume === 0 && this.currentVolume === 0) {\n                this.currentVolume = 1;\n            }\n            this.target.volume = this.currentVolume;\n        }\n        else {\n            this.currentVolume = volume;\n            this.target.volume = 0;\n        }\n    };\n    VgMute.prototype.getVolume = function () {\n        var volume = this.target ? this.target.volume : 0;\n        this.ariaValue = volume ? 'unmuted' : 'muted';\n        return volume;\n    };\n    VgMute.prototype.ngOnDestroy = function () {\n        this.subscriptions.forEach(function (s) { return s.unsubscribe(); });\n    };\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", String)\n    ], VgMute.prototype, \"vgFor\", void 0);\n    __decorate([\n        core_1.HostListener('click'),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", []),\n        __metadata(\"design:returntype\", void 0)\n    ], VgMute.prototype, \"onClick\", null);\n    __decorate([\n        core_1.HostListener('keydown', ['$event']),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", [KeyboardEvent]),\n        __metadata(\"design:returntype\", void 0)\n    ], VgMute.prototype, \"onKeyDown\", null);\n    VgMute = __decorate([\n        core_1.Component({\n            selector: 'vg-mute',\n            encapsulation: core_1.ViewEncapsulation.None,\n            template: \"\\n        <div class=\\\"icon\\\"\\n             [class.vg-icon-volume_up]=\\\"getVolume() >= 0.75\\\"\\n             [class.vg-icon-volume_down]=\\\"getVolume() >= 0.25 && getVolume() < 0.75\\\"\\n             [class.vg-icon-volume_mute]=\\\"getVolume() > 0 && getVolume() < 0.25\\\"\\n             [class.vg-icon-volume_off]=\\\"getVolume() === 0\\\"\\n             tabindex=\\\"0\\\"\\n             role=\\\"button\\\"\\n             aria-label=\\\"mute button\\\"\\n             [attr.aria-valuetext]=\\\"ariaValue\\\">\\n        </div>\",\n            styles: [\"\\n        vg-mute {\\n            -webkit-touch-callout: none;\\n            -webkit-user-select: none;\\n            -khtml-user-select: none;\\n            -moz-user-select: none;\\n            -ms-user-select: none;\\n            user-select: none;\\n            display: flex;\\n            justify-content: center;\\n            height: 50px;\\n            width: 50px;\\n            cursor: pointer;\\n            color: white;\\n            line-height: 50px;\\n        }\\n\\n        vg-mute .icon {\\n            pointer-events: none;\\n        }\\n    \"]\n        }),\n        __metadata(\"design:paramtypes\", [core_1.ElementRef, vg_api_1.VgAPI])\n    ], VgMute);\n    return VgMute;\n}());\nexports.VgMute = VgMute;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmctbXV0ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jb250cm9scy92Zy1tdXRlL3ZnLW11dGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxzQ0FBaUg7QUFDakgscURBQW1EO0FBd0NuRDtJQVdJLGdCQUFZLEdBQWUsRUFBUyxHQUFVO1FBQVYsUUFBRyxHQUFILEdBQUcsQ0FBTztRQUo5QyxrQkFBYSxHQUFtQixFQUFFLENBQUM7UUFFbkMsY0FBUyxHQUFHLFNBQVMsQ0FBQztRQUdsQixJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxhQUFhLENBQUM7SUFDbEMsQ0FBQztJQUVELHlCQUFRLEdBQVI7UUFBQSxpQkFPQztRQU5HLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUU7WUFDeEIsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1NBQ3hCO2FBQ0k7WUFDRCxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxjQUFNLE9BQUEsS0FBSSxDQUFDLGFBQWEsRUFBRSxFQUFwQixDQUFvQixDQUFDLENBQUMsQ0FBQztTQUM1RjtJQUNMLENBQUM7SUFFRCw4QkFBYSxHQUFiO1FBQ0ksSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDaEQsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQztJQUM1QyxDQUFDO0lBR0Qsd0JBQU8sR0FBUDtRQUNJLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztJQUMzQixDQUFDO0lBR0QsMEJBQVMsR0FBVCxVQUFVLEtBQW9CO1FBQzFCLG9DQUFvQztRQUNwQyxJQUFJLEtBQUssQ0FBQyxPQUFPLEtBQUssRUFBRSxJQUFJLEtBQUssQ0FBQyxPQUFPLEtBQUssRUFBRSxFQUFFO1lBQzlDLEtBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUN2QixJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7U0FDMUI7SUFDTCxDQUFDO0lBRUQsZ0NBQWUsR0FBZjtRQUNJLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUU5QixJQUFJLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDZCxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUMsYUFBYSxLQUFLLENBQUMsRUFBRTtnQkFDdEQsSUFBSSxDQUFDLGFBQWEsR0FBRyxDQUFDLENBQUM7YUFDMUI7WUFFRCxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDO1NBQzNDO2FBQ0k7WUFDRCxJQUFJLENBQUMsYUFBYSxHQUFHLE1BQU0sQ0FBQztZQUM1QixJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7U0FDMUI7SUFDTCxDQUFDO0lBRUQsMEJBQVMsR0FBVDtRQUNJLElBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDcEQsSUFBSSxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDO1FBQzlDLE9BQU8sTUFBTSxDQUFDO0lBQ2xCLENBQUM7SUFFRCw0QkFBVyxHQUFYO1FBQ0ksSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxDQUFDLENBQUMsV0FBVyxFQUFFLEVBQWYsQ0FBZSxDQUFDLENBQUM7SUFDckQsQ0FBQztJQWxFUTtRQUFSLFlBQUssRUFBRTs7eUNBQWU7SUE2QnZCO1FBREMsbUJBQVksQ0FBQyxPQUFPLENBQUM7Ozs7eUNBR3JCO0lBR0Q7UUFEQyxtQkFBWSxDQUFDLFNBQVMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDOzt5Q0FDbkIsYUFBYTs7MkNBTTdCO0lBekNRLE1BQU07UUFwQ2xCLGdCQUFTLENBQUM7WUFDUCxRQUFRLEVBQUUsU0FBUztZQUNuQixhQUFhLEVBQUUsd0JBQWlCLENBQUMsSUFBSTtZQUNyQyxRQUFRLEVBQUUsaWZBVUM7WUFDWCxNQUFNLEVBQUUsQ0FBRSxpaUJBb0JULENBQUU7U0FDTixDQUFDO3lDQVltQixpQkFBVSxFQUFjLGNBQUs7T0FYckMsTUFBTSxDQW9FbEI7SUFBRCxhQUFDO0NBQUEsQUFwRUQsSUFvRUM7QUFwRVksd0JBQU0iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBFbGVtZW50UmVmLCBIb3N0TGlzdGVuZXIsIE9uSW5pdCwgVmlld0VuY2Fwc3VsYXRpb24sIE9uRGVzdHJveSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVmdBUEkgfSBmcm9tICcuLi8uLi9jb3JlL3NlcnZpY2VzL3ZnLWFwaSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcblxuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ3ZnLW11dGUnLFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gICAgdGVtcGxhdGU6IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImljb25cIlxuICAgICAgICAgICAgIFtjbGFzcy52Zy1pY29uLXZvbHVtZV91cF09XCJnZXRWb2x1bWUoKSA+PSAwLjc1XCJcbiAgICAgICAgICAgICBbY2xhc3MudmctaWNvbi12b2x1bWVfZG93bl09XCJnZXRWb2x1bWUoKSA+PSAwLjI1ICYmIGdldFZvbHVtZSgpIDwgMC43NVwiXG4gICAgICAgICAgICAgW2NsYXNzLnZnLWljb24tdm9sdW1lX211dGVdPVwiZ2V0Vm9sdW1lKCkgPiAwICYmIGdldFZvbHVtZSgpIDwgMC4yNVwiXG4gICAgICAgICAgICAgW2NsYXNzLnZnLWljb24tdm9sdW1lX29mZl09XCJnZXRWb2x1bWUoKSA9PT0gMFwiXG4gICAgICAgICAgICAgdGFiaW5kZXg9XCIwXCJcbiAgICAgICAgICAgICByb2xlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICBhcmlhLWxhYmVsPVwibXV0ZSBidXR0b25cIlxuICAgICAgICAgICAgIFthdHRyLmFyaWEtdmFsdWV0ZXh0XT1cImFyaWFWYWx1ZVwiPlxuICAgICAgICA8L2Rpdj5gLFxuICAgIHN0eWxlczogWyBgXG4gICAgICAgIHZnLW11dGUge1xuICAgICAgICAgICAgLXdlYmtpdC10b3VjaC1jYWxsb3V0OiBub25lO1xuICAgICAgICAgICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgICAgIC1raHRtbC11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgICAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgICAgIGhlaWdodDogNTBweDtcbiAgICAgICAgICAgIHdpZHRoOiA1MHB4O1xuICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDUwcHg7XG4gICAgICAgIH1cblxuICAgICAgICB2Zy1tdXRlIC5pY29uIHtcbiAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgICB9XG4gICAgYCBdXG59KVxuZXhwb3J0IGNsYXNzIFZnTXV0ZSBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95IHtcbiAgICBASW5wdXQoKSB2Z0Zvcjogc3RyaW5nO1xuICAgIGVsZW06IEhUTUxFbGVtZW50O1xuICAgIHRhcmdldDogYW55O1xuXG4gICAgY3VycmVudFZvbHVtZTogbnVtYmVyO1xuXG4gICAgc3Vic2NyaXB0aW9uczogU3Vic2NyaXB0aW9uW10gPSBbXTtcblxuICAgIGFyaWFWYWx1ZSA9ICd1bm11dGVkJztcblxuICAgIGNvbnN0cnVjdG9yKHJlZjogRWxlbWVudFJlZiwgcHVibGljIEFQSTogVmdBUEkpIHtcbiAgICAgICAgdGhpcy5lbGVtID0gcmVmLm5hdGl2ZUVsZW1lbnQ7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIGlmICh0aGlzLkFQSS5pc1BsYXllclJlYWR5KSB7XG4gICAgICAgICAgICB0aGlzLm9uUGxheWVyUmVhZHkoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKHRoaXMuQVBJLnBsYXllclJlYWR5RXZlbnQuc3Vic2NyaWJlKCgpID0+IHRoaXMub25QbGF5ZXJSZWFkeSgpKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblBsYXllclJlYWR5KCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRoaXMuQVBJLmdldE1lZGlhQnlJZCh0aGlzLnZnRm9yKTtcbiAgICAgICAgdGhpcy5jdXJyZW50Vm9sdW1lID0gdGhpcy50YXJnZXQudm9sdW1lO1xuICAgIH1cblxuICAgIEBIb3N0TGlzdGVuZXIoJ2NsaWNrJylcbiAgICBvbkNsaWNrKCkge1xuICAgICAgICB0aGlzLmNoYW5nZU11dGVTdGF0ZSgpO1xuICAgIH1cblxuICAgIEBIb3N0TGlzdGVuZXIoJ2tleWRvd24nLCBbJyRldmVudCddKVxuICAgIG9uS2V5RG93bihldmVudDogS2V5Ym9hcmRFdmVudCkge1xuICAgICAgICAvLyBPbiBwcmVzcyBFbnRlciAoMTMpIG9yIFNwYWNlICgzMilcbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDEzIHx8IGV2ZW50LmtleUNvZGUgPT09IDMyKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VNdXRlU3RhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNoYW5nZU11dGVTdGF0ZSgpIHtcbiAgICAgICAgbGV0IHZvbHVtZSA9IHRoaXMuZ2V0Vm9sdW1lKCk7XG5cbiAgICAgICAgaWYgKHZvbHVtZSA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudGFyZ2V0LnZvbHVtZSA9PT0gMCAmJiB0aGlzLmN1cnJlbnRWb2x1bWUgPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRWb2x1bWUgPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnRhcmdldC52b2x1bWUgPSB0aGlzLmN1cnJlbnRWb2x1bWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRWb2x1bWUgPSB2b2x1bWU7XG4gICAgICAgICAgICB0aGlzLnRhcmdldC52b2x1bWUgPSAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0Vm9sdW1lKCkge1xuICAgICAgICBjb25zdCB2b2x1bWUgPSB0aGlzLnRhcmdldCA/IHRoaXMudGFyZ2V0LnZvbHVtZSA6IDA7XG4gICAgICAgIHRoaXMuYXJpYVZhbHVlID0gdm9sdW1lID8gJ3VubXV0ZWQnIDogJ211dGVkJztcbiAgICAgICAgcmV0dXJuIHZvbHVtZTtcbiAgICB9XG5cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLmZvckVhY2gocyA9PiBzLnVuc3Vic2NyaWJlKCkpO1xuICAgIH1cbn1cbiJdfQ==","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar VgUtils = /** @class */ (function () {\n    function VgUtils() {\n    }\n    /**\n     * Inspired by Paul Irish\n     * https://gist.github.com/paulirish/211209\n     * @returns {number}\n     */\n    VgUtils.getZIndex = function () {\n        var zIndex = 1;\n        var elementZIndex;\n        var tags = document.getElementsByTagName('*');\n        for (var i = 0, l = tags.length; i < l; i++) {\n            elementZIndex = parseInt(window.getComputedStyle(tags[i])[\"z-index\"], 10);\n            if (elementZIndex > zIndex) {\n                zIndex = elementZIndex + 1;\n            }\n        }\n        return zIndex;\n    };\n    // Very simple mobile detection, not 100% reliable\n    VgUtils.isMobileDevice = function () {\n        return (typeof window.orientation !== \"undefined\") || (navigator.userAgent.indexOf(\"IEMobile\") !== -1);\n    };\n    VgUtils.isiOSDevice = function () {\n        return (navigator.userAgent.match(/ip(hone|ad|od)/i) && !navigator.userAgent.match(/(iemobile)[\\/\\s]?([\\w\\.]*)/i));\n    };\n    VgUtils.isCordova = function () {\n        return document.URL.indexOf('http://') === -1 && document.URL.indexOf('https://') === -1;\n    };\n    VgUtils = __decorate([\n        core_1.Injectable()\n    ], VgUtils);\n    return VgUtils;\n}());\nexports.VgUtils = VgUtils;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmctdXRpbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY29yZS9zZXJ2aWNlcy92Zy11dGlscy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLHNDQUF5QztBQUd6QztJQUFBO0lBbUNBLENBQUM7SUFsQ0c7Ozs7T0FJRztJQUNJLGlCQUFTLEdBQWhCO1FBQ0ksSUFBSSxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQ2YsSUFBSSxhQUFvQixDQUFDO1FBRXpCLElBQUksSUFBSSxHQUFHLFFBQVEsQ0FBQyxvQkFBb0IsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUU5QyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ3pDLGFBQWEsR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBRTFFLElBQUksYUFBYSxHQUFHLE1BQU0sRUFBRTtnQkFDeEIsTUFBTSxHQUFHLGFBQWEsR0FBRyxDQUFDLENBQUM7YUFDOUI7U0FDSjtRQUVELE9BQU8sTUFBTSxDQUFDO0lBQ2xCLENBQUM7SUFFRCxrREFBa0Q7SUFDM0Msc0JBQWMsR0FBckI7UUFDSSxPQUFPLENBQUMsT0FBTyxNQUFNLENBQUMsV0FBVyxLQUFLLFdBQVcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMzRyxDQUFDO0lBRU0sbUJBQVcsR0FBbEI7UUFDSSxPQUFPLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLDZCQUE2QixDQUFDLENBQUMsQ0FBQztJQUN2SCxDQUFDO0lBRU0saUJBQVMsR0FBaEI7UUFDSSxPQUFPLFFBQVEsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQzdGLENBQUM7SUFsQ1EsT0FBTztRQURuQixpQkFBVSxFQUFFO09BQ0EsT0FBTyxDQW1DbkI7SUFBRCxjQUFDO0NBQUEsQUFuQ0QsSUFtQ0M7QUFuQ1ksMEJBQU8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0luamVjdGFibGV9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgVmdVdGlscyB7XG4gICAgLyoqXG4gICAgICogSW5zcGlyZWQgYnkgUGF1bCBJcmlzaFxuICAgICAqIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3BhdWxpcmlzaC8yMTEyMDlcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRaSW5kZXgoKTpudW1iZXIge1xuICAgICAgICBsZXQgekluZGV4ID0gMTtcbiAgICAgICAgbGV0IGVsZW1lbnRaSW5kZXg6bnVtYmVyO1xuXG4gICAgICAgIGxldCB0YWdzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJyonKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHRhZ3MubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBlbGVtZW50WkluZGV4ID0gcGFyc2VJbnQod2luZG93LmdldENvbXB1dGVkU3R5bGUodGFnc1tpXSlbXCJ6LWluZGV4XCJdLCAxMCk7XG5cbiAgICAgICAgICAgIGlmIChlbGVtZW50WkluZGV4ID4gekluZGV4KSB7XG4gICAgICAgICAgICAgICAgekluZGV4ID0gZWxlbWVudFpJbmRleCArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gekluZGV4O1xuICAgIH1cblxuICAgIC8vIFZlcnkgc2ltcGxlIG1vYmlsZSBkZXRlY3Rpb24sIG5vdCAxMDAlIHJlbGlhYmxlXG4gICAgc3RhdGljIGlzTW9iaWxlRGV2aWNlKCkge1xuICAgICAgICByZXR1cm4gKHR5cGVvZiB3aW5kb3cub3JpZW50YXRpb24gIT09IFwidW5kZWZpbmVkXCIpIHx8IChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJJRU1vYmlsZVwiKSAhPT0gLTEpO1xuICAgIH1cblxuICAgIHN0YXRpYyBpc2lPU0RldmljZSgpIHtcbiAgICAgICAgcmV0dXJuIChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9pcChob25lfGFkfG9kKS9pKSAmJiAhbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvKGllbW9iaWxlKVtcXC9cXHNdPyhbXFx3XFwuXSopL2kpKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaXNDb3Jkb3ZhKCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuVVJMLmluZGV4T2YoJ2h0dHA6Ly8nKSA9PT0gLTEgJiYgZG9jdW1lbnQuVVJMLmluZGV4T2YoJ2h0dHBzOi8vJykgPT09IC0xO1xuICAgIH1cbn1cbiJdfQ==","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar vg_api_1 = require(\"../../core/services/vg-api\");\nvar vg_controls_hidden_1 = require(\"./../../core/services/vg-controls-hidden\");\nvar vg_states_1 = require(\"../../core/states/vg-states\");\nvar VgScrubBar = /** @class */ (function () {\n    function VgScrubBar(ref, API, vgControlsHiddenState) {\n        var _this = this;\n        this.API = API;\n        this.hideScrubBar = false;\n        this.vgSlider = true;\n        this.isSeeking = false;\n        this.wasPlaying = false;\n        this.subscriptions = [];\n        this.elem = ref.nativeElement;\n        this.subscriptions.push(vgControlsHiddenState.isHidden.subscribe(function (hide) { return _this.onHideScrubBar(hide); }));\n    }\n    VgScrubBar.prototype.ngOnInit = function () {\n        var _this = this;\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(function () { return _this.onPlayerReady(); }));\n        }\n    };\n    VgScrubBar.prototype.onPlayerReady = function () {\n        this.target = this.API.getMediaById(this.vgFor);\n    };\n    VgScrubBar.prototype.seekStart = function () {\n        if (this.target.canPlay) {\n            this.isSeeking = true;\n            if (this.target.state === vg_states_1.VgStates.VG_PLAYING) {\n                this.wasPlaying = true;\n            }\n            this.target.pause();\n        }\n    };\n    VgScrubBar.prototype.seekMove = function (offset) {\n        if (this.isSeeking) {\n            var percentage = Math.max(Math.min(offset * 100 / this.elem.scrollWidth, 99.9), 0);\n            this.target.time.current = percentage * this.target.time.total / 100;\n            this.target.seekTime(percentage, true);\n        }\n    };\n    VgScrubBar.prototype.seekEnd = function (offset) {\n        this.isSeeking = false;\n        if (this.target.canPlay) {\n            var percentage = Math.max(Math.min(offset * 100 / this.elem.scrollWidth, 99.9), 0);\n            this.target.seekTime(percentage, true);\n            if (this.wasPlaying) {\n                this.wasPlaying = false;\n                this.target.play();\n            }\n        }\n    };\n    VgScrubBar.prototype.touchEnd = function () {\n        this.isSeeking = false;\n        if (this.wasPlaying) {\n            this.wasPlaying = false;\n            this.target.play();\n        }\n    };\n    VgScrubBar.prototype.getTouchOffset = function (event) {\n        var offsetLeft = 0;\n        var element = event.target;\n        while (element) {\n            offsetLeft += element.offsetLeft;\n            element = element.offsetParent;\n        }\n        return event.touches[0].pageX - offsetLeft;\n    };\n    VgScrubBar.prototype.onMouseDownScrubBar = function ($event) {\n        if (this.target) {\n            if (!this.target.isLive) {\n                if (!this.vgSlider) {\n                    this.seekEnd($event.offsetX);\n                }\n                else {\n                    this.seekStart();\n                }\n            }\n        }\n    };\n    VgScrubBar.prototype.onMouseMoveScrubBar = function ($event) {\n        if (this.target) {\n            if (!this.target.isLive && this.vgSlider && this.isSeeking) {\n                this.seekMove($event.offsetX);\n            }\n        }\n    };\n    VgScrubBar.prototype.onMouseUpScrubBar = function ($event) {\n        if (this.target) {\n            if (!this.target.isLive && this.vgSlider && this.isSeeking) {\n                this.seekEnd($event.offsetX);\n            }\n        }\n    };\n    VgScrubBar.prototype.onTouchStartScrubBar = function ($event) {\n        if (this.target) {\n            if (!this.target.isLive) {\n                if (!this.vgSlider) {\n                    this.seekEnd(this.getTouchOffset($event));\n                }\n                else {\n                    this.seekStart();\n                }\n            }\n        }\n    };\n    VgScrubBar.prototype.onTouchMoveScrubBar = function ($event) {\n        if (this.target) {\n            if (!this.target.isLive && this.vgSlider && this.isSeeking) {\n                this.seekMove(this.getTouchOffset($event));\n            }\n        }\n    };\n    // @ts-ignore\n    VgScrubBar.prototype.onTouchCancelScrubBar = function ($event) {\n        if (this.target) {\n            if (!this.target.isLive && this.vgSlider && this.isSeeking) {\n                this.touchEnd();\n            }\n        }\n    };\n    // @ts-ignore\n    VgScrubBar.prototype.onTouchEndScrubBar = function ($event) {\n        if (this.target) {\n            if (!this.target.isLive && this.vgSlider && this.isSeeking) {\n                this.touchEnd();\n            }\n        }\n    };\n    VgScrubBar.prototype.arrowAdjustVolume = function (event) {\n        if (this.target) {\n            if (event.keyCode === 38 || event.keyCode === 39) {\n                event.preventDefault();\n                this.target.seekTime((this.target.time.current + 5000) / 1000, false);\n            }\n            else if (event.keyCode === 37 || event.keyCode === 40) {\n                event.preventDefault();\n                this.target.seekTime((this.target.time.current - 5000) / 1000, false);\n            }\n        }\n    };\n    VgScrubBar.prototype.getPercentage = function () {\n        return this.target ? ((this.target.time.current * 100) / this.target.time.total) + '%' : '0%';\n    };\n    VgScrubBar.prototype.onHideScrubBar = function (hide) {\n        this.hideScrubBar = hide;\n    };\n    VgScrubBar.prototype.ngOnDestroy = function () {\n        this.subscriptions.forEach(function (s) { return s.unsubscribe(); });\n    };\n    __decorate([\n        core_1.HostBinding('class.hide'),\n        __metadata(\"design:type\", Object)\n    ], VgScrubBar.prototype, \"hideScrubBar\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", String)\n    ], VgScrubBar.prototype, \"vgFor\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Object)\n    ], VgScrubBar.prototype, \"vgSlider\", void 0);\n    __decorate([\n        core_1.HostListener('mousedown', ['$event']),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", [Object]),\n        __metadata(\"design:returntype\", void 0)\n    ], VgScrubBar.prototype, \"onMouseDownScrubBar\", null);\n    __decorate([\n        core_1.HostListener('document:mousemove', ['$event']),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", [Object]),\n        __metadata(\"design:returntype\", void 0)\n    ], VgScrubBar.prototype, \"onMouseMoveScrubBar\", null);\n    __decorate([\n        core_1.HostListener('document:mouseup', ['$event']),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", [Object]),\n        __metadata(\"design:returntype\", void 0)\n    ], VgScrubBar.prototype, \"onMouseUpScrubBar\", null);\n    __decorate([\n        core_1.HostListener('touchstart', ['$event']),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", [Object]),\n        __metadata(\"design:returntype\", void 0)\n    ], VgScrubBar.prototype, \"onTouchStartScrubBar\", null);\n    __decorate([\n        core_1.HostListener('document:touchmove', ['$event']),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", [Object]),\n        __metadata(\"design:returntype\", void 0)\n    ], VgScrubBar.prototype, \"onTouchMoveScrubBar\", null);\n    __decorate([\n        core_1.HostListener('document:touchcancel', ['$event']),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", [Object]),\n        __metadata(\"design:returntype\", void 0)\n    ], VgScrubBar.prototype, \"onTouchCancelScrubBar\", null);\n    __decorate([\n        core_1.HostListener('document:touchend', ['$event']),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", [Object]),\n        __metadata(\"design:returntype\", void 0)\n    ], VgScrubBar.prototype, \"onTouchEndScrubBar\", null);\n    __decorate([\n        core_1.HostListener('keydown', ['$event']),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", [KeyboardEvent]),\n        __metadata(\"design:returntype\", void 0)\n    ], VgScrubBar.prototype, \"arrowAdjustVolume\", null);\n    VgScrubBar = __decorate([\n        core_1.Component({\n            selector: 'vg-scrub-bar',\n            encapsulation: core_1.ViewEncapsulation.None,\n            template: \"\\n        <div class=\\\"scrubBar\\\"\\n             tabindex=\\\"0\\\"\\n             role=\\\"slider\\\"\\n             aria-label=\\\"scrub bar\\\"\\n             aria-level=\\\"polite\\\"\\n             [attr.aria-valuenow]=\\\"getPercentage()\\\"\\n             aria-valuemin=\\\"0\\\"\\n             aria-valuemax=\\\"100\\\"\\n             [attr.aria-valuetext]=\\\"getPercentage() + '%'\\\">\\n            <ng-content></ng-content>\\n        </div>\\n\\n    \",\n            styles: [\"\\n        vg-scrub-bar {\\n            -webkit-touch-callout: none;\\n            -webkit-user-select: none;\\n            -moz-user-select: none;\\n            -ms-user-select: none;\\n            user-select: none;\\n            position: absolute;\\n            width: 100%;\\n            height: 5px;\\n            bottom: 50px;\\n            margin: 0;\\n            cursor: pointer;\\n            align-items: center;\\n            background: rgba(0, 0, 0, 0.75);\\n            z-index: 250;\\n            -webkit-transition: bottom 1s, opacity 0.5s;\\n            -khtml-transition: bottom 1s, opacity 0.5s;\\n            -moz-transition: bottom 1s, opacity 0.5s;\\n            -ms-transition: bottom 1s, opacity 0.5s;\\n            transition: bottom 1s, opacity 0.5s;\\n        }\\n\\n        vg-scrub-bar .scrubBar {\\n            position: relative;\\n            display: flex;\\n            flex-grow: 1;\\n            align-items: center;\\n            height: 100%;\\n        }\\n\\n        vg-controls vg-scrub-bar {\\n            position: relative;\\n            bottom: 0;\\n            background: transparent;\\n            height: 50px;\\n            flex-grow: 1;\\n            flex-basis: 0;\\n            margin: 0 10px;\\n            -webkit-transition: initial;\\n            -khtml-transition: initial;\\n            -moz-transition: initial;\\n            -ms-transition: initial;\\n            transition: initial;\\n        }\\n\\n        vg-scrub-bar.hide {\\n            bottom: 0;\\n            opacity: 0;\\n        }\\n\\n        vg-controls vg-scrub-bar.hide {\\n            bottom: initial;\\n            opacity: initial;\\n        }\\n    \"]\n        }),\n        __metadata(\"design:paramtypes\", [core_1.ElementRef, vg_api_1.VgAPI, vg_controls_hidden_1.VgControlsHidden])\n    ], VgScrubBar);\n    return VgScrubBar;\n}());\nexports.VgScrubBar = VgScrubBar;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmctc2NydWItYmFyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2NvbnRyb2xzL3ZnLXNjcnViLWJhci92Zy1zY3J1Yi1iYXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxzQ0FHdUI7QUFDdkIscURBQW1EO0FBQ25ELCtFQUE0RTtBQUM1RSx5REFBdUQ7QUE2RXZEO0lBYUksb0JBQVksR0FBZSxFQUFTLEdBQVUsRUFBRSxxQkFBdUM7UUFBdkYsaUJBR0M7UUFIbUMsUUFBRyxHQUFILEdBQUcsQ0FBTztRQVpuQixpQkFBWSxHQUFHLEtBQUssQ0FBQztRQUd2QyxhQUFRLEdBQUcsSUFBSSxDQUFDO1FBSXpCLGNBQVMsR0FBRyxLQUFLLENBQUM7UUFDbEIsZUFBVSxHQUFHLEtBQUssQ0FBQztRQUVuQixrQkFBYSxHQUFtQixFQUFFLENBQUM7UUFHL0IsSUFBSSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsYUFBYSxDQUFDO1FBQzlCLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsVUFBQSxJQUFJLElBQUksT0FBQSxLQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxFQUF6QixDQUF5QixDQUFDLENBQUMsQ0FBQztJQUN6RyxDQUFDO0lBRUQsNkJBQVEsR0FBUjtRQUFBLGlCQU9DO1FBTkcsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBRTtZQUN4QixJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7U0FDeEI7YUFDSTtZQUNELElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLGNBQU0sT0FBQSxLQUFJLENBQUMsYUFBYSxFQUFFLEVBQXBCLENBQW9CLENBQUMsQ0FBQyxDQUFDO1NBQzVGO0lBQ0wsQ0FBQztJQUVELGtDQUFhLEdBQWI7UUFDSSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNwRCxDQUFDO0lBRVMsOEJBQVMsR0FBbkI7UUFDSSxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFO1lBQ3JCLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1lBQ3RCLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEtBQUssb0JBQVEsQ0FBQyxVQUFVLEVBQUU7Z0JBQzNDLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO2FBQzFCO1lBQ0QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQztTQUN2QjtJQUNMLENBQUM7SUFFUyw2QkFBUSxHQUFsQixVQUFtQixNQUFjO1FBQzdCLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNoQixJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNuRixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLEdBQUcsVUFBVSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUM7WUFDckUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDO1NBQzFDO0lBQ0wsQ0FBQztJQUVTLDRCQUFPLEdBQWpCLFVBQWtCLE1BQWM7UUFDNUIsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7UUFDdkIsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRTtZQUNyQixJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNuRixJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDdkMsSUFBSSxJQUFJLENBQUMsVUFBVSxFQUFFO2dCQUNqQixJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztnQkFDeEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQzthQUN0QjtTQUNKO0lBQ0wsQ0FBQztJQUVTLDZCQUFRLEdBQWxCO1FBQ0ksSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7UUFDdkIsSUFBSSxJQUFJLENBQUMsVUFBVSxFQUFFO1lBQ2pCLElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDO1lBQ3hCLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUM7U0FDdEI7SUFDTCxDQUFDO0lBRVMsbUNBQWMsR0FBeEIsVUFBeUIsS0FBVTtRQUMvQixJQUFJLFVBQVUsR0FBRyxDQUFDLENBQUM7UUFDbkIsSUFBSSxPQUFPLEdBQVEsS0FBSyxDQUFDLE1BQU0sQ0FBQztRQUNoQyxPQUFPLE9BQU8sRUFBRTtZQUNaLFVBQVUsSUFBSSxPQUFPLENBQUMsVUFBVSxDQUFDO1lBQ2pDLE9BQU8sR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDO1NBQ2xDO1FBQ0QsT0FBTyxLQUFLLENBQUMsT0FBTyxDQUFFLENBQUMsQ0FBRSxDQUFDLEtBQUssR0FBRyxVQUFVLENBQUM7SUFDakQsQ0FBQztJQUdELHdDQUFtQixHQUFuQixVQUFvQixNQUFXO1FBQzNCLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNiLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRTtnQkFDckIsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUU7b0JBQ2hCLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2lCQUNoQztxQkFDSTtvQkFDRCxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7aUJBQ3BCO2FBQ0o7U0FDSjtJQUNMLENBQUM7SUFHRCx3Q0FBbUIsR0FBbkIsVUFBb0IsTUFBVztRQUMzQixJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDYixJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO2dCQUN4RCxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQzthQUNqQztTQUNKO0lBQ0wsQ0FBQztJQUdELHNDQUFpQixHQUFqQixVQUFrQixNQUFXO1FBQ3pCLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNiLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUU7Z0JBQ3hELElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2FBQ2hDO1NBQ0o7SUFDTCxDQUFDO0lBR0QseUNBQW9CLEdBQXBCLFVBQXFCLE1BQVc7UUFDNUIsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ2IsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFO2dCQUNyQixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRTtvQkFDaEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7aUJBQzdDO3FCQUNJO29CQUNELElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztpQkFDcEI7YUFDSjtTQUNKO0lBQ0wsQ0FBQztJQUdELHdDQUFtQixHQUFuQixVQUFvQixNQUFXO1FBQzNCLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNiLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUU7Z0JBQ3hELElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO2FBQzlDO1NBQ0o7SUFDTCxDQUFDO0lBQ0QsYUFBYTtJQUN1QywwQ0FBcUIsR0FBckIsVUFBc0IsTUFBVztRQUNqRixJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDYixJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO2dCQUN4RCxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7YUFDbkI7U0FDSjtJQUNMLENBQUM7SUFDRCxhQUFhO0lBQ29DLHVDQUFrQixHQUFsQixVQUFtQixNQUFXO1FBQzNFLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNiLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUU7Z0JBQ3hELElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQzthQUNuQjtTQUNKO0lBQ0wsQ0FBQztJQUdELHNDQUFpQixHQUFqQixVQUFrQixLQUFvQjtRQUNsQyxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDYixJQUFJLEtBQUssQ0FBQyxPQUFPLEtBQUssRUFBRSxJQUFJLEtBQUssQ0FBQyxPQUFPLEtBQUssRUFBRSxFQUFFO2dCQUM5QyxLQUFLLENBQUMsY0FBYyxFQUFFLENBQUM7Z0JBQ3ZCLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxHQUFHLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQzthQUN6RTtpQkFDSSxJQUFJLEtBQUssQ0FBQyxPQUFPLEtBQUssRUFBRSxJQUFJLEtBQUssQ0FBQyxPQUFPLEtBQUssRUFBRSxFQUFFO2dCQUNuRCxLQUFLLENBQUMsY0FBYyxFQUFFLENBQUM7Z0JBQ3ZCLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxHQUFHLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQzthQUN6RTtTQUNKO0lBQ0wsQ0FBQztJQUVELGtDQUFhLEdBQWI7UUFDSSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLEdBQUcsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7SUFDbEcsQ0FBQztJQUVELG1DQUFjLEdBQWQsVUFBZSxJQUFhO1FBQ3hCLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDO0lBQzdCLENBQUM7SUFFRCxnQ0FBVyxHQUFYO1FBQ0ksSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxDQUFDLENBQUMsV0FBVyxFQUFFLEVBQWYsQ0FBZSxDQUFDLENBQUM7SUFDckQsQ0FBQztJQTdLMEI7UUFBMUIsa0JBQVcsQ0FBQyxZQUFZLENBQUM7O29EQUFzQjtJQUV2QztRQUFSLFlBQUssRUFBRTs7NkNBQWU7SUFDZDtRQUFSLFlBQUssRUFBRTs7Z0RBQWlCO0lBNEV6QjtRQURDLG1CQUFZLENBQUMsV0FBVyxFQUFFLENBQUUsUUFBUSxDQUFFLENBQUM7Ozs7eURBWXZDO0lBR0Q7UUFEQyxtQkFBWSxDQUFDLG9CQUFvQixFQUFFLENBQUUsUUFBUSxDQUFFLENBQUM7Ozs7eURBT2hEO0lBR0Q7UUFEQyxtQkFBWSxDQUFDLGtCQUFrQixFQUFFLENBQUUsUUFBUSxDQUFFLENBQUM7Ozs7dURBTzlDO0lBR0Q7UUFEQyxtQkFBWSxDQUFDLFlBQVksRUFBRSxDQUFFLFFBQVEsQ0FBRSxDQUFDOzs7OzBEQVl4QztJQUdEO1FBREMsbUJBQVksQ0FBQyxvQkFBb0IsRUFBRSxDQUFFLFFBQVEsQ0FBRSxDQUFDOzs7O3lEQU9oRDtJQUVtRDtRQUFuRCxtQkFBWSxDQUFDLHNCQUFzQixFQUFFLENBQUUsUUFBUSxDQUFFLENBQUM7Ozs7MkRBTWxEO0lBRWdEO1FBQWhELG1CQUFZLENBQUMsbUJBQW1CLEVBQUUsQ0FBRSxRQUFRLENBQUUsQ0FBQzs7Ozt3REFNL0M7SUFHRDtRQURDLG1CQUFZLENBQUMsU0FBUyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUM7O3lDQUNYLGFBQWE7O3VEQVdyQztJQWxLUSxVQUFVO1FBMUV0QixnQkFBUyxDQUFDO1lBQ1AsUUFBUSxFQUFFLGNBQWM7WUFDeEIsYUFBYSxFQUFFLHdCQUFpQixDQUFDLElBQUk7WUFDckMsUUFBUSxFQUFFLG9hQWFUO1lBQ0QsTUFBTSxFQUFFLENBQUUsNGxEQXVEVCxDQUFFO1NBQ04sQ0FBQzt5Q0FjbUIsaUJBQVUsRUFBYyxjQUFLLEVBQXlCLHFDQUFnQjtPQWI5RSxVQUFVLENBK0t0QjtJQUFELGlCQUFDO0NBQUEsQUEvS0QsSUErS0M7QUEvS1ksZ0NBQVUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICAgIENvbXBvbmVudCwgRWxlbWVudFJlZiwgSW5wdXQsIEhvc3RMaXN0ZW5lciwgT25Jbml0LCBWaWV3RW5jYXBzdWxhdGlvbiwgSG9zdEJpbmRpbmcsXG4gICAgT25EZXN0cm95XG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVmdBUEkgfSBmcm9tICcuLi8uLi9jb3JlL3NlcnZpY2VzL3ZnLWFwaSc7XG5pbXBvcnQgeyBWZ0NvbnRyb2xzSGlkZGVuIH0gZnJvbSAnLi8uLi8uLi9jb3JlL3NlcnZpY2VzL3ZnLWNvbnRyb2xzLWhpZGRlbic7XG5pbXBvcnQgeyBWZ1N0YXRlcyB9IGZyb20gJy4uLy4uL2NvcmUvc3RhdGVzL3ZnLXN0YXRlcyc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICd2Zy1zY3J1Yi1iYXInLFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gICAgdGVtcGxhdGU6IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cInNjcnViQmFyXCJcbiAgICAgICAgICAgICB0YWJpbmRleD1cIjBcIlxuICAgICAgICAgICAgIHJvbGU9XCJzbGlkZXJcIlxuICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJzY3J1YiBiYXJcIlxuICAgICAgICAgICAgIGFyaWEtbGV2ZWw9XCJwb2xpdGVcIlxuICAgICAgICAgICAgIFthdHRyLmFyaWEtdmFsdWVub3ddPVwiZ2V0UGVyY2VudGFnZSgpXCJcbiAgICAgICAgICAgICBhcmlhLXZhbHVlbWluPVwiMFwiXG4gICAgICAgICAgICAgYXJpYS12YWx1ZW1heD1cIjEwMFwiXG4gICAgICAgICAgICAgW2F0dHIuYXJpYS12YWx1ZXRleHRdPVwiZ2V0UGVyY2VudGFnZSgpICsgJyUnXCI+XG4gICAgICAgICAgICA8bmctY29udGVudD48L25nLWNvbnRlbnQ+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgYCxcbiAgICBzdHlsZXM6IFsgYFxuICAgICAgICB2Zy1zY3J1Yi1iYXIge1xuICAgICAgICAgICAgLXdlYmtpdC10b3VjaC1jYWxsb3V0OiBub25lO1xuICAgICAgICAgICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgICAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgaGVpZ2h0OiA1cHg7XG4gICAgICAgICAgICBib3R0b206IDUwcHg7XG4gICAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjc1KTtcbiAgICAgICAgICAgIHotaW5kZXg6IDI1MDtcbiAgICAgICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjogYm90dG9tIDFzLCBvcGFjaXR5IDAuNXM7XG4gICAgICAgICAgICAta2h0bWwtdHJhbnNpdGlvbjogYm90dG9tIDFzLCBvcGFjaXR5IDAuNXM7XG4gICAgICAgICAgICAtbW96LXRyYW5zaXRpb246IGJvdHRvbSAxcywgb3BhY2l0eSAwLjVzO1xuICAgICAgICAgICAgLW1zLXRyYW5zaXRpb246IGJvdHRvbSAxcywgb3BhY2l0eSAwLjVzO1xuICAgICAgICAgICAgdHJhbnNpdGlvbjogYm90dG9tIDFzLCBvcGFjaXR5IDAuNXM7XG4gICAgICAgIH1cblxuICAgICAgICB2Zy1zY3J1Yi1iYXIgLnNjcnViQmFyIHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBmbGV4LWdyb3c6IDE7XG4gICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmctY29udHJvbHMgdmctc2NydWItYmFyIHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgICAgIGJvdHRvbTogMDtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgICAgICAgICAgaGVpZ2h0OiA1MHB4O1xuICAgICAgICAgICAgZmxleC1ncm93OiAxO1xuICAgICAgICAgICAgZmxleC1iYXNpczogMDtcbiAgICAgICAgICAgIG1hcmdpbjogMCAxMHB4O1xuICAgICAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOiBpbml0aWFsO1xuICAgICAgICAgICAgLWtodG1sLXRyYW5zaXRpb246IGluaXRpYWw7XG4gICAgICAgICAgICAtbW96LXRyYW5zaXRpb246IGluaXRpYWw7XG4gICAgICAgICAgICAtbXMtdHJhbnNpdGlvbjogaW5pdGlhbDtcbiAgICAgICAgICAgIHRyYW5zaXRpb246IGluaXRpYWw7XG4gICAgICAgIH1cblxuICAgICAgICB2Zy1zY3J1Yi1iYXIuaGlkZSB7XG4gICAgICAgICAgICBib3R0b206IDA7XG4gICAgICAgICAgICBvcGFjaXR5OiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdmctY29udHJvbHMgdmctc2NydWItYmFyLmhpZGUge1xuICAgICAgICAgICAgYm90dG9tOiBpbml0aWFsO1xuICAgICAgICAgICAgb3BhY2l0eTogaW5pdGlhbDtcbiAgICAgICAgfVxuICAgIGAgXVxufSlcbmV4cG9ydCBjbGFzcyBWZ1NjcnViQmFyIGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3kge1xuICAgIEBIb3N0QmluZGluZygnY2xhc3MuaGlkZScpIGhpZGVTY3J1YkJhciA9IGZhbHNlO1xuXG4gICAgQElucHV0KCkgdmdGb3I6IHN0cmluZztcbiAgICBASW5wdXQoKSB2Z1NsaWRlciA9IHRydWU7XG5cbiAgICBlbGVtOiBIVE1MRWxlbWVudDtcbiAgICB0YXJnZXQ6IGFueTtcbiAgICBpc1NlZWtpbmcgPSBmYWxzZTtcbiAgICB3YXNQbGF5aW5nID0gZmFsc2U7XG5cbiAgICBzdWJzY3JpcHRpb25zOiBTdWJzY3JpcHRpb25bXSA9IFtdO1xuXG4gICAgY29uc3RydWN0b3IocmVmOiBFbGVtZW50UmVmLCBwdWJsaWMgQVBJOiBWZ0FQSSwgdmdDb250cm9sc0hpZGRlblN0YXRlOiBWZ0NvbnRyb2xzSGlkZGVuKSB7XG4gICAgICAgIHRoaXMuZWxlbSA9IHJlZi5uYXRpdmVFbGVtZW50O1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaCh2Z0NvbnRyb2xzSGlkZGVuU3RhdGUuaXNIaWRkZW4uc3Vic2NyaWJlKGhpZGUgPT4gdGhpcy5vbkhpZGVTY3J1YkJhcihoaWRlKSkpO1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICBpZiAodGhpcy5BUEkuaXNQbGF5ZXJSZWFkeSkge1xuICAgICAgICAgICAgdGhpcy5vblBsYXllclJlYWR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaCh0aGlzLkFQSS5wbGF5ZXJSZWFkeUV2ZW50LnN1YnNjcmliZSgoKSA9PiB0aGlzLm9uUGxheWVyUmVhZHkoKSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25QbGF5ZXJSZWFkeSgpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLkFQSS5nZXRNZWRpYUJ5SWQodGhpcy52Z0Zvcik7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNlZWtTdGFydCgpIHtcbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0LmNhblBsYXkpIHtcbiAgICAgICAgICAgIHRoaXMuaXNTZWVraW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldC5zdGF0ZSA9PT0gVmdTdGF0ZXMuVkdfUExBWUlORykge1xuICAgICAgICAgICAgICAgIHRoaXMud2FzUGxheWluZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnRhcmdldC5wYXVzZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNlZWtNb3ZlKG9mZnNldDogbnVtYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmlzU2Vla2luZykge1xuICAgICAgICAgICAgbGV0IHBlcmNlbnRhZ2UgPSBNYXRoLm1heChNYXRoLm1pbihvZmZzZXQgKiAxMDAgLyB0aGlzLmVsZW0uc2Nyb2xsV2lkdGgsIDk5LjkpLCAwKTtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0LnRpbWUuY3VycmVudCA9IHBlcmNlbnRhZ2UgKiB0aGlzLnRhcmdldC50aW1lLnRvdGFsIC8gMTAwO1xuICAgICAgICAgICAgdGhpcy50YXJnZXQuc2Vla1RpbWUocGVyY2VudGFnZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2Vla0VuZChvZmZzZXQ6IG51bWJlcikge1xuICAgICAgICB0aGlzLmlzU2Vla2luZyA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy50YXJnZXQuY2FuUGxheSkge1xuICAgICAgICAgICAgbGV0IHBlcmNlbnRhZ2UgPSBNYXRoLm1heChNYXRoLm1pbihvZmZzZXQgKiAxMDAgLyB0aGlzLmVsZW0uc2Nyb2xsV2lkdGgsIDk5LjkpLCAwKTtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0LnNlZWtUaW1lKHBlcmNlbnRhZ2UsIHRydWUpO1xuICAgICAgICAgICAgaWYgKHRoaXMud2FzUGxheWluZykge1xuICAgICAgICAgICAgICAgIHRoaXMud2FzUGxheWluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0LnBsYXkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCB0b3VjaEVuZCgpIHtcbiAgICAgICAgdGhpcy5pc1NlZWtpbmcgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMud2FzUGxheWluZykge1xuICAgICAgICAgICAgdGhpcy53YXNQbGF5aW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnRhcmdldC5wbGF5KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0VG91Y2hPZmZzZXQoZXZlbnQ6IGFueSkge1xuICAgICAgICBsZXQgb2Zmc2V0TGVmdCA9IDA7XG4gICAgICAgIGxldCBlbGVtZW50OiBhbnkgPSBldmVudC50YXJnZXQ7XG4gICAgICAgIHdoaWxlIChlbGVtZW50KSB7XG4gICAgICAgICAgICBvZmZzZXRMZWZ0ICs9IGVsZW1lbnQub2Zmc2V0TGVmdDtcbiAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50Lm9mZnNldFBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXZlbnQudG91Y2hlc1sgMCBdLnBhZ2VYIC0gb2Zmc2V0TGVmdDtcbiAgICB9XG5cbiAgICBASG9zdExpc3RlbmVyKCdtb3VzZWRvd24nLCBbICckZXZlbnQnIF0pXG4gICAgb25Nb3VzZURvd25TY3J1YkJhcigkZXZlbnQ6IGFueSkge1xuICAgICAgICBpZiAodGhpcy50YXJnZXQpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy50YXJnZXQuaXNMaXZlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnZnU2xpZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vla0VuZCgkZXZlbnQub2Zmc2V0WCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlZWtTdGFydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBIb3N0TGlzdGVuZXIoJ2RvY3VtZW50Om1vdXNlbW92ZScsIFsgJyRldmVudCcgXSlcbiAgICBvbk1vdXNlTW92ZVNjcnViQmFyKCRldmVudDogYW55KSB7XG4gICAgICAgIGlmICh0aGlzLnRhcmdldCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnRhcmdldC5pc0xpdmUgJiYgdGhpcy52Z1NsaWRlciAmJiB0aGlzLmlzU2Vla2luZykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2Vla01vdmUoJGV2ZW50Lm9mZnNldFgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEhvc3RMaXN0ZW5lcignZG9jdW1lbnQ6bW91c2V1cCcsIFsgJyRldmVudCcgXSlcbiAgICBvbk1vdXNlVXBTY3J1YkJhcigkZXZlbnQ6IGFueSkge1xuICAgICAgICBpZiAodGhpcy50YXJnZXQpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy50YXJnZXQuaXNMaXZlICYmIHRoaXMudmdTbGlkZXIgJiYgdGhpcy5pc1NlZWtpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlZWtFbmQoJGV2ZW50Lm9mZnNldFgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEhvc3RMaXN0ZW5lcigndG91Y2hzdGFydCcsIFsgJyRldmVudCcgXSlcbiAgICBvblRvdWNoU3RhcnRTY3J1YkJhcigkZXZlbnQ6IGFueSkge1xuICAgICAgICBpZiAodGhpcy50YXJnZXQpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy50YXJnZXQuaXNMaXZlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnZnU2xpZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vla0VuZCh0aGlzLmdldFRvdWNoT2Zmc2V0KCRldmVudCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWVrU3RhcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBASG9zdExpc3RlbmVyKCdkb2N1bWVudDp0b3VjaG1vdmUnLCBbICckZXZlbnQnIF0pXG4gICAgb25Ub3VjaE1vdmVTY3J1YkJhcigkZXZlbnQ6IGFueSkge1xuICAgICAgICBpZiAodGhpcy50YXJnZXQpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy50YXJnZXQuaXNMaXZlICYmIHRoaXMudmdTbGlkZXIgJiYgdGhpcy5pc1NlZWtpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlZWtNb3ZlKHRoaXMuZ2V0VG91Y2hPZmZzZXQoJGV2ZW50KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIEBIb3N0TGlzdGVuZXIoJ2RvY3VtZW50OnRvdWNoY2FuY2VsJywgWyAnJGV2ZW50JyBdKSBvblRvdWNoQ2FuY2VsU2NydWJCYXIoJGV2ZW50OiBhbnkpIHtcbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMudGFyZ2V0LmlzTGl2ZSAmJiB0aGlzLnZnU2xpZGVyICYmIHRoaXMuaXNTZWVraW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b3VjaEVuZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBASG9zdExpc3RlbmVyKCdkb2N1bWVudDp0b3VjaGVuZCcsIFsgJyRldmVudCcgXSkgb25Ub3VjaEVuZFNjcnViQmFyKCRldmVudDogYW55KSB7XG4gICAgICAgIGlmICh0aGlzLnRhcmdldCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnRhcmdldC5pc0xpdmUgJiYgdGhpcy52Z1NsaWRlciAmJiB0aGlzLmlzU2Vla2luZykge1xuICAgICAgICAgICAgICAgIHRoaXMudG91Y2hFbmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBIb3N0TGlzdGVuZXIoJ2tleWRvd24nLCBbJyRldmVudCddKVxuICAgIGFycm93QWRqdXN0Vm9sdW1lKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnRhcmdldCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDM4IHx8IGV2ZW50LmtleUNvZGUgPT09IDM5KSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldC5zZWVrVGltZSgodGhpcy50YXJnZXQudGltZS5jdXJyZW50ICsgNTAwMCkgLyAxMDAwLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSAzNyB8fCBldmVudC5rZXlDb2RlID09PSA0MCkge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXQuc2Vla1RpbWUoKHRoaXMudGFyZ2V0LnRpbWUuY3VycmVudCAtIDUwMDApIC8gMTAwMCwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0UGVyY2VudGFnZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0ID8gKCh0aGlzLnRhcmdldC50aW1lLmN1cnJlbnQgKiAxMDApIC8gdGhpcy50YXJnZXQudGltZS50b3RhbCkgKyAnJScgOiAnMCUnO1xuICAgIH1cblxuICAgIG9uSGlkZVNjcnViQmFyKGhpZGU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5oaWRlU2NydWJCYXIgPSBoaWRlO1xuICAgIH1cblxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMuZm9yRWFjaChzID0+IHMudW5zdWJzY3JpYmUoKSk7XG4gICAgfVxufVxuIl19","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar vg_api_1 = require(\"../../core/services/vg-api\");\nvar VgQualitySelector = /** @class */ (function () {\n    function VgQualitySelector(ref, API) {\n        this.API = API;\n        this.onBitrateChange = new core_1.EventEmitter();\n        this.subscriptions = [];\n        this.elem = ref.nativeElement;\n    }\n    VgQualitySelector.prototype.ngOnInit = function () {\n    };\n    VgQualitySelector.prototype.ngOnChanges = function (changes) {\n        if (changes['bitrates'].currentValue && changes['bitrates'].currentValue.length) {\n            this.bitrates.forEach(function (item) { return item.label = item.label || Math.round(item.bitrate / 1000).toString(); });\n        }\n    };\n    VgQualitySelector.prototype.selectBitrate = function (index) {\n        this.bitrateSelected = this.bitrates[index];\n        this.onBitrateChange.emit(this.bitrates[index]);\n    };\n    VgQualitySelector.prototype.ngOnDestroy = function () {\n        this.subscriptions.forEach(function (s) { return s.unsubscribe(); });\n    };\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Array)\n    ], VgQualitySelector.prototype, \"bitrates\", void 0);\n    __decorate([\n        core_1.Output(),\n        __metadata(\"design:type\", core_1.EventEmitter)\n    ], VgQualitySelector.prototype, \"onBitrateChange\", void 0);\n    VgQualitySelector = __decorate([\n        core_1.Component({\n            selector: 'vg-quality-selector',\n            encapsulation: core_1.ViewEncapsulation.None,\n            template: \"\\n        <div class=\\\"container\\\">\\n            <div class=\\\"quality-selected\\\"\\n                 [class.vg-icon-hd]=\\\"!bitrateSelected\\\">\\n                {{ bitrateSelected?.label }}\\n            </div>\\n            \\n            <select class=\\\"quality-selector\\\" \\n                    (change)=\\\"selectBitrate($event.target.value)\\\"\\n                    tabindex=\\\"0\\\"\\n                    aria-label=\\\"quality selector\\\"\\n                    [attr.aria-valuetext]=\\\"ariaValue\\\">\\n                <option \\n                    *ngFor=\\\"let bitrate of bitrates\\\"\\n                    [value]=\\\"bitrate.qualityIndex\\\"\\n                    [selected]=\\\"bitrate.qualityIndex === bitrateSelected?.qualityIndex\\\">\\n                    {{ bitrate.label }}\\n                </option>\\n            </select>\\n        </div>\\n    \",\n            styles: [\"\\n        vg-quality-selector {\\n            -webkit-touch-callout: none;\\n            -webkit-user-select: none;\\n            -moz-user-select: none;\\n            -ms-user-select: none;\\n            user-select: none;\\n            display: flex;\\n            justify-content: center;\\n            width: 50px;\\n            height: 50px;\\n            cursor: pointer;\\n            color: white;\\n            line-height: 50px;\\n        }\\n        vg-quality-selector .container {\\n            position: relative;\\n            display: flex;\\n            flex-grow: 1;\\n            align-items: center;\\n            \\n            padding: 0;\\n            margin: 5px;\\n        }\\n        vg-quality-selector select.quality-selector {\\n            width: 50px;\\n            padding: 5px 8px;\\n            border: none;\\n            background: none;\\n            -webkit-appearance: none;\\n            -moz-appearance: none;\\n            appearance: none;\\n            color: transparent;\\n            font-size: 16px;\\n        }\\n        vg-quality-selector select.quality-selector::-ms-expand {\\n            display: none;\\n        }\\n        vg-quality-selector select.quality-selector option {\\n            color: #000;\\n        }\\n        vg-quality-selector .quality-selected {\\n            position: absolute;\\n            width: 100%;\\n            height: 50px;\\n            top: -6px;\\n            text-align: center;\\n            text-transform: uppercase;\\n            font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\\n            padding-top: 2px;\\n            pointer-events: none;\\n        }\\n        vg-quality-selector .vg-icon-closed_caption:before {\\n            width: 100%;\\n        }\\n    \"]\n        }),\n        __metadata(\"design:paramtypes\", [core_1.ElementRef, vg_api_1.VgAPI])\n    ], VgQualitySelector);\n    return VgQualitySelector;\n}());\nexports.VgQualitySelector = VgQualitySelector;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmctcXVhbGl0eS1zZWxlY3Rvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jb250cm9scy92Zy1xdWFsaXR5LXNlbGVjdG9yL3ZnLXF1YWxpdHktc2VsZWN0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxzQ0FTdUI7QUFDdkIscURBQW1EO0FBcUZuRDtJQWNJLDJCQUFZLEdBQWUsRUFBUyxHQUFVO1FBQVYsUUFBRyxHQUFILEdBQUcsQ0FBTztRQVhwQyxvQkFBZSxHQUFnQyxJQUFJLG1CQUFZLEVBQUUsQ0FBQztRQU81RSxrQkFBYSxHQUFtQixFQUFFLENBQUM7UUFLL0IsSUFBSSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsYUFBYSxDQUFDO0lBQ2xDLENBQUM7SUFFRCxvQ0FBUSxHQUFSO0lBQ0EsQ0FBQztJQUVELHVDQUFXLEdBQVgsVUFBWSxPQUFzQjtRQUM5QixJQUFJLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQyxZQUFZLElBQUksT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLFlBQVksQ0FBQyxNQUFNLEVBQUU7WUFDN0UsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsVUFBQSxJQUFJLElBQUksT0FBQSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxDQUFDLFFBQVEsRUFBRSxFQUFyRSxDQUFxRSxDQUFDLENBQUM7U0FDeEc7SUFDTCxDQUFDO0lBRUQseUNBQWEsR0FBYixVQUFjLEtBQWE7UUFDdkIsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzVDLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUNwRCxDQUFDO0lBRUQsdUNBQVcsR0FBWDtRQUNJLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLFVBQUEsQ0FBQyxJQUFJLE9BQUEsQ0FBQyxDQUFDLFdBQVcsRUFBRSxFQUFmLENBQWUsQ0FBQyxDQUFDO0lBQ3JELENBQUM7SUFqQ1E7UUFBUixZQUFLLEVBQUU7O3VEQUEyQjtJQUV6QjtRQUFULGFBQU0sRUFBRTtrQ0FBa0IsbUJBQVk7OERBQXFDO0lBSG5FLGlCQUFpQjtRQWpGN0IsZ0JBQVMsQ0FBQztZQUNQLFFBQVEsRUFBRSxxQkFBcUI7WUFDL0IsYUFBYSxFQUFFLHdCQUFpQixDQUFDLElBQUk7WUFDckMsUUFBUSxFQUFFLDJ6QkFvQlQ7WUFDRCxNQUFNLEVBQUUsQ0FBRSx3ckRBdURULENBQUU7U0FDTixDQUFDO3lDQWVtQixpQkFBVSxFQUFjLGNBQUs7T0FkckMsaUJBQWlCLENBbUM3QjtJQUFELHdCQUFDO0NBQUEsQUFuQ0QsSUFtQ0M7QUFuQ1ksOENBQWlCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgICBDb21wb25lbnQsXG4gICAgRWxlbWVudFJlZixcbiAgICBPbkluaXQsXG4gICAgSW5wdXQsXG4gICAgVmlld0VuY2Fwc3VsYXRpb24sXG4gICAgT25EZXN0cm95LFxuICAgIFNpbXBsZUNoYW5nZXMsXG4gICAgT25DaGFuZ2VzLCBPdXRwdXQsIEV2ZW50RW1pdHRlclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFZnQVBJIH0gZnJvbSAnLi4vLi4vY29yZS9zZXJ2aWNlcy92Zy1hcGknO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBCaXRyYXRlT3B0aW9uIH0gZnJvbSAnLi4vLi4vY29yZS9jb3JlJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICd2Zy1xdWFsaXR5LXNlbGVjdG9yJyxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuICAgIHRlbXBsYXRlOiBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJxdWFsaXR5LXNlbGVjdGVkXCJcbiAgICAgICAgICAgICAgICAgW2NsYXNzLnZnLWljb24taGRdPVwiIWJpdHJhdGVTZWxlY3RlZFwiPlxuICAgICAgICAgICAgICAgIHt7IGJpdHJhdGVTZWxlY3RlZD8ubGFiZWwgfX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8c2VsZWN0IGNsYXNzPVwicXVhbGl0eS1zZWxlY3RvclwiIFxuICAgICAgICAgICAgICAgICAgICAoY2hhbmdlKT1cInNlbGVjdEJpdHJhdGUoJGV2ZW50LnRhcmdldC52YWx1ZSlcIlxuICAgICAgICAgICAgICAgICAgICB0YWJpbmRleD1cIjBcIlxuICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwicXVhbGl0eSBzZWxlY3RvclwiXG4gICAgICAgICAgICAgICAgICAgIFthdHRyLmFyaWEtdmFsdWV0ZXh0XT1cImFyaWFWYWx1ZVwiPlxuICAgICAgICAgICAgICAgIDxvcHRpb24gXG4gICAgICAgICAgICAgICAgICAgICpuZ0Zvcj1cImxldCBiaXRyYXRlIG9mIGJpdHJhdGVzXCJcbiAgICAgICAgICAgICAgICAgICAgW3ZhbHVlXT1cImJpdHJhdGUucXVhbGl0eUluZGV4XCJcbiAgICAgICAgICAgICAgICAgICAgW3NlbGVjdGVkXT1cImJpdHJhdGUucXVhbGl0eUluZGV4ID09PSBiaXRyYXRlU2VsZWN0ZWQ/LnF1YWxpdHlJbmRleFwiPlxuICAgICAgICAgICAgICAgICAgICB7eyBiaXRyYXRlLmxhYmVsIH19XG4gICAgICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgPC9kaXY+XG4gICAgYCxcbiAgICBzdHlsZXM6IFsgYFxuICAgICAgICB2Zy1xdWFsaXR5LXNlbGVjdG9yIHtcbiAgICAgICAgICAgIC13ZWJraXQtdG91Y2gtY2FsbG91dDogbm9uZTtcbiAgICAgICAgICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgICAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAgICAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgICAgICB3aWR0aDogNTBweDtcbiAgICAgICAgICAgIGhlaWdodDogNTBweDtcbiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiA1MHB4O1xuICAgICAgICB9XG4gICAgICAgIHZnLXF1YWxpdHktc2VsZWN0b3IgLmNvbnRhaW5lciB7XG4gICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgZmxleC1ncm93OiAxO1xuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgICAgIG1hcmdpbjogNXB4O1xuICAgICAgICB9XG4gICAgICAgIHZnLXF1YWxpdHktc2VsZWN0b3Igc2VsZWN0LnF1YWxpdHktc2VsZWN0b3Ige1xuICAgICAgICAgICAgd2lkdGg6IDUwcHg7XG4gICAgICAgICAgICBwYWRkaW5nOiA1cHggOHB4O1xuICAgICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgICAgYmFja2dyb3VuZDogbm9uZTtcbiAgICAgICAgICAgIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcbiAgICAgICAgICAgIC1tb3otYXBwZWFyYW5jZTogbm9uZTtcbiAgICAgICAgICAgIGFwcGVhcmFuY2U6IG5vbmU7XG4gICAgICAgICAgICBjb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgIH1cbiAgICAgICAgdmctcXVhbGl0eS1zZWxlY3RvciBzZWxlY3QucXVhbGl0eS1zZWxlY3Rvcjo6LW1zLWV4cGFuZCB7XG4gICAgICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgICB9XG4gICAgICAgIHZnLXF1YWxpdHktc2VsZWN0b3Igc2VsZWN0LnF1YWxpdHktc2VsZWN0b3Igb3B0aW9uIHtcbiAgICAgICAgICAgIGNvbG9yOiAjMDAwO1xuICAgICAgICB9XG4gICAgICAgIHZnLXF1YWxpdHktc2VsZWN0b3IgLnF1YWxpdHktc2VsZWN0ZWQge1xuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICBoZWlnaHQ6IDUwcHg7XG4gICAgICAgICAgICB0b3A6IC02cHg7XG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICAgICAgICAgICAgZm9udC1mYW1pbHk6IEhlbHZldGljYSBOZXVlLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmO1xuICAgICAgICAgICAgcGFkZGluZy10b3A6IDJweDtcbiAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgICB9XG4gICAgICAgIHZnLXF1YWxpdHktc2VsZWN0b3IgLnZnLWljb24tY2xvc2VkX2NhcHRpb246YmVmb3JlIHtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICB9XG4gICAgYCBdXG59KVxuZXhwb3J0IGNsYXNzIFZnUXVhbGl0eVNlbGVjdG9yIGltcGxlbWVudHMgT25Jbml0LCBPbkNoYW5nZXMsIE9uRGVzdHJveSB7XG4gICAgQElucHV0KCkgYml0cmF0ZXM6IEJpdHJhdGVPcHRpb25bXTtcblxuICAgIEBPdXRwdXQoKSBvbkJpdHJhdGVDaGFuZ2U6IEV2ZW50RW1pdHRlcjxCaXRyYXRlT3B0aW9uPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgIGJpdHJhdGVTZWxlY3RlZDogQml0cmF0ZU9wdGlvbjtcblxuICAgIGVsZW06IEhUTUxFbGVtZW50O1xuICAgIHRhcmdldDogYW55O1xuXG4gICAgc3Vic2NyaXB0aW9uczogU3Vic2NyaXB0aW9uW10gPSBbXTtcblxuICAgIGFyaWFWYWx1ZTogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IocmVmOiBFbGVtZW50UmVmLCBwdWJsaWMgQVBJOiBWZ0FQSSkge1xuICAgICAgICB0aGlzLmVsZW0gPSByZWYubmF0aXZlRWxlbWVudDtcbiAgICB9XG5cbiAgICBuZ09uSW5pdCgpIHtcbiAgICB9XG5cbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKSB7XG4gICAgICAgIGlmIChjaGFuZ2VzWydiaXRyYXRlcyddLmN1cnJlbnRWYWx1ZSAmJiBjaGFuZ2VzWydiaXRyYXRlcyddLmN1cnJlbnRWYWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuYml0cmF0ZXMuZm9yRWFjaChpdGVtID0+IGl0ZW0ubGFiZWwgPSBpdGVtLmxhYmVsIHx8IE1hdGgucm91bmQoaXRlbS5iaXRyYXRlIC8gMTAwMCkudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZWxlY3RCaXRyYXRlKGluZGV4OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5iaXRyYXRlU2VsZWN0ZWQgPSB0aGlzLmJpdHJhdGVzW2luZGV4XTtcbiAgICAgICAgdGhpcy5vbkJpdHJhdGVDaGFuZ2UuZW1pdCh0aGlzLmJpdHJhdGVzW2luZGV4XSk7XG4gICAgfVxuXG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5mb3JFYWNoKHMgPT4gcy51bnN1YnNjcmliZSgpKTtcbiAgICB9XG59XG4iXX0=","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar vg_api_1 = require(\"../../core/services/vg-api\");\nvar VgPlaybackButton = /** @class */ (function () {\n    function VgPlaybackButton(ref, API) {\n        this.API = API;\n        this.subscriptions = [];\n        this.ariaValue = 1;\n        this.elem = ref.nativeElement;\n        this.playbackValues = ['0.5', '1.0', '1.5', '2.0'];\n        this.playbackIndex = 1;\n    }\n    VgPlaybackButton.prototype.ngOnInit = function () {\n        var _this = this;\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(function () { return _this.onPlayerReady(); }));\n        }\n    };\n    VgPlaybackButton.prototype.onPlayerReady = function () {\n        this.target = this.API.getMediaById(this.vgFor);\n    };\n    VgPlaybackButton.prototype.onClick = function () {\n        this.updatePlaybackSpeed();\n    };\n    VgPlaybackButton.prototype.onKeyDown = function (event) {\n        // On press Enter (13) or Space (32)\n        if (event.keyCode === 13 || event.keyCode === 32) {\n            event.preventDefault();\n            this.updatePlaybackSpeed();\n        }\n    };\n    VgPlaybackButton.prototype.updatePlaybackSpeed = function () {\n        this.playbackIndex = ++this.playbackIndex % this.playbackValues.length;\n        if (this.target instanceof vg_api_1.VgAPI) {\n            this.target.playbackRate = (this.playbackValues[this.playbackIndex]);\n        }\n        else {\n            this.target.playbackRate[this.vgFor] = (this.playbackValues[this.playbackIndex]);\n        }\n    };\n    VgPlaybackButton.prototype.getPlaybackRate = function () {\n        this.ariaValue = this.target ? this.target.playbackRate : 1.0;\n        return this.ariaValue;\n    };\n    VgPlaybackButton.prototype.ngOnDestroy = function () {\n        this.subscriptions.forEach(function (s) { return s.unsubscribe(); });\n    };\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", String)\n    ], VgPlaybackButton.prototype, \"vgFor\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Array)\n    ], VgPlaybackButton.prototype, \"playbackValues\", void 0);\n    __decorate([\n        core_1.HostListener('click'),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", []),\n        __metadata(\"design:returntype\", void 0)\n    ], VgPlaybackButton.prototype, \"onClick\", null);\n    __decorate([\n        core_1.HostListener('keydown', ['$event']),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", [KeyboardEvent]),\n        __metadata(\"design:returntype\", void 0)\n    ], VgPlaybackButton.prototype, \"onKeyDown\", null);\n    VgPlaybackButton = __decorate([\n        core_1.Component({\n            selector: 'vg-playback-button',\n            encapsulation: core_1.ViewEncapsulation.None,\n            template: \"\\n    <span class=\\\"button\\\"\\n          tabindex=\\\"0\\\"\\n          role=\\\"button\\\"\\n          aria-label=\\\"playback speed button\\\"\\n          [attr.aria-valuetext]=\\\"ariaValue\\\">\\n        {{getPlaybackRate()}}x\\n    </span>\",\n            styles: [\"\\n        vg-playback-button {\\n            -webkit-touch-callout: none;\\n            -webkit-user-select: none;\\n            -moz-user-select: none;\\n            -ms-user-select: none;\\n            user-select: none;\\n            display: flex;\\n            justify-content: center;\\n            height: 50px;\\n            width: 50px;\\n            cursor: pointer;\\n            color: white;\\n            line-height: 50px;\\n            font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\\n        }\\n\\n        vg-playback-button .button {\\n            display: flex;\\n            align-items: center;\\n            justify-content: center;\\n            width: 50px;\\n        }\\n    \"]\n        }),\n        __metadata(\"design:paramtypes\", [core_1.ElementRef, vg_api_1.VgAPI])\n    ], VgPlaybackButton);\n    return VgPlaybackButton;\n}());\nexports.VgPlaybackButton = VgPlaybackButton;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmctcGxheWJhY2stYnV0dG9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2NvbnRyb2xzL3ZnLXBsYXliYWNrLWJ1dHRvbi92Zy1wbGF5YmFjay1idXR0b24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxzQ0FBaUg7QUFDakgscURBQW1EO0FBdUNuRDtJQWFJLDBCQUFZLEdBQWUsRUFBUyxHQUFVO1FBQVYsUUFBRyxHQUFILEdBQUcsQ0FBTztRQUo5QyxrQkFBYSxHQUFtQixFQUFFLENBQUM7UUFFbkMsY0FBUyxHQUFHLENBQUMsQ0FBQztRQUdWLElBQUksQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDLGFBQWEsQ0FBQztRQUM5QixJQUFJLENBQUMsY0FBYyxHQUFHLENBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFFLENBQUM7UUFDckQsSUFBSSxDQUFDLGFBQWEsR0FBRyxDQUFDLENBQUM7SUFDM0IsQ0FBQztJQUVELG1DQUFRLEdBQVI7UUFBQSxpQkFPQztRQU5HLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUU7WUFDeEIsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1NBQ3hCO2FBQ0k7WUFDRCxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxjQUFNLE9BQUEsS0FBSSxDQUFDLGFBQWEsRUFBRSxFQUFwQixDQUFvQixDQUFDLENBQUMsQ0FBQztTQUM1RjtJQUNMLENBQUM7SUFFRCx3Q0FBYSxHQUFiO1FBQ0ksSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDcEQsQ0FBQztJQUdELGtDQUFPLEdBQVA7UUFDSSxJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztJQUMvQixDQUFDO0lBR0Qsb0NBQVMsR0FBVCxVQUFVLEtBQW9CO1FBQzFCLG9DQUFvQztRQUNwQyxJQUFJLEtBQUssQ0FBQyxPQUFPLEtBQUssRUFBRSxJQUFJLEtBQUssQ0FBQyxPQUFPLEtBQUssRUFBRSxFQUFFO1lBQzlDLEtBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUN2QixJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztTQUM5QjtJQUNMLENBQUM7SUFFRCw4Q0FBbUIsR0FBbkI7UUFDSSxJQUFJLENBQUMsYUFBYSxHQUFHLEVBQUUsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQztRQUV2RSxJQUFJLElBQUksQ0FBQyxNQUFNLFlBQVksY0FBSyxFQUFFO1lBQzlCLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxHQUFHLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBRSxJQUFJLENBQUMsYUFBYSxDQUFFLENBQUMsQ0FBQztTQUMxRTthQUNJO1lBQ0QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUUsSUFBSSxDQUFDLEtBQUssQ0FBRSxHQUFHLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBRSxJQUFJLENBQUMsYUFBYSxDQUFFLENBQUMsQ0FBQztTQUN4RjtJQUNMLENBQUM7SUFFRCwwQ0FBZSxHQUFmO1FBQ0ksSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDO1FBQzlELE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUMxQixDQUFDO0lBRUQsc0NBQVcsR0FBWDtRQUNJLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLFVBQUEsQ0FBQyxJQUFJLE9BQUEsQ0FBQyxDQUFDLFdBQVcsRUFBRSxFQUFmLENBQWUsQ0FBQyxDQUFDO0lBQ3JELENBQUM7SUEvRFE7UUFBUixZQUFLLEVBQUU7O21EQUFlO0lBS2Q7UUFBUixZQUFLLEVBQUU7a0NBQWlCLEtBQUs7NERBQVM7SUEyQnZDO1FBREMsbUJBQVksQ0FBQyxPQUFPLENBQUM7Ozs7bURBR3JCO0lBR0Q7UUFEQyxtQkFBWSxDQUFDLFNBQVMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDOzt5Q0FDbkIsYUFBYTs7cURBTTdCO0lBNUNRLGdCQUFnQjtRQXBDNUIsZ0JBQVMsQ0FBQztZQUNQLFFBQVEsRUFBRSxvQkFBb0I7WUFDOUIsYUFBYSxFQUFFLHdCQUFpQixDQUFDLElBQUk7WUFDckMsUUFBUSxFQUFFLGdPQU9GO1lBQ1IsTUFBTSxFQUFFLENBQUUscXJCQXVCVCxDQUFFO1NBQ04sQ0FBQzt5Q0FjbUIsaUJBQVUsRUFBYyxjQUFLO09BYnJDLGdCQUFnQixDQWlFNUI7SUFBRCx1QkFBQztDQUFBLEFBakVELElBaUVDO0FBakVZLDRDQUFnQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIEVsZW1lbnRSZWYsIEhvc3RMaXN0ZW5lciwgT25Jbml0LCBWaWV3RW5jYXBzdWxhdGlvbiwgT25EZXN0cm95IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBWZ0FQSSB9IGZyb20gJy4uLy4uL2NvcmUvc2VydmljZXMvdmctYXBpJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ3ZnLXBsYXliYWNrLWJ1dHRvbicsXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgICB0ZW1wbGF0ZTogYFxuICAgIDxzcGFuIGNsYXNzPVwiYnV0dG9uXCJcbiAgICAgICAgICB0YWJpbmRleD1cIjBcIlxuICAgICAgICAgIHJvbGU9XCJidXR0b25cIlxuICAgICAgICAgIGFyaWEtbGFiZWw9XCJwbGF5YmFjayBzcGVlZCBidXR0b25cIlxuICAgICAgICAgIFthdHRyLmFyaWEtdmFsdWV0ZXh0XT1cImFyaWFWYWx1ZVwiPlxuICAgICAgICB7e2dldFBsYXliYWNrUmF0ZSgpfX14XG4gICAgPC9zcGFuPmAsXG4gICAgc3R5bGVzOiBbIGBcbiAgICAgICAgdmctcGxheWJhY2stYnV0dG9uIHtcbiAgICAgICAgICAgIC13ZWJraXQtdG91Y2gtY2FsbG91dDogbm9uZTtcbiAgICAgICAgICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgICAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAgICAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgICAgICBoZWlnaHQ6IDUwcHg7XG4gICAgICAgICAgICB3aWR0aDogNTBweDtcbiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiA1MHB4O1xuICAgICAgICAgICAgZm9udC1mYW1pbHk6IEhlbHZldGljYSBOZXVlLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmO1xuICAgICAgICB9XG5cbiAgICAgICAgdmctcGxheWJhY2stYnV0dG9uIC5idXR0b24ge1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgICAgIHdpZHRoOiA1MHB4O1xuICAgICAgICB9XG4gICAgYCBdXG59KVxuZXhwb3J0IGNsYXNzIFZnUGxheWJhY2tCdXR0b24gaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSB7XG4gICAgQElucHV0KCkgdmdGb3I6IHN0cmluZztcblxuICAgIGVsZW06IEhUTUxFbGVtZW50O1xuICAgIHRhcmdldDogYW55O1xuXG4gICAgQElucHV0KCkgcGxheWJhY2tWYWx1ZXM6IEFycmF5PHN0cmluZz47XG4gICAgcGxheWJhY2tJbmRleDogbnVtYmVyO1xuXG4gICAgc3Vic2NyaXB0aW9uczogU3Vic2NyaXB0aW9uW10gPSBbXTtcblxuICAgIGFyaWFWYWx1ZSA9IDE7XG5cbiAgICBjb25zdHJ1Y3RvcihyZWY6IEVsZW1lbnRSZWYsIHB1YmxpYyBBUEk6IFZnQVBJKSB7XG4gICAgICAgIHRoaXMuZWxlbSA9IHJlZi5uYXRpdmVFbGVtZW50O1xuICAgICAgICB0aGlzLnBsYXliYWNrVmFsdWVzID0gWyAnMC41JywgJzEuMCcsICcxLjUnLCAnMi4wJyBdO1xuICAgICAgICB0aGlzLnBsYXliYWNrSW5kZXggPSAxO1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICBpZiAodGhpcy5BUEkuaXNQbGF5ZXJSZWFkeSkge1xuICAgICAgICAgICAgdGhpcy5vblBsYXllclJlYWR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaCh0aGlzLkFQSS5wbGF5ZXJSZWFkeUV2ZW50LnN1YnNjcmliZSgoKSA9PiB0aGlzLm9uUGxheWVyUmVhZHkoKSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25QbGF5ZXJSZWFkeSgpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLkFQSS5nZXRNZWRpYUJ5SWQodGhpcy52Z0Zvcik7XG4gICAgfVxuXG4gICAgQEhvc3RMaXN0ZW5lcignY2xpY2snKVxuICAgIG9uQ2xpY2soKSB7XG4gICAgICAgIHRoaXMudXBkYXRlUGxheWJhY2tTcGVlZCgpO1xuICAgIH1cblxuICAgIEBIb3N0TGlzdGVuZXIoJ2tleWRvd24nLCBbJyRldmVudCddKVxuICAgIG9uS2V5RG93bihldmVudDogS2V5Ym9hcmRFdmVudCkge1xuICAgICAgICAvLyBPbiBwcmVzcyBFbnRlciAoMTMpIG9yIFNwYWNlICgzMilcbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDEzIHx8IGV2ZW50LmtleUNvZGUgPT09IDMyKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQbGF5YmFja1NwZWVkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVQbGF5YmFja1NwZWVkKCkge1xuICAgICAgICB0aGlzLnBsYXliYWNrSW5kZXggPSArK3RoaXMucGxheWJhY2tJbmRleCAlIHRoaXMucGxheWJhY2tWYWx1ZXMubGVuZ3RoO1xuXG4gICAgICAgIGlmICh0aGlzLnRhcmdldCBpbnN0YW5jZW9mIFZnQVBJKSB7XG4gICAgICAgICAgICB0aGlzLnRhcmdldC5wbGF5YmFja1JhdGUgPSAodGhpcy5wbGF5YmFja1ZhbHVlc1sgdGhpcy5wbGF5YmFja0luZGV4IF0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy50YXJnZXQucGxheWJhY2tSYXRlWyB0aGlzLnZnRm9yIF0gPSAodGhpcy5wbGF5YmFja1ZhbHVlc1sgdGhpcy5wbGF5YmFja0luZGV4IF0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0UGxheWJhY2tSYXRlKCkge1xuICAgICAgICB0aGlzLmFyaWFWYWx1ZSA9IHRoaXMudGFyZ2V0ID8gdGhpcy50YXJnZXQucGxheWJhY2tSYXRlIDogMS4wO1xuICAgICAgICByZXR1cm4gdGhpcy5hcmlhVmFsdWU7XG4gICAgfVxuXG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5mb3JFYWNoKHMgPT4gcy51bnN1YnNjcmliZSgpKTtcbiAgICB9XG59XG4iXX0=","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar vg_states_1 = require(\"../states/vg-states\");\nvar VgAPI = /** @class */ (function () {\n    function VgAPI() {\n        this.medias = {}; // TODO: refactor to Set<IPlayable> \n        this.playerReadyEvent = new core_1.EventEmitter(true);\n        this.isPlayerReady = false;\n    }\n    VgAPI.prototype.onPlayerReady = function (fsAPI) {\n        this.fsAPI = fsAPI;\n        this.isPlayerReady = true;\n        this.playerReadyEvent.emit(this);\n    };\n    VgAPI.prototype.getDefaultMedia = function () {\n        for (var item in this.medias) {\n            if (this.medias[item]) {\n                return this.medias[item];\n            }\n        }\n    };\n    VgAPI.prototype.getMasterMedia = function () {\n        var master;\n        for (var id in this.medias) {\n            if (this.medias[id].vgMaster === 'true' || this.medias[id].vgMaster === true) {\n                master = this.medias[id];\n                break;\n            }\n        }\n        return master || this.getDefaultMedia();\n    };\n    VgAPI.prototype.isMasterDefined = function () {\n        var result = false;\n        for (var id in this.medias) {\n            if (this.medias[id].vgMaster === 'true' || this.medias[id].vgMaster === true) {\n                result = true;\n                break;\n            }\n        }\n        return result;\n    };\n    VgAPI.prototype.getMediaById = function (id) {\n        if (id === void 0) { id = null; }\n        var media = this.medias[id];\n        if (!id || id === '*') {\n            media = this;\n        }\n        return media;\n    };\n    VgAPI.prototype.play = function () {\n        for (var id in this.medias) {\n            if (this.medias[id]) {\n                this.medias[id].play();\n            }\n        }\n    };\n    VgAPI.prototype.pause = function () {\n        for (var id in this.medias) {\n            if (this.medias[id]) {\n                this.medias[id].pause();\n            }\n        }\n    };\n    Object.defineProperty(VgAPI.prototype, \"duration\", {\n        get: function () {\n            return this.$$getAllProperties('duration');\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(VgAPI.prototype, \"currentTime\", {\n        get: function () {\n            return this.$$getAllProperties('currentTime');\n        },\n        set: function (seconds) {\n            this.$$setAllProperties('currentTime', seconds);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(VgAPI.prototype, \"state\", {\n        get: function () {\n            return this.$$getAllProperties('state');\n        },\n        set: function (state) {\n            this.$$setAllProperties('state', state);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(VgAPI.prototype, \"volume\", {\n        get: function () {\n            return this.$$getAllProperties('volume');\n        },\n        set: function (volume) {\n            this.$$setAllProperties('volume', volume);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(VgAPI.prototype, \"playbackRate\", {\n        get: function () {\n            return this.$$getAllProperties('playbackRate');\n        },\n        set: function (rate) {\n            this.$$setAllProperties('playbackRate', rate);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(VgAPI.prototype, \"canPlay\", {\n        get: function () {\n            return this.$$getAllProperties('canPlay');\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(VgAPI.prototype, \"canPlayThrough\", {\n        get: function () {\n            return this.$$getAllProperties('canPlayThrough');\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(VgAPI.prototype, \"isMetadataLoaded\", {\n        get: function () {\n            return this.$$getAllProperties('isMetadataLoaded');\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(VgAPI.prototype, \"isWaiting\", {\n        get: function () {\n            return this.$$getAllProperties('isWaiting');\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(VgAPI.prototype, \"isCompleted\", {\n        get: function () {\n            return this.$$getAllProperties('isCompleted');\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(VgAPI.prototype, \"isLive\", {\n        get: function () {\n            return this.$$getAllProperties('isLive');\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(VgAPI.prototype, \"isMaster\", {\n        get: function () {\n            return this.$$getAllProperties('isMaster');\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(VgAPI.prototype, \"time\", {\n        get: function () {\n            return this.$$getAllProperties('time');\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(VgAPI.prototype, \"buffer\", {\n        get: function () {\n            return this.$$getAllProperties('buffer');\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(VgAPI.prototype, \"buffered\", {\n        get: function () {\n            return this.$$getAllProperties('buffered');\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(VgAPI.prototype, \"subscriptions\", {\n        get: function () {\n            return this.$$getAllProperties('subscriptions');\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(VgAPI.prototype, \"textTracks\", {\n        get: function () {\n            return this.$$getAllProperties('textTracks');\n        },\n        enumerable: true,\n        configurable: true\n    });\n    VgAPI.prototype.seekTime = function (value, byPercent) {\n        if (byPercent === void 0) { byPercent = false; }\n        for (var id in this.medias) {\n            if (this.medias[id]) {\n                this.$$seek(this.medias[id], value, byPercent);\n            }\n        }\n    };\n    VgAPI.prototype.$$seek = function (media, value, byPercent) {\n        if (byPercent === void 0) { byPercent = false; }\n        var second;\n        var duration = media.duration;\n        if (byPercent) {\n            if (this.isMasterDefined()) {\n                duration = this.getMasterMedia().duration;\n            }\n            second = value * duration / 100;\n        }\n        else {\n            second = value;\n        }\n        media.currentTime = second;\n    };\n    VgAPI.prototype.addTextTrack = function (type, label, language) {\n        for (var id in this.medias) {\n            if (this.medias[id]) {\n                this.$$addTextTrack(this.medias[id], type, label, language);\n            }\n        }\n    };\n    VgAPI.prototype.$$addTextTrack = function (media, type, label, language) {\n        media.addTextTrack(type, label, language);\n    };\n    VgAPI.prototype.$$getAllProperties = function (property) {\n        var medias = {};\n        var result;\n        for (var id in this.medias) {\n            if (this.medias[id]) {\n                medias[id] = this.medias[id];\n            }\n        }\n        var nMedias = Object.keys(medias).length;\n        switch (nMedias) {\n            case 0:\n                // Return default values until vgMedia is initialized\n                switch (property) {\n                    case 'state':\n                        result = vg_states_1.VgStates.VG_PAUSED;\n                        break;\n                    case 'playbackRate':\n                    case 'volume':\n                        result = 1;\n                        break;\n                    case 'time':\n                        result = { current: 0, total: 0, left: 0 };\n                        break;\n                }\n                break;\n            case 1:\n                // If there's only one media element then return the plain value\n                var firstMediaId = Object.keys(medias)[0];\n                result = medias[firstMediaId][property];\n                break;\n            default:\n                // TODO: return 'master' value\n                var master = this.getMasterMedia();\n                result = medias[master.id][property];\n        }\n        return result;\n    };\n    VgAPI.prototype.$$setAllProperties = function (property, value) {\n        for (var id in this.medias) {\n            if (this.medias[id]) {\n                this.medias[id][property] = value;\n            }\n        }\n    };\n    VgAPI.prototype.registerElement = function (elem) {\n        this.videogularElement = elem;\n    };\n    VgAPI.prototype.registerMedia = function (media) {\n        this.medias[media.id] = media;\n    };\n    VgAPI.prototype.unregisterMedia = function (media) {\n        delete this.medias[media.id];\n    };\n    VgAPI = __decorate([\n        core_1.Injectable(),\n        __metadata(\"design:paramtypes\", [])\n    ], VgAPI);\n    return VgAPI;\n}());\nexports.VgAPI = VgAPI;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmctYXBpLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2NvcmUvc2VydmljZXMvdmctYXBpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUEsc0NBQXVEO0FBRXZELGlEQUE2QztBQUk3QztJQU9JO1FBTkEsV0FBTSxHQUFVLEVBQUUsQ0FBQyxDQUFBLG9DQUFvQztRQUV2RCxxQkFBZ0IsR0FBc0IsSUFBSSxtQkFBWSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzdELGtCQUFhLEdBQUcsS0FBSyxDQUFDO0lBS3RCLENBQUM7SUFFRCw2QkFBYSxHQUFiLFVBQWMsS0FBc0I7UUFDaEMsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUM7UUFDMUIsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBRUQsK0JBQWUsR0FBZjtRQUNJLEtBQUssSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUMxQixJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUU7Z0JBQ25CLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUM1QjtTQUNKO0lBQ0wsQ0FBQztJQUVELDhCQUFjLEdBQWQ7UUFDSSxJQUFJLE1BQVUsQ0FBQztRQUNmLEtBQUssSUFBSSxFQUFFLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUN4QixJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsUUFBUSxLQUFLLE1BQU0sSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLFFBQVEsS0FBSyxJQUFJLEVBQUU7Z0JBQzFFLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO2dCQUN6QixNQUFN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bSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0lQbGF5YWJsZX0gZnJvbSBcIi4uL3ZnLW1lZGlhL2ktcGxheWFibGVcIjtcbmltcG9ydCB7VmdTdGF0ZXN9IGZyb20gXCIuLi9zdGF0ZXMvdmctc3RhdGVzXCI7XG5pbXBvcnQgeyBWZ0Z1bGxzY3JlZW5BUEkgfSBmcm9tICcuL3ZnLWZ1bGxzY3JlZW4tYXBpJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFZnQVBJIHtcbiAgICBtZWRpYXM6T2JqZWN0ID0ge307Ly8gVE9ETzogcmVmYWN0b3IgdG8gU2V0PElQbGF5YWJsZT4gXG4gICAgdmlkZW9ndWxhckVsZW1lbnQ6IGFueTtcbiAgICBwbGF5ZXJSZWFkeUV2ZW50OiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIodHJ1ZSk7XG4gICAgaXNQbGF5ZXJSZWFkeSA9IGZhbHNlO1xuICAgIGZzQVBJOiBWZ0Z1bGxzY3JlZW5BUEk7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcblxuICAgIH1cblxuICAgIG9uUGxheWVyUmVhZHkoZnNBUEk6IFZnRnVsbHNjcmVlbkFQSSkge1xuICAgICAgICB0aGlzLmZzQVBJID0gZnNBUEk7XG4gICAgICAgIHRoaXMuaXNQbGF5ZXJSZWFkeSA9IHRydWU7XG4gICAgICAgIHRoaXMucGxheWVyUmVhZHlFdmVudC5lbWl0KHRoaXMpO1xuICAgIH1cblxuICAgIGdldERlZmF1bHRNZWRpYSgpOklQbGF5YWJsZSB7XG4gICAgICAgIGZvciAobGV0IGl0ZW0gaW4gdGhpcy5tZWRpYXMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1lZGlhc1tpdGVtXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1lZGlhc1tpdGVtXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldE1hc3Rlck1lZGlhKCk6SVBsYXlhYmxlIHtcbiAgICAgICAgbGV0IG1hc3Rlcjphbnk7XG4gICAgICAgIGZvciAobGV0IGlkIGluIHRoaXMubWVkaWFzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tZWRpYXNbaWRdLnZnTWFzdGVyID09PSAndHJ1ZScgfHwgdGhpcy5tZWRpYXNbaWRdLnZnTWFzdGVyID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgbWFzdGVyID0gdGhpcy5tZWRpYXNbaWRdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXN0ZXIgfHwgdGhpcy5nZXREZWZhdWx0TWVkaWEoKTtcbiAgICB9XG5cbiAgICBpc01hc3RlckRlZmluZWQoKTpib29sZWFuIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBpZCBpbiB0aGlzLm1lZGlhcykge1xuICAgICAgICAgICAgaWYgKHRoaXMubWVkaWFzW2lkXS52Z01hc3RlciA9PT0gJ3RydWUnIHx8IHRoaXMubWVkaWFzW2lkXS52Z01hc3RlciA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBnZXRNZWRpYUJ5SWQoaWQ6c3RyaW5nID0gbnVsbCk6SVBsYXlhYmxlIHtcbiAgICAgICAgbGV0IG1lZGlhID0gdGhpcy5tZWRpYXNbaWRdO1xuXG4gICAgICAgIGlmICghaWQgfHwgaWQgPT09ICcqJykge1xuICAgICAgICAgICAgbWVkaWEgPSB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1lZGlhO1xuICAgIH1cblxuICAgIHBsYXkoKSB7XG4gICAgICAgIGZvciAobGV0IGlkIGluIHRoaXMubWVkaWFzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tZWRpYXNbaWRdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZWRpYXNbIGlkIF0ucGxheSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcGF1c2UoKSB7XG4gICAgICAgIGZvciAobGV0IGlkIGluIHRoaXMubWVkaWFzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tZWRpYXNbaWRdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZWRpYXNbaWRdLnBhdXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgZHVyYXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiQkZ2V0QWxsUHJvcGVydGllcygnZHVyYXRpb24nKTtcbiAgICB9XG5cbiAgICBzZXQgY3VycmVudFRpbWUoc2Vjb25kcykge1xuICAgICAgICB0aGlzLiQkc2V0QWxsUHJvcGVydGllcygnY3VycmVudFRpbWUnLCBzZWNvbmRzKTtcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudFRpbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiQkZ2V0QWxsUHJvcGVydGllcygnY3VycmVudFRpbWUnKTtcbiAgICB9XG5cbiAgICBzZXQgc3RhdGUoc3RhdGUpIHtcbiAgICAgICAgdGhpcy4kJHNldEFsbFByb3BlcnRpZXMoJ3N0YXRlJywgc3RhdGUpO1xuICAgIH1cblxuICAgIGdldCBzdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJCRnZXRBbGxQcm9wZXJ0aWVzKCdzdGF0ZScpO1xuICAgIH1cblxuICAgIHNldCB2b2x1bWUodm9sdW1lKSB7XG4gICAgICAgIHRoaXMuJCRzZXRBbGxQcm9wZXJ0aWVzKCd2b2x1bWUnLCB2b2x1bWUpO1xuICAgIH1cblxuICAgIGdldCB2b2x1bWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiQkZ2V0QWxsUHJvcGVydGllcygndm9sdW1lJyk7XG4gICAgfVxuXG4gICAgc2V0IHBsYXliYWNrUmF0ZShyYXRlKSB7XG4gICAgICAgIHRoaXMuJCRzZXRBbGxQcm9wZXJ0aWVzKCdwbGF5YmFja1JhdGUnLCByYXRlKTtcbiAgICB9XG5cbiAgICBnZXQgcGxheWJhY2tSYXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kJGdldEFsbFByb3BlcnRpZXMoJ3BsYXliYWNrUmF0ZScpO1xuICAgIH1cblxuICAgIGdldCBjYW5QbGF5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kJGdldEFsbFByb3BlcnRpZXMoJ2NhblBsYXknKTtcbiAgICB9XG5cbiAgICBnZXQgY2FuUGxheVRocm91Z2goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiQkZ2V0QWxsUHJvcGVydGllcygnY2FuUGxheVRocm91Z2gnKTtcbiAgICB9XG5cbiAgICBnZXQgaXNNZXRhZGF0YUxvYWRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJCRnZXRBbGxQcm9wZXJ0aWVzKCdpc01ldGFkYXRhTG9hZGVkJyk7XG4gICAgfVxuXG4gICAgZ2V0IGlzV2FpdGluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJCRnZXRBbGxQcm9wZXJ0aWVzKCdpc1dhaXRpbmcnKTtcbiAgICB9XG5cbiAgICBnZXQgaXNDb21wbGV0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiQkZ2V0QWxsUHJvcGVydGllcygnaXNDb21wbGV0ZWQnKTtcbiAgICB9XG5cbiAgICBnZXQgaXNMaXZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kJGdldEFsbFByb3BlcnRpZXMoJ2lzTGl2ZScpO1xuICAgIH1cblxuICAgIGdldCBpc01hc3RlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJCRnZXRBbGxQcm9wZXJ0aWVzKCdpc01hc3RlcicpO1xuICAgIH1cblxuICAgIGdldCB0aW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kJGdldEFsbFByb3BlcnRpZXMoJ3RpbWUnKTtcbiAgICB9XG5cbiAgICBnZXQgYnVmZmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kJGdldEFsbFByb3BlcnRpZXMoJ2J1ZmZlcicpO1xuICAgIH1cblxuICAgIGdldCBidWZmZXJlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJCRnZXRBbGxQcm9wZXJ0aWVzKCdidWZmZXJlZCcpO1xuICAgIH1cblxuICAgIGdldCBzdWJzY3JpcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kJGdldEFsbFByb3BlcnRpZXMoJ3N1YnNjcmlwdGlvbnMnKTtcbiAgICB9XG5cbiAgICBnZXQgdGV4dFRyYWNrcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJCRnZXRBbGxQcm9wZXJ0aWVzKCd0ZXh0VHJhY2tzJyk7XG4gICAgfVxuXG4gICAgc2Vla1RpbWUodmFsdWU6bnVtYmVyLCBieVBlcmNlbnQ6Ym9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICAgIGZvciAobGV0IGlkIGluIHRoaXMubWVkaWFzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tZWRpYXNbaWRdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kJHNlZWsodGhpcy5tZWRpYXNbIGlkIF0sIHZhbHVlLCBieVBlcmNlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgJCRzZWVrKG1lZGlhOklQbGF5YWJsZSwgdmFsdWU6bnVtYmVyLCBieVBlcmNlbnQ6Ym9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICAgIGxldCBzZWNvbmQ6bnVtYmVyO1xuICAgICAgICBsZXQgZHVyYXRpb246bnVtYmVyID0gbWVkaWEuZHVyYXRpb247XG5cbiAgICAgICAgaWYgKGJ5UGVyY2VudCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNNYXN0ZXJEZWZpbmVkKCkpIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IHRoaXMuZ2V0TWFzdGVyTWVkaWEoKS5kdXJhdGlvbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2Vjb25kID0gdmFsdWUgKiBkdXJhdGlvbiAvIDEwMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNlY29uZCA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgbWVkaWEuY3VycmVudFRpbWUgPSBzZWNvbmQ7XG4gICAgfVxuXG4gICAgYWRkVGV4dFRyYWNrKHR5cGU6c3RyaW5nLCBsYWJlbD86c3RyaW5nLCBsYW5ndWFnZT86c3RyaW5nKSB7XG4gICAgICAgIGZvciAobGV0IGlkIGluIHRoaXMubWVkaWFzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tZWRpYXNbaWRdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kJGFkZFRleHRUcmFjayh0aGlzLm1lZGlhc1sgaWQgXSwgdHlwZSwgbGFiZWwsIGxhbmd1YWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAkJGFkZFRleHRUcmFjayhtZWRpYTpJUGxheWFibGUsIHR5cGU6c3RyaW5nLCBsYWJlbD86c3RyaW5nLCBsYW5ndWFnZT86c3RyaW5nKSB7XG4gICAgICAgIG1lZGlhLmFkZFRleHRUcmFjayh0eXBlLCBsYWJlbCwgbGFuZ3VhZ2UpO1xuICAgIH1cblxuICAgICQkZ2V0QWxsUHJvcGVydGllcyhwcm9wZXJ0eTpzdHJpbmcpe1xuICAgICAgICBjb25zdCBtZWRpYXMgPSB7fTtcbiAgICAgICAgbGV0IHJlc3VsdDphbnk7XG5cbiAgICAgICAgZm9yIChsZXQgaWQgaW4gdGhpcy5tZWRpYXMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1lZGlhc1tpZF0pIHtcbiAgICAgICAgICAgICAgICBtZWRpYXNbIGlkIF0gPSB0aGlzLm1lZGlhc1sgaWQgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG5NZWRpYXMgPSBPYmplY3Qua2V5cyhtZWRpYXMpLmxlbmd0aDtcbiAgICAgICAgc3dpdGNoIChuTWVkaWFzKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIGRlZmF1bHQgdmFsdWVzIHVudGlsIHZnTWVkaWEgaXMgaW5pdGlhbGl6ZWRcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHByb3BlcnR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3N0YXRlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFZnU3RhdGVzLlZHX1BBVVNFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3BsYXliYWNrUmF0ZSc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3ZvbHVtZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndGltZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB7Y3VycmVudDogMCwgdG90YWw6IDAsIGxlZnQ6IDB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBvbmx5IG9uZSBtZWRpYSBlbGVtZW50IHRoZW4gcmV0dXJuIHRoZSBwbGFpbiB2YWx1ZVxuICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0TWVkaWFJZCA9IE9iamVjdC5rZXlzKG1lZGlhcylbMF07XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gbWVkaWFzW2ZpcnN0TWVkaWFJZF1bcHJvcGVydHldO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiByZXR1cm4gJ21hc3RlcicgdmFsdWVcbiAgICAgICAgICAgICAgICBsZXQgbWFzdGVyID0gdGhpcy5nZXRNYXN0ZXJNZWRpYSgpO1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IG1lZGlhc1ttYXN0ZXIuaWRdW3Byb3BlcnR5XTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAkJHNldEFsbFByb3BlcnRpZXMocHJvcGVydHk6c3RyaW5nLCB2YWx1ZTphbnkpe1xuICAgICAgICBmb3IgKGxldCBpZCBpbiB0aGlzLm1lZGlhcykge1xuICAgICAgICAgICAgaWYgKHRoaXMubWVkaWFzW2lkXSkge1xuICAgICAgICAgICAgICAgIHRoaXMubWVkaWFzWyBpZCBdWyBwcm9wZXJ0eSBdID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWdpc3RlckVsZW1lbnQoZWxlbTpIVE1MRWxlbWVudCkge1xuICAgICAgICB0aGlzLnZpZGVvZ3VsYXJFbGVtZW50ID0gZWxlbTtcbiAgICB9XG5cbiAgICByZWdpc3Rlck1lZGlhKG1lZGlhOklQbGF5YWJsZSkge1xuICAgICAgICB0aGlzLm1lZGlhc1ttZWRpYS5pZF0gPSBtZWRpYTtcbiAgICB9XG5cbiAgICB1bnJlZ2lzdGVyTWVkaWEobWVkaWE6SVBsYXlhYmxlKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLm1lZGlhc1ttZWRpYS5pZF07XG4gICAgfVxuXG5cbn1cbiJdfQ==","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar vg_utils_1 = require(\"./vg-utils\");\nvar rxjs_1 = require(\"rxjs\");\nvar VgFullscreenAPI = /** @class */ (function () {\n    function VgFullscreenAPI() {\n        this.nativeFullscreen = true;\n        this.isFullscreen = false;\n        this.onChangeFullscreen = new core_1.EventEmitter();\n    }\n    VgFullscreenAPI.prototype.init = function (elem, medias) {\n        var _this = this;\n        this.videogularElement = elem;\n        this.medias = medias;\n        var APIs = {\n            w3: {\n                enabled: 'fullscreenEnabled',\n                element: 'fullscreenElement',\n                request: 'requestFullscreen',\n                exit: 'exitFullscreen',\n                onchange: 'fullscreenchange',\n                onerror: 'fullscreenerror'\n            },\n            newWebkit: {\n                enabled: 'webkitFullscreenEnabled',\n                element: 'webkitFullscreenElement',\n                request: 'webkitRequestFullscreen',\n                exit: 'webkitExitFullscreen',\n                onchange: 'webkitfullscreenchange',\n                onerror: 'webkitfullscreenerror'\n            },\n            oldWebkit: {\n                enabled: 'webkitIsFullScreen',\n                element: 'webkitCurrentFullScreenElement',\n                request: 'webkitRequestFullScreen',\n                exit: 'webkitCancelFullScreen',\n                onchange: 'webkitfullscreenchange',\n                onerror: 'webkitfullscreenerror'\n            },\n            moz: {\n                enabled: 'mozFullScreen',\n                element: 'mozFullScreenElement',\n                request: 'mozRequestFullScreen',\n                exit: 'mozCancelFullScreen',\n                onchange: 'mozfullscreenchange',\n                onerror: 'mozfullscreenerror'\n            },\n            ios: {\n                enabled: 'webkitFullscreenEnabled',\n                element: 'webkitFullscreenElement',\n                request: 'webkitEnterFullscreen',\n                exit: 'webkitExitFullscreen',\n                onchange: 'webkitendfullscreen',\n                onerror: 'webkitfullscreenerror'\n            },\n            ms: {\n                enabled: 'msFullscreenEnabled',\n                element: 'msFullscreenElement',\n                request: 'msRequestFullscreen',\n                exit: 'msExitFullscreen',\n                onchange: 'MSFullscreenChange',\n                onerror: 'MSFullscreenError'\n            }\n        };\n        for (var browser in APIs) {\n            if (APIs[browser].enabled in document) {\n                this.polyfill = APIs[browser];\n                break;\n            }\n        }\n        if (vg_utils_1.VgUtils.isiOSDevice()) {\n            this.polyfill = APIs.ios;\n        }\n        this.isAvailable = (this.polyfill != null);\n        if (this.polyfill == null) {\n            return;\n        }\n        var fsElemDispatcher;\n        switch (this.polyfill.onchange) {\n            // Mozilla dispatches the fullscreen change event from document, not the element\n            // See: https://bugzilla.mozilla.org/show_bug.cgi?id=724816#c3\n            case 'mozfullscreenchange':\n                fsElemDispatcher = document;\n                break;\n            // iOS dispatches the fullscreen change event from video element\n            case 'webkitendfullscreen':\n                fsElemDispatcher = this.medias.toArray()[0].elem;\n                break;\n            // HTML5 implementation dispatches the fullscreen change event from the element\n            default:\n                fsElemDispatcher = elem;\n        }\n        this.fsChangeSubscription = rxjs_1.fromEvent(fsElemDispatcher, this.polyfill.onchange).subscribe(function () {\n            _this.onFullscreenChange();\n        });\n    };\n    VgFullscreenAPI.prototype.onFullscreenChange = function () {\n        this.isFullscreen = !!document[this.polyfill.element];\n        this.onChangeFullscreen.emit(this.isFullscreen);\n    };\n    VgFullscreenAPI.prototype.toggleFullscreen = function (element) {\n        if (element === void 0) { element = null; }\n        if (this.isFullscreen) {\n            this.exit();\n        }\n        else {\n            this.request(element);\n        }\n    };\n    VgFullscreenAPI.prototype.request = function (elem) {\n        if (!elem) {\n            elem = this.videogularElement;\n        }\n        this.isFullscreen = true;\n        this.onChangeFullscreen.emit(true);\n        // Perform native full screen support\n        if (this.isAvailable && this.nativeFullscreen) {\n            // Fullscreen for mobile devices\n            if (vg_utils_1.VgUtils.isMobileDevice()) {\n                // We should make fullscreen the video object if it doesn't have native fullscreen support\n                // Fallback! We can't set vg-player on fullscreen, only video/audio objects\n                if ((!this.polyfill.enabled && elem === this.videogularElement) || vg_utils_1.VgUtils.isiOSDevice()) {\n                    elem = this.medias.toArray()[0].elem;\n                }\n                this.enterElementInFullScreen(elem);\n            }\n            else {\n                this.enterElementInFullScreen(this.videogularElement);\n            }\n        }\n    };\n    VgFullscreenAPI.prototype.enterElementInFullScreen = function (elem) {\n        elem[this.polyfill.request]();\n    };\n    VgFullscreenAPI.prototype.exit = function () {\n        this.isFullscreen = false;\n        this.onChangeFullscreen.emit(false);\n        // Exit from native fullscreen\n        if (this.isAvailable && this.nativeFullscreen) {\n            document[this.polyfill.exit]();\n        }\n    };\n    VgFullscreenAPI = __decorate([\n        core_1.Injectable(),\n        __metadata(\"design:paramtypes\", [])\n    ], VgFullscreenAPI);\n    return VgFullscreenAPI;\n}());\nexports.VgFullscreenAPI = VgFullscreenAPI;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmctZnVsbHNjcmVlbi1hcGkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY29yZS9zZXJ2aWNlcy92Zy1mdWxsc2NyZWVuLWFwaS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBLHNDQUFvRTtBQUNwRSx1Q0FBcUM7QUFFckMsNkJBQStDO0FBRy9DO0lBYUk7UUFUQSxxQkFBZ0IsR0FBRyxJQUFJLENBQUM7UUFDeEIsaUJBQVksR0FBRyxLQUFLLENBQUM7UUFNckIsdUJBQWtCLEdBQXNCLElBQUksbUJBQVksRUFBRSxDQUFDO0lBRzNELENBQUM7SUFFRCw4QkFBSSxHQUFKLFVBQUssSUFBaUIsRUFBRSxNQUEwQjtRQUFsRCxpQkE4RkM7UUE3RkcsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQztRQUM5QixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztRQUVyQixJQUFNLElBQUksR0FBRztZQUNULEVBQUUsRUFBRTtnQkFDQSxPQUFPLEVBQUUsbUJBQW1CO2dCQUM1QixPQUFPLEVBQUUsbUJBQW1CO2dCQUM1QixPQUFPLEVBQUUsbUJBQW1CO2dCQUM1QixJQUFJLEVBQUUsZ0JBQWdCO2dCQUN0QixRQUFRLEVBQUUsa0JBQWtCO2dCQUM1QixPQUFPLEVBQUUsaUJBQWlCO2FBQzdCO1lBQ0QsU0FBUyxFQUFFO2dCQUNQLE9BQU8sRUFBRSx5QkFBeUI7Z0JBQ2xDLE9BQU8sRUFBRSx5QkFBeUI7Z0JBQ2xDLE9BQU8sRUFBRSx5QkFBeUI7Z0JBQ2xDLElBQUksRUFBRSxzQkFBc0I7Z0JBQzVCLFFBQVEsRUFBRSx3QkFBd0I7Z0JBQ2xDLE9BQU8sRUFBRSx1QkFBdUI7YUFDbkM7WUFDRCxTQUFTLEVBQUU7Z0JBQ1AsT0FBTyxFQUFFLG9CQUFvQjtnQkFDN0IsT0FBTyxFQUFFLGdDQUFnQztnQkFDekMsT0FBTyxFQUFFLHlCQUF5QjtnQkFDbEMsSUFBSSxFQUFFLHdCQUF3QjtnQkFD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LENBQUMsUUFBUSxDQUFDLElBQUksQ0FBRSxFQUFFLENBQUM7U0FDcEM7SUFDTCxDQUFDO0lBcEtRLGVBQWU7UUFEM0IsaUJBQVUsRUFBRTs7T0FDQSxlQUFlLENBcUszQjtJQUFELHNCQUFDO0NBQUEsQUFyS0QsSUFxS0M7QUFyS1ksMENBQWUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFdmVudEVtaXR0ZXIsIEluamVjdGFibGUsIFF1ZXJ5TGlzdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVmdVdGlscyB9IGZyb20gJy4vdmctdXRpbHMnO1xuaW1wb3J0IHsgVmdNZWRpYSB9IGZyb20gJy4uL3ZnLW1lZGlhL3ZnLW1lZGlhJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiwgZnJvbUV2ZW50IH0gZnJvbSAncnhqcyc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBWZ0Z1bGxzY3JlZW5BUEkge1xuICAgIHBvbHlmaWxsOiBhbnk7XG4gICAgb25jaGFuZ2U6IHN0cmluZztcbiAgICBvbmVycm9yOiBzdHJpbmc7XG4gICAgbmF0aXZlRnVsbHNjcmVlbiA9IHRydWU7XG4gICAgaXNGdWxsc2NyZWVuID0gZmFsc2U7XG4gICAgaXNBdmFpbGFibGU6IGJvb2xlYW47XG4gICAgdmlkZW9ndWxhckVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgIG1lZGlhczogUXVlcnlMaXN0PFZnTWVkaWE+O1xuXG4gICAgZnNDaGFuZ2VTdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbjtcbiAgICBvbkNoYW5nZUZ1bGxzY3JlZW46IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgfVxuXG4gICAgaW5pdChlbGVtOiBIVE1MRWxlbWVudCwgbWVkaWFzOiBRdWVyeUxpc3Q8VmdNZWRpYT4pIHtcbiAgICAgICAgdGhpcy52aWRlb2d1bGFyRWxlbWVudCA9IGVsZW07XG4gICAgICAgIHRoaXMubWVkaWFzID0gbWVkaWFzO1xuXG4gICAgICAgIGNvbnN0IEFQSXMgPSB7XG4gICAgICAgICAgICB3Mzoge1xuICAgICAgICAgICAgICAgIGVuYWJsZWQ6ICdmdWxsc2NyZWVuRW5hYmxlZCcsXG4gICAgICAgICAgICAgICAgZWxlbWVudDogJ2Z1bGxzY3JlZW5FbGVtZW50JyxcbiAgICAgICAgICAgICAgICByZXF1ZXN0OiAncmVxdWVzdEZ1bGxzY3JlZW4nLFxuICAgICAgICAgICAgICAgIGV4aXQ6ICdleGl0RnVsbHNjcmVlbicsXG4gICAgICAgICAgICAgICAgb25jaGFuZ2U6ICdmdWxsc2NyZWVuY2hhbmdlJyxcbiAgICAgICAgICAgICAgICBvbmVycm9yOiAnZnVsbHNjcmVlbmVycm9yJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5ld1dlYmtpdDoge1xuICAgICAgICAgICAgICAgIGVuYWJsZWQ6ICd3ZWJraXRGdWxsc2NyZWVuRW5hYmxlZCcsXG4gICAgICAgICAgICAgICAgZWxlbWVudDogJ3dlYmtpdEZ1bGxzY3JlZW5FbGVtZW50JyxcbiAgICAgICAgICAgICAgICByZXF1ZXN0OiAnd2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4nLFxuICAgICAgICAgICAgICAgIGV4aXQ6ICd3ZWJraXRFeGl0RnVsbHNjcmVlbicsXG4gICAgICAgICAgICAgICAgb25jaGFuZ2U6ICd3ZWJraXRmdWxsc2NyZWVuY2hhbmdlJyxcbiAgICAgICAgICAgICAgICBvbmVycm9yOiAnd2Via2l0ZnVsbHNjcmVlbmVycm9yJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9sZFdlYmtpdDoge1xuICAgICAgICAgICAgICAgIGVuYWJsZWQ6ICd3ZWJraXRJc0Z1bGxTY3JlZW4nLFxuICAgICAgICAgICAgICAgIGVsZW1lbnQ6ICd3ZWJraXRDdXJyZW50RnVsbFNjcmVlbkVsZW1lbnQnLFxuICAgICAgICAgICAgICAgIHJlcXVlc3Q6ICd3ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbicsXG4gICAgICAgICAgICAgICAgZXhpdDogJ3dlYmtpdENhbmNlbEZ1bGxTY3JlZW4nLFxuICAgICAgICAgICAgICAgIG9uY2hhbmdlOiAnd2Via2l0ZnVsbHNjcmVlbmNoYW5nZScsXG4gICAgICAgICAgICAgICAgb25lcnJvcjogJ3dlYmtpdGZ1bGxzY3JlZW5lcnJvcidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtb3o6IHtcbiAgICAgICAgICAgICAgICBlbmFibGVkOiAnbW96RnVsbFNjcmVlbicsXG4gICAgICAgICAgICAgICAgZWxlbWVudDogJ21vekZ1bGxTY3JlZW5FbGVtZW50JyxcbiAgICAgICAgICAgICAgICByZXF1ZXN0OiAnbW96UmVxdWVzdEZ1bGxTY3JlZW4nLFxuICAgICAgICAgICAgICAgIGV4aXQ6ICdtb3pDYW5jZWxGdWxsU2NyZWVuJyxcbiAgICAgICAgICAgICAgICBvbmNoYW5nZTogJ21vemZ1bGxzY3JlZW5jaGFuZ2UnLFxuICAgICAgICAgICAgICAgIG9uZXJyb3I6ICdtb3pmdWxsc2NyZWVuZXJyb3InXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW9zOiB7XG4gICAgICAgICAgICAgICAgZW5hYmxlZDogJ3dlYmtpdEZ1bGxzY3JlZW5FbmFibGVkJyxcbiAgICAgICAgICAgICAgICBlbGVtZW50OiAnd2Via2l0RnVsbHNjcmVlbkVsZW1lbnQnLFxuICAgICAgICAgICAgICAgIHJlcXVlc3Q6ICd3ZWJraXRFbnRlckZ1bGxzY3JlZW4nLFxuICAgICAgICAgICAgICAgIGV4aXQ6ICd3ZWJraXRFeGl0RnVsbHNjcmVlbicsXG4gICAgICAgICAgICAgICAgb25jaGFuZ2U6ICd3ZWJraXRlbmRmdWxsc2NyZWVuJywgLy8gSGFjayBmb3IgaU9TOiB3ZWJraXRmdWxsc2NyZWVuY2hhbmdlIGl0J3Mgbm90IGZpcmluZ1xuICAgICAgICAgICAgICAgIG9uZXJyb3I6ICd3ZWJraXRmdWxsc2NyZWVuZXJyb3InXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbXM6IHtcbiAgICAgICAgICAgICAgICBlbmFibGVkOiAnbXNGdWxsc2NyZWVuRW5hYmxlZCcsXG4gICAgICAgICAgICAgICAgZWxlbWVudDogJ21zRnVsbHNjcmVlbkVsZW1lbnQnLFxuICAgICAgICAgICAgICAgIHJlcXVlc3Q6ICdtc1JlcXVlc3RGdWxsc2NyZWVuJyxcbiAgICAgICAgICAgICAgICBleGl0OiAnbXNFeGl0RnVsbHNjcmVlbicsXG4gICAgICAgICAgICAgICAgb25jaGFuZ2U6ICdNU0Z1bGxzY3JlZW5DaGFuZ2UnLFxuICAgICAgICAgICAgICAgIG9uZXJyb3I6ICdNU0Z1bGxzY3JlZW5FcnJvcidcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKGxldCBicm93c2VyIGluIEFQSXMpIHtcbiAgICAgICAgICAgIGlmIChBUElzWyBicm93c2VyIF0uZW5hYmxlZCBpbiBkb2N1bWVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucG9seWZpbGwgPSBBUElzWyBicm93c2VyIF07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoVmdVdGlscy5pc2lPU0RldmljZSgpKSB7XG4gICAgICAgICAgICB0aGlzLnBvbHlmaWxsID0gQVBJcy5pb3M7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlzQXZhaWxhYmxlID0gKHRoaXMucG9seWZpbGwgIT0gbnVsbCk7XG5cbiAgICAgICAgaWYgKHRoaXMucG9seWZpbGwgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGZzRWxlbURpc3BhdGNoZXI7XG5cbiAgICAgICAgc3dpdGNoICh0aGlzLnBvbHlmaWxsLm9uY2hhbmdlKSB7XG4gICAgICAgICAgICAvLyBNb3ppbGxhIGRpc3BhdGNoZXMgdGhlIGZ1bGxzY3JlZW4gY2hhbmdlIGV2ZW50IGZyb20gZG9jdW1lbnQsIG5vdCB0aGUgZWxlbWVudFxuICAgICAgICAgICAgLy8gU2VlOiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD03MjQ4MTYjYzNcbiAgICAgICAgICAgIGNhc2UgJ21vemZ1bGxzY3JlZW5jaGFuZ2UnOlxuICAgICAgICAgICAgICAgIGZzRWxlbURpc3BhdGNoZXIgPSBkb2N1bWVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gaU9TIGRpc3BhdGNoZXMgdGhlIGZ1bGxzY3JlZW4gY2hhbmdlIGV2ZW50IGZyb20gdmlkZW8gZWxlbWVudFxuICAgICAgICAgICAgY2FzZSAnd2Via2l0ZW5kZnVsbHNjcmVlbic6XG4gICAgICAgICAgICAgICAgZnNFbGVtRGlzcGF0Y2hlciA9IHRoaXMubWVkaWFzLnRvQXJyYXkoKVsgMCBdLmVsZW07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIC8vIEhUTUw1IGltcGxlbWVudGF0aW9uIGRpc3BhdGNoZXMgdGhlIGZ1bGxzY3JlZW4gY2hhbmdlIGV2ZW50IGZyb20gdGhlIGVsZW1lbnRcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgZnNFbGVtRGlzcGF0Y2hlciA9IGVsZW07XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZzQ2hhbmdlU3Vic2NyaXB0aW9uID0gZnJvbUV2ZW50KGZzRWxlbURpc3BhdGNoZXIsIHRoaXMucG9seWZpbGwub25jaGFuZ2UpLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uRnVsbHNjcmVlbkNoYW5nZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvbkZ1bGxzY3JlZW5DaGFuZ2UoKSB7XG4gICAgICAgIHRoaXMuaXNGdWxsc2NyZWVuID0gISFkb2N1bWVudFsgdGhpcy5wb2x5ZmlsbC5lbGVtZW50IF07XG4gICAgICAgIHRoaXMub25DaGFuZ2VGdWxsc2NyZWVuLmVtaXQodGhpcy5pc0Z1bGxzY3JlZW4pO1xuICAgIH1cblxuICAgIHRvZ2dsZUZ1bGxzY3JlZW4oZWxlbWVudDogYW55ID0gbnVsbCkge1xuICAgICAgICBpZiAodGhpcy5pc0Z1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgIHRoaXMuZXhpdCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0KGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVxdWVzdChlbGVtOiBhbnkpIHtcbiAgICAgICAgaWYgKCFlbGVtKSB7XG4gICAgICAgICAgICBlbGVtID0gdGhpcy52aWRlb2d1bGFyRWxlbWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNGdWxsc2NyZWVuID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vbkNoYW5nZUZ1bGxzY3JlZW4uZW1pdCh0cnVlKTtcblxuICAgICAgICAvLyBQZXJmb3JtIG5hdGl2ZSBmdWxsIHNjcmVlbiBzdXBwb3J0XG4gICAgICAgIGlmICh0aGlzLmlzQXZhaWxhYmxlICYmIHRoaXMubmF0aXZlRnVsbHNjcmVlbikge1xuICAgICAgICAgICAgLy8gRnVsbHNjcmVlbiBmb3IgbW9iaWxlIGRldmljZXNcbiAgICAgICAgICAgIGlmIChWZ1V0aWxzLmlzTW9iaWxlRGV2aWNlKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBzaG91bGQgbWFrZSBmdWxsc2NyZWVuIHRoZSB2aWRlbyBvYmplY3QgaWYgaXQgZG9lc24ndCBoYXZlIG5hdGl2ZSBmdWxsc2NyZWVuIHN1cHBvcnRcbiAgICAgICAgICAgICAgICAvLyBGYWxsYmFjayEgV2UgY2FuJ3Qgc2V0IHZnLXBsYXllciBvbiBmdWxsc2NyZWVuLCBvbmx5IHZpZGVvL2F1ZGlvIG9iamVjdHNcbiAgICAgICAgICAgICAgICBpZiAoKCF0aGlzLnBvbHlmaWxsLmVuYWJsZWQgJiYgZWxlbSA9PT0gdGhpcy52aWRlb2d1bGFyRWxlbWVudCkgfHwgVmdVdGlscy5pc2lPU0RldmljZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW0gPSB0aGlzLm1lZGlhcy50b0FycmF5KClbIDAgXS5lbGVtO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuZW50ZXJFbGVtZW50SW5GdWxsU2NyZWVuKGVsZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbnRlckVsZW1lbnRJbkZ1bGxTY3JlZW4odGhpcy52aWRlb2d1bGFyRWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbnRlckVsZW1lbnRJbkZ1bGxTY3JlZW4oZWxlbTogYW55KSB7XG4gICAgICAgIGVsZW1bIHRoaXMucG9seWZpbGwucmVxdWVzdCBdKCk7XG4gICAgfVxuXG4gICAgZXhpdCgpIHtcbiAgICAgICAgdGhpcy5pc0Z1bGxzY3JlZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vbkNoYW5nZUZ1bGxzY3JlZW4uZW1pdChmYWxzZSk7XG5cbiAgICAgICAgLy8gRXhpdCBmcm9tIG5hdGl2ZSBmdWxsc2NyZWVuXG4gICAgICAgIGlmICh0aGlzLmlzQXZhaWxhYmxlICYmIHRoaXMubmF0aXZlRnVsbHNjcmVlbikge1xuICAgICAgICAgICAgZG9jdW1lbnRbIHRoaXMucG9seWZpbGwuZXhpdCBdKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXX0=","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar vg_api_1 = require(\"../core/services/vg-api\");\nvar VgBuffering = /** @class */ (function () {\n    function VgBuffering(ref, API) {\n        this.API = API;\n        this.checkInterval = 50;\n        this.currentPlayPos = 0;\n        this.lastPlayPos = 0;\n        this.subscriptions = [];\n        this.isBuffering = false;\n        this.elem = ref.nativeElement;\n    }\n    VgBuffering.prototype.ngOnInit = function () {\n        var _this = this;\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(function () { return _this.onPlayerReady(); }));\n        }\n    };\n    VgBuffering.prototype.onPlayerReady = function () {\n        var _this = this;\n        this.target = this.API.getMediaById(this.vgFor);\n        this.subscriptions.push(this.target.subscriptions.bufferDetected.subscribe(function (isBuffering) { return _this.onUpdateBuffer(isBuffering); }));\n    };\n    VgBuffering.prototype.onUpdateBuffer = function (isBuffering) {\n        this.isBuffering = isBuffering;\n    };\n    VgBuffering.prototype.ngOnDestroy = function () {\n        this.subscriptions.forEach(function (s) { return s.unsubscribe(); });\n    };\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", String)\n    ], VgBuffering.prototype, \"vgFor\", void 0);\n    __decorate([\n        core_1.HostBinding('class.is-buffering'),\n        __metadata(\"design:type\", Object)\n    ], VgBuffering.prototype, \"isBuffering\", void 0);\n    VgBuffering = __decorate([\n        core_1.Component({\n            selector: 'vg-buffering',\n            encapsulation: core_1.ViewEncapsulation.None,\n            template: \"<div class=\\\"vg-buffering\\\">\\n            <div class=\\\"bufferingContainer\\\">\\n                <div class=\\\"loadingSpinner\\\"></div>\\n            </div>\\n        </div>\",\n            styles: [\"\\n        vg-buffering {\\n            display: none;\\n            z-index: 201;\\n        }\\n\\n        vg-buffering.is-buffering {\\n            display: block;\\n        }\\n        \\n        .vg-buffering {\\n            position: absolute;\\n            display: block;\\n            width: 100%;\\n            height: 100%;\\n        }\\n\\n        .vg-buffering .bufferingContainer {\\n            width: 100%;\\n            position: absolute;\\n            cursor: pointer;\\n            top: 50%;\\n            margin-top: -50px;\\n\\n            zoom: 1;\\n            filter: alpha(opacity=60);\\n            opacity: 0.6;\\n        }\\n\\n        /* Loading Spinner\\n        * http://www.alessioatzeni.com/blog/css3-loading-animation-loop/\\n        */\\n        .vg-buffering .loadingSpinner {\\n            background-color: rgba(0, 0, 0, 0);\\n            border: 5px solid rgba(255, 255, 255, 1);\\n            opacity: .9;\\n            border-top: 5px solid rgba(0, 0, 0, 0);\\n            border-left: 5px solid rgba(0, 0, 0, 0);\\n            border-radius: 50px;\\n            box-shadow: 0 0 35px #FFFFFF;\\n            width: 50px;\\n            height: 50px;\\n            margin: 0 auto;\\n            -moz-animation: spin .5s infinite linear;\\n            -webkit-animation: spin .5s infinite linear;\\n        }\\n\\n        .vg-buffering .loadingSpinner .stop {\\n            -webkit-animation-play-state: paused;\\n            -moz-animation-play-state: paused;\\n        }\\n\\n        @-moz-keyframes spin {\\n            0% {\\n                -moz-transform: rotate(0deg);\\n            }\\n            100% {\\n                -moz-transform: rotate(360deg);\\n            }\\n        }\\n\\n        @-moz-keyframes spinoff {\\n            0% {\\n                -moz-transform: rotate(0deg);\\n            }\\n            100% {\\n                -moz-transform: rotate(-360deg);\\n            }\\n        }\\n\\n        @-webkit-keyframes spin {\\n            0% {\\n                -webkit-transform: rotate(0deg);\\n            }\\n            100% {\\n                -webkit-transform: rotate(360deg);\\n            }\\n        }\\n\\n        @-webkit-keyframes spinoff {\\n            0% {\\n                -webkit-transform: rotate(0deg);\\n            }\\n            100% {\\n                -webkit-transform: rotate(-360deg);\\n            }\\n        }\\n    \"]\n        }),\n        __metadata(\"design:paramtypes\", [core_1.ElementRef, vg_api_1.VgAPI])\n    ], VgBuffering);\n    return VgBuffering;\n}());\nexports.VgBuffering = VgBuffering;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmctYnVmZmVyaW5nLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2J1ZmZlcmluZy92Zy1idWZmZXJpbmcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxzQ0FBZ0g7QUFDaEgsa0RBQWdEO0FBcUdoRDtJQWFJLHFCQUFZLEdBQWUsRUFBUyxHQUFVO1FBQVYsUUFBRyxHQUFILEdBQUcsQ0FBTztRQVI5QyxrQkFBYSxHQUFHLEVBQUUsQ0FBQztRQUNuQixtQkFBYyxHQUFHLENBQUMsQ0FBQztRQUNuQixnQkFBVyxHQUFHLENBQUMsQ0FBQztRQUVoQixrQkFBYSxHQUFtQixFQUFFLENBQUM7UUFFQSxnQkFBVyxHQUFHLEtBQUssQ0FBQztRQUduRCxJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxhQUFhLENBQUM7SUFDbEMsQ0FBQztJQUVELDhCQUFRLEdBQVI7UUFBQSxpQkFTQztRQVJHLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUU7WUFDeEIsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1NBQ3hCO2FBQ0k7WUFDRCxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FDbkIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLENBQUMsY0FBTSxPQUFBLEtBQUksQ0FBQyxhQUFhLEVBQUUsRUFBcEIsQ0FBb0IsQ0FBQyxDQUNsRSxDQUFDO1NBQ0w7SUFDTCxDQUFDO0lBRUQsbUNBQWEsR0FBYjtRQUFBLGlCQVFDO1FBUEcsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFaEQsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQ25CLElBQUksQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQzlDLFVBQUEsV0FBVyxJQUFJLE9BQUEsS0FBSSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsRUFBaEMsQ0FBZ0MsQ0FDbEQsQ0FDSixDQUFDO0lBQ04sQ0FBQztJQUVELG9DQUFjLEdBQWQsVUFBZSxXQUFXO1FBQ3RCLElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFDO0lBQ25DLENBQUM7SUFFRCxpQ0FBVyxHQUFYO1FBQ0ksSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxDQUFDLENBQUMsV0FBVyxFQUFFLEVBQWYsQ0FBZSxDQUFDLENBQUM7SUFDckQsQ0FBQztJQTNDUTtRQUFSLFlBQUssRUFBRTs7OENBQWU7SUFVWTtRQUFsQyxrQkFBVyxDQUFDLG9CQUFvQixDQUFDOztvREFBcUI7SUFYOUMsV0FBVztRQWpHdkIsZ0JBQVMsQ0FBQztZQUNQLFFBQVEsRUFBRSxjQUFjO1lBQ3hCLGFBQWEsRUFBRSx3QkFBaUIsQ0FBQyxJQUFJO1lBQ3JDLFFBQVEsRUFBRSx3S0FJQztZQUNYLE1BQU0sRUFBRSxDQUFFLHl4RUF1RlQsQ0FBRTtTQUNOLENBQUM7eUNBY21CLGlCQUFVLEVBQWMsY0FBSztPQWJyQyxXQUFXLENBNkN2QjtJQUFELGtCQUFDO0NBQUEsQUE3Q0QsSUE2Q0M7QUE3Q1ksa0NBQVciLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIEVsZW1lbnRSZWYsIEhvc3RCaW5kaW5nLCBJbnB1dCwgT25EZXN0cm95LCBPbkluaXQsIFZpZXdFbmNhcHN1bGF0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBWZ0FQSSB9IGZyb20gJy4uL2NvcmUvc2VydmljZXMvdmctYXBpJztcbmltcG9ydCB7IElQbGF5YWJsZSB9IGZyb20gJy4uL2NvcmUvdmctbWVkaWEvaS1wbGF5YWJsZSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICd2Zy1idWZmZXJpbmcnLFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gICAgdGVtcGxhdGU6IGA8ZGl2IGNsYXNzPVwidmctYnVmZmVyaW5nXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnVmZmVyaW5nQ29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxvYWRpbmdTcGlubmVyXCI+PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+YCxcbiAgICBzdHlsZXM6IFsgYFxuICAgICAgICB2Zy1idWZmZXJpbmcge1xuICAgICAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgICAgICAgIHotaW5kZXg6IDIwMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZnLWJ1ZmZlcmluZy5pcy1idWZmZXJpbmcge1xuICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC52Zy1idWZmZXJpbmcge1xuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgfVxuXG4gICAgICAgIC52Zy1idWZmZXJpbmcgLmJ1ZmZlcmluZ0NvbnRhaW5lciB7XG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICAgIHRvcDogNTAlO1xuICAgICAgICAgICAgbWFyZ2luLXRvcDogLTUwcHg7XG5cbiAgICAgICAgICAgIHpvb206IDE7XG4gICAgICAgICAgICBmaWx0ZXI6IGFscGhhKG9wYWNpdHk9NjApO1xuICAgICAgICAgICAgb3BhY2l0eTogMC42O1xuICAgICAgICB9XG5cbiAgICAgICAgLyogTG9hZGluZyBTcGlubmVyXG4gICAgICAgICogaHR0cDovL3d3dy5hbGVzc2lvYXR6ZW5pLmNvbS9ibG9nL2NzczMtbG9hZGluZy1hbmltYXRpb24tbG9vcC9cbiAgICAgICAgKi9cbiAgICAgICAgLnZnLWJ1ZmZlcmluZyAubG9hZGluZ1NwaW5uZXIge1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwKTtcbiAgICAgICAgICAgIGJvcmRlcjogNXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMSk7XG4gICAgICAgICAgICBvcGFjaXR5OiAuOTtcbiAgICAgICAgICAgIGJvcmRlci10b3A6IDVweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDApO1xuICAgICAgICAgICAgYm9yZGVyLWxlZnQ6IDVweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDApO1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTBweDtcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMCAzNXB4ICNGRkZGRkY7XG4gICAgICAgICAgICB3aWR0aDogNTBweDtcbiAgICAgICAgICAgIGhlaWdodDogNTBweDtcbiAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvO1xuICAgICAgICAgICAgLW1vei1hbmltYXRpb246IHNwaW4gLjVzIGluZmluaXRlIGxpbmVhcjtcbiAgICAgICAgICAgIC13ZWJraXQtYW5pbWF0aW9uOiBzcGluIC41cyBpbmZpbml0ZSBsaW5lYXI7XG4gICAgICAgIH1cblxuICAgICAgICAudmctYnVmZmVyaW5nIC5sb2FkaW5nU3Bpbm5lciAuc3RvcCB7XG4gICAgICAgICAgICAtd2Via2l0LWFuaW1hdGlvbi1wbGF5LXN0YXRlOiBwYXVzZWQ7XG4gICAgICAgICAgICAtbW96LWFuaW1hdGlvbi1wbGF5LXN0YXRlOiBwYXVzZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBALW1vei1rZXlmcmFtZXMgc3BpbiB7XG4gICAgICAgICAgICAwJSB7XG4gICAgICAgICAgICAgICAgLW1vei10cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDEwMCUge1xuICAgICAgICAgICAgICAgIC1tb3otdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIEAtbW96LWtleWZyYW1lcyBzcGlub2ZmIHtcbiAgICAgICAgICAgIDAlIHtcbiAgICAgICAgICAgICAgICAtbW96LXRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgMTAwJSB7XG4gICAgICAgICAgICAgICAgLW1vei10cmFuc2Zvcm06IHJvdGF0ZSgtMzYwZGVnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIEAtd2Via2l0LWtleWZyYW1lcyBzcGluIHtcbiAgICAgICAgICAgIDAlIHtcbiAgICAgICAgICAgICAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgMTAwJSB7XG4gICAgICAgICAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgQC13ZWJraXQta2V5ZnJhbWVzIHNwaW5vZmYge1xuICAgICAgICAgICAgMCUge1xuICAgICAgICAgICAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAxMDAlIHtcbiAgICAgICAgICAgICAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKC0zNjBkZWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgYCBdXG59KVxuZXhwb3J0IGNsYXNzIFZnQnVmZmVyaW5nIGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3kge1xuICAgIEBJbnB1dCgpIHZnRm9yOiBzdHJpbmc7XG5cbiAgICBlbGVtOiBIVE1MRWxlbWVudDtcbiAgICB0YXJnZXQ6IElQbGF5YWJsZTtcbiAgICBjaGVja0ludGVydmFsID0gNTA7XG4gICAgY3VycmVudFBsYXlQb3MgPSAwO1xuICAgIGxhc3RQbGF5UG9zID0gMDtcblxuICAgIHN1YnNjcmlwdGlvbnM6IFN1YnNjcmlwdGlvbltdID0gW107XG5cbiAgICBASG9zdEJpbmRpbmcoJ2NsYXNzLmlzLWJ1ZmZlcmluZycpIGlzQnVmZmVyaW5nID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihyZWY6IEVsZW1lbnRSZWYsIHB1YmxpYyBBUEk6IFZnQVBJKSB7XG4gICAgICAgIHRoaXMuZWxlbSA9IHJlZi5uYXRpdmVFbGVtZW50O1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICBpZiAodGhpcy5BUEkuaXNQbGF5ZXJSZWFkeSkge1xuICAgICAgICAgICAgdGhpcy5vblBsYXllclJlYWR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaChcbiAgICAgICAgICAgICAgICB0aGlzLkFQSS5wbGF5ZXJSZWFkeUV2ZW50LnN1YnNjcmliZSgoKSA9PiB0aGlzLm9uUGxheWVyUmVhZHkoKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblBsYXllclJlYWR5KCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRoaXMuQVBJLmdldE1lZGlhQnlJZCh0aGlzLnZnRm9yKTtcblxuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaChcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0LnN1YnNjcmlwdGlvbnMuYnVmZmVyRGV0ZWN0ZWQuc3Vic2NyaWJlKFxuICAgICAgICAgICAgICAgIGlzQnVmZmVyaW5nID0+IHRoaXMub25VcGRhdGVCdWZmZXIoaXNCdWZmZXJpbmcpXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgb25VcGRhdGVCdWZmZXIoaXNCdWZmZXJpbmcpIHtcbiAgICAgICAgdGhpcy5pc0J1ZmZlcmluZyA9IGlzQnVmZmVyaW5nO1xuICAgIH1cblxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMuZm9yRWFjaChzID0+IHMudW5zdWJzY3JpYmUoKSk7XG4gICAgfVxufVxuIl19","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar vg_api_1 = require(\"../core/services/vg-api\");\nvar vg_controls_hidden_1 = require(\"./../core/services/vg-controls-hidden\");\nvar vg_states_1 = require(\"../core/states/vg-states\");\nvar rxjs_1 = require(\"rxjs\");\nvar VgControls = /** @class */ (function () {\n    // @ts-ignore\n    function VgControls(API, ref, hidden) {\n        this.API = API;\n        this.ref = ref;\n        this.hidden = hidden;\n        this.isAdsPlaying = 'initial';\n        this.hideControls = false;\n        this.vgAutohide = false;\n        this.vgAutohideTime = 3;\n        this.subscriptions = [];\n        this.elem = ref.nativeElement;\n    }\n    VgControls.prototype.ngOnInit = function () {\n        var _this = this;\n        this.mouseMove$ = rxjs_1.fromEvent(this.API.videogularElement, 'mousemove');\n        this.subscriptions.push(this.mouseMove$.subscribe(this.show.bind(this)));\n        this.touchStart$ = rxjs_1.fromEvent(this.API.videogularElement, 'touchstart');\n        this.subscriptions.push(this.touchStart$.subscribe(this.show.bind(this)));\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(function () { return _this.onPlayerReady(); }));\n        }\n    };\n    VgControls.prototype.onPlayerReady = function () {\n        this.target = this.API.getMediaById(this.vgFor);\n        this.subscriptions.push(this.target.subscriptions.play.subscribe(this.onPlay.bind(this)));\n        this.subscriptions.push(this.target.subscriptions.pause.subscribe(this.onPause.bind(this)));\n        this.subscriptions.push(this.target.subscriptions.startAds.subscribe(this.onStartAds.bind(this)));\n        this.subscriptions.push(this.target.subscriptions.endAds.subscribe(this.onEndAds.bind(this)));\n    };\n    VgControls.prototype.ngAfterViewInit = function () {\n        if (this.vgAutohide) {\n            this.hide();\n        }\n        else {\n            this.show();\n        }\n    };\n    VgControls.prototype.onPlay = function () {\n        if (this.vgAutohide) {\n            this.hide();\n        }\n    };\n    VgControls.prototype.onPause = function () {\n        clearTimeout(this.timer);\n        this.hideControls = false;\n        this.hidden.state(false);\n    };\n    VgControls.prototype.onStartAds = function () {\n        this.isAdsPlaying = 'none';\n    };\n    VgControls.prototype.onEndAds = function () {\n        this.isAdsPlaying = 'initial';\n    };\n    VgControls.prototype.hide = function () {\n        if (this.vgAutohide) {\n            clearTimeout(this.timer);\n            this.hideAsync();\n        }\n    };\n    VgControls.prototype.show = function () {\n        clearTimeout(this.timer);\n        this.hideControls = false;\n        this.hidden.state(false);\n        if (this.vgAutohide) {\n            this.hideAsync();\n        }\n    };\n    VgControls.prototype.hideAsync = function () {\n        var _this = this;\n        if (this.API.state === vg_states_1.VgStates.VG_PLAYING) {\n            this.timer = setTimeout(function () {\n                _this.hideControls = true;\n                _this.hidden.state(true);\n            }, this.vgAutohideTime * 1000);\n        }\n    };\n    VgControls.prototype.ngOnDestroy = function () {\n        this.subscriptions.forEach(function (s) { return s.unsubscribe(); });\n    };\n    __decorate([\n        core_1.HostBinding('style.pointer-events'),\n        __metadata(\"design:type\", Object)\n    ], VgControls.prototype, \"isAdsPlaying\", void 0);\n    __decorate([\n        core_1.HostBinding('class.hide'),\n        __metadata(\"design:type\", Object)\n    ], VgControls.prototype, \"hideControls\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", String)\n    ], VgControls.prototype, \"vgFor\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Object)\n    ], VgControls.prototype, \"vgAutohide\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Object)\n    ], VgControls.prototype, \"vgAutohideTime\", void 0);\n    VgControls = __decorate([\n        core_1.Component({\n            selector: 'vg-controls',\n            encapsulation: core_1.ViewEncapsulation.None,\n            template: \"<ng-content></ng-content>\",\n            styles: [\"\\n        vg-controls {\\n            position: absolute;\\n            display: flex;\\n            width: 100%;\\n            height: 50px;\\n            z-index: 300;\\n            bottom: 0;\\n            background-color: rgba(0, 0, 0, 0.5);\\n            -webkit-transition: bottom 1s;\\n            -khtml-transition: bottom 1s;\\n            -moz-transition: bottom 1s;\\n            -ms-transition: bottom 1s;\\n            transition: bottom 1s;\\n        }\\n\\n        vg-controls.hide {\\n            bottom: -50px;\\n        }\\n    \"]\n        }),\n        __metadata(\"design:paramtypes\", [vg_api_1.VgAPI, core_1.ElementRef, vg_controls_hidden_1.VgControlsHidden])\n    ], VgControls);\n    return VgControls;\n}());\nexports.VgControls = VgControls;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmctY29udHJvbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvY29udHJvbHMvdmctY29udHJvbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxzQ0FFdUI7QUFFdkIsa0RBQWdEO0FBQ2hELDRFQUF5RTtBQUV6RSxzREFBb0Q7QUFDcEQsNkJBQStCO0FBMkIvQjtJQWlCSSxhQUFhO0lBQ2Isb0JBQW9CLEdBQVUsRUFBVSxHQUFlLEVBQVUsTUFBd0I7UUFBckUsUUFBRyxHQUFILEdBQUcsQ0FBTztRQUFVLFFBQUcsR0FBSCxHQUFHLENBQVk7UUFBVSxXQUFNLEdBQU4sTUFBTSxDQUFrQjtRQWRwRCxpQkFBWSxHQUFHLFNBQVMsQ0FBQztRQUNuQyxpQkFBWSxHQUFHLEtBQUssQ0FBQztRQUd2QyxlQUFVLEdBQUcsS0FBSyxDQUFDO1FBQ25CLG1CQUFjLEdBQUcsQ0FBQyxDQUFDO1FBTzVCLGtCQUFhLEdBQW1CLEVBQUUsQ0FBQztRQUcvQixJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxhQUFhLENBQUM7SUFDbEMsQ0FBQztJQUVELDZCQUFRLEdBQVI7UUFBQSxpQkFhQztRQVpHLElBQUksQ0FBQyxVQUFVLEdBQUcsZ0JBQVMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLGlCQUFpQixFQUFFLFdBQVcsQ0FBQyxDQUFDO1FBQ3JFLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV6RSxJQUFJLENBQUMsV0FBVyxHQUFHLGdCQUFTLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsRUFBRSxZQUFZLENBQUMsQ0FBQztRQUN2RSxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLFNB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LCBFbGVtZW50UmVmLCBIb3N0QmluZGluZywgQWZ0ZXJWaWV3SW5pdCwgVmlld0VuY2Fwc3VsYXRpb24sIE9uRGVzdHJveVxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE9ic2VydmFibGUgLCAgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBWZ0FQSSB9IGZyb20gJy4uL2NvcmUvc2VydmljZXMvdmctYXBpJztcbmltcG9ydCB7IFZnQ29udHJvbHNIaWRkZW4gfSBmcm9tICcuLy4uL2NvcmUvc2VydmljZXMvdmctY29udHJvbHMtaGlkZGVuJztcblxuaW1wb3J0IHsgVmdTdGF0ZXMgfSBmcm9tICcuLi9jb3JlL3N0YXRlcy92Zy1zdGF0ZXMnO1xuaW1wb3J0IHtmcm9tRXZlbnR9IGZyb20gJ3J4anMnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ3ZnLWNvbnRyb2xzJyxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuICAgIHRlbXBsYXRlOiBgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PmAsXG4gICAgc3R5bGVzOiBbIGBcbiAgICAgICAgdmctY29udHJvbHMge1xuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgaGVpZ2h0OiA1MHB4O1xuICAgICAgICAgICAgei1pbmRleDogMzAwO1xuICAgICAgICAgICAgYm90dG9tOiAwO1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpO1xuICAgICAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOiBib3R0b20gMXM7XG4gICAgICAgICAgICAta2h0bWwtdHJhbnNpdGlvbjogYm90dG9tIDFzO1xuICAgICAgICAgICAgLW1vei10cmFuc2l0aW9uOiBib3R0b20gMXM7XG4gICAgICAgICAgICAtbXMtdHJhbnNpdGlvbjogYm90dG9tIDFzO1xuICAgICAgICAgICAgdHJhbnNpdGlvbjogYm90dG9tIDFzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmctY29udHJvbHMuaGlkZSB7XG4gICAgICAgICAgICBib3R0b206IC01MHB4O1xuICAgICAgICB9XG4gICAgYF1cbn0pXG5leHBvcnQgY2xhc3MgVmdDb250cm9scyBpbXBsZW1lbnRzIE9uSW5pdCwgQWZ0ZXJWaWV3SW5pdCwgT25EZXN0cm95IHtcbiAgICBlbGVtOiBIVE1MRWxlbWVudDtcbiAgICB0YXJnZXQ6IGFueTtcblxuICAgIEBIb3N0QmluZGluZygnc3R5bGUucG9pbnRlci1ldmVudHMnKSBpc0Fkc1BsYXlpbmcgPSAnaW5pdGlhbCc7XG4gICAgQEhvc3RCaW5kaW5nKCdjbGFzcy5oaWRlJykgaGlkZUNvbnRyb2xzID0gZmFsc2U7XG5cbiAgICBASW5wdXQoKSB2Z0Zvcjogc3RyaW5nO1xuICAgIEBJbnB1dCgpIHZnQXV0b2hpZGUgPSBmYWxzZTtcbiAgICBASW5wdXQoKSB2Z0F1dG9oaWRlVGltZSA9IDM7XG5cbiAgICBwcml2YXRlIHRpbWVyOiBhbnk7XG5cbiAgICBtb3VzZU1vdmUkOiBPYnNlcnZhYmxlPGFueT47XG4gICAgdG91Y2hTdGFydCQ6IE9ic2VydmFibGU8YW55PjtcblxuICAgIHN1YnNjcmlwdGlvbnM6IFN1YnNjcmlwdGlvbltdID0gW107XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgQVBJOiBWZ0FQSSwgcHJpdmF0ZSByZWY6IEVsZW1lbnRSZWYsIHByaXZhdGUgaGlkZGVuOiBWZ0NvbnRyb2xzSGlkZGVuKSB7XG4gICAgICAgIHRoaXMuZWxlbSA9IHJlZi5uYXRpdmVFbGVtZW50O1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICB0aGlzLm1vdXNlTW92ZSQgPSBmcm9tRXZlbnQodGhpcy5BUEkudmlkZW9ndWxhckVsZW1lbnQsICdtb3VzZW1vdmUnKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2godGhpcy5tb3VzZU1vdmUkLnN1YnNjcmliZSh0aGlzLnNob3cuYmluZCh0aGlzKSkpO1xuXG4gICAgICAgIHRoaXMudG91Y2hTdGFydCQgPSBmcm9tRXZlbnQodGhpcy5BUEkudmlkZW9ndWxhckVsZW1lbnQsICd0b3VjaHN0YXJ0Jyk7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKHRoaXMudG91Y2hTdGFydCQuc3Vic2NyaWJlKHRoaXMuc2hvdy5iaW5kKHRoaXMpKSk7XG5cbiAgICAgICAgaWYgKHRoaXMuQVBJLmlzUGxheWVyUmVhZHkpIHtcbiAgICAgICAgICAgIHRoaXMub25QbGF5ZXJSZWFkeSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2godGhpcy5BUEkucGxheWVyUmVhZHlFdmVudC5zdWJzY3JpYmUoKCkgPT4gdGhpcy5vblBsYXllclJlYWR5KCkpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uUGxheWVyUmVhZHkoKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGhpcy5BUEkuZ2V0TWVkaWFCeUlkKHRoaXMudmdGb3IpO1xuXG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKHRoaXMudGFyZ2V0LnN1YnNjcmlwdGlvbnMucGxheS5zdWJzY3JpYmUodGhpcy5vblBsYXkuYmluZCh0aGlzKSkpO1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaCh0aGlzLnRhcmdldC5zdWJzY3JpcHRpb25zLnBhdXNlLnN1YnNjcmliZSh0aGlzLm9uUGF1c2UuYmluZCh0aGlzKSkpO1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaCh0aGlzLnRhcmdldC5zdWJzY3JpcHRpb25zLnN0YXJ0QWRzLnN1YnNjcmliZSh0aGlzLm9uU3RhcnRBZHMuYmluZCh0aGlzKSkpO1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaCh0aGlzLnRhcmdldC5zdWJzY3JpcHRpb25zLmVuZEFkcy5zdWJzY3JpYmUodGhpcy5vbkVuZEFkcy5iaW5kKHRoaXMpKSk7XG4gICAgfVxuXG4gICAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgICAgICBpZiAodGhpcy52Z0F1dG9oaWRlKSB7XG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2hvdygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25QbGF5KCkge1xuICAgICAgICBpZiAodGhpcy52Z0F1dG9oaWRlKSB7XG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uUGF1c2UoKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTtcbiAgICAgICAgdGhpcy5oaWRlQ29udHJvbHMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oaWRkZW4uc3RhdGUoZmFsc2UpO1xuICAgIH1cblxuICAgIG9uU3RhcnRBZHMoKSB7XG4gICAgICAgIHRoaXMuaXNBZHNQbGF5aW5nID0gJ25vbmUnO1xuICAgIH1cblxuICAgIG9uRW5kQWRzKCkge1xuICAgICAgICB0aGlzLmlzQWRzUGxheWluZyA9ICdpbml0aWFsJztcbiAgICB9XG5cbiAgICBoaWRlKCkge1xuICAgICAgICBpZiAodGhpcy52Z0F1dG9oaWRlKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcik7XG4gICAgICAgICAgICB0aGlzLmhpZGVBc3luYygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2hvdygpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO1xuICAgICAgICB0aGlzLmhpZGVDb250cm9scyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhpZGRlbi5zdGF0ZShmYWxzZSk7XG5cbiAgICAgICAgaWYgKHRoaXMudmdBdXRvaGlkZSkge1xuICAgICAgICAgICAgdGhpcy5oaWRlQXN5bmMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgaGlkZUFzeW5jKCkge1xuICAgICAgICBpZiAodGhpcy5BUEkuc3RhdGUgPT09IFZnU3RhdGVzLlZHX1BMQVlJTkcpIHtcbiAgICAgICAgICAgIHRoaXMudGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGVDb250cm9scyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRkZW4uc3RhdGUodHJ1ZSk7XG4gICAgICAgICAgICB9LCB0aGlzLnZnQXV0b2hpZGVUaW1lICogMTAwMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLmZvckVhY2gocyA9PiBzLnVuc3Vic2NyaWJlKCkpO1xuICAgIH1cbn1cbiJdfQ==","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar vg_api_1 = require(\"../../core/services/vg-api\");\nvar vg_fullscreen_api_1 = require(\"../../core/services/vg-fullscreen-api\");\nvar VgFullscreen = /** @class */ (function () {\n    function VgFullscreen(ref, API, fsAPI) {\n        this.API = API;\n        this.fsAPI = fsAPI;\n        this.isFullscreen = false;\n        this.subscriptions = [];\n        this.ariaValue = 'normal mode';\n        this.elem = ref.nativeElement;\n        this.subscriptions.push(this.fsAPI.onChangeFullscreen.subscribe(this.onChangeFullscreen.bind(this)));\n    }\n    VgFullscreen.prototype.ngOnInit = function () {\n        var _this = this;\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(function () { return _this.onPlayerReady(); }));\n        }\n    };\n    VgFullscreen.prototype.onPlayerReady = function () {\n        this.target = this.API.getMediaById(this.vgFor);\n    };\n    VgFullscreen.prototype.onChangeFullscreen = function (fsState) {\n        this.ariaValue = fsState ? 'fullscreen mode' : 'normal mode';\n        this.isFullscreen = fsState;\n    };\n    VgFullscreen.prototype.onClick = function () {\n        this.changeFullscreenState();\n    };\n    VgFullscreen.prototype.onKeyDown = function (event) {\n        // On press Enter (13) or Space (32)\n        if (event.keyCode === 13 || event.keyCode === 32) {\n            event.preventDefault();\n            this.changeFullscreenState();\n        }\n    };\n    VgFullscreen.prototype.changeFullscreenState = function () {\n        var element = this.target;\n        if (this.target instanceof vg_api_1.VgAPI) {\n            element = null;\n        }\n        this.fsAPI.toggleFullscreen(element);\n    };\n    VgFullscreen.prototype.ngOnDestroy = function () {\n        this.subscriptions.forEach(function (s) { return s.unsubscribe(); });\n    };\n    __decorate([\n        core_1.HostListener('click'),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", []),\n        __metadata(\"design:returntype\", void 0)\n    ], VgFullscreen.prototype, \"onClick\", null);\n    __decorate([\n        core_1.HostListener('keydown', ['$event']),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", [KeyboardEvent]),\n        __metadata(\"design:returntype\", void 0)\n    ], VgFullscreen.prototype, \"onKeyDown\", null);\n    VgFullscreen = __decorate([\n        core_1.Component({\n            selector: 'vg-fullscreen',\n            encapsulation: core_1.ViewEncapsulation.None,\n            template: \"\\n        <div class=\\\"icon\\\"\\n             [class.vg-icon-fullscreen]=\\\"!isFullscreen\\\"\\n             [class.vg-icon-fullscreen_exit]=\\\"isFullscreen\\\"\\n             tabindex=\\\"0\\\"\\n             role=\\\"button\\\"\\n             aria-label=\\\"fullscreen button\\\"\\n             [attr.aria-valuetext]=\\\"ariaValue\\\">\\n        </div>\",\n            styles: [\"\\n        vg-fullscreen {\\n            -webkit-touch-callout: none;\\n            -webkit-user-select: none;\\n            -khtml-user-select: none;\\n            -moz-user-select: none;\\n            -ms-user-select: none;\\n            user-select: none;\\n            display: flex;\\n            justify-content: center;\\n            height: 50px;\\n            width: 50px;\\n            cursor: pointer;\\n            color: white;\\n            line-height: 50px;\\n        }\\n\\n        vg-fullscreen .icon {\\n            pointer-events: none;\\n        }\\n    \"]\n        }),\n        __metadata(\"design:paramtypes\", [core_1.ElementRef, vg_api_1.VgAPI, vg_fullscreen_api_1.VgFullscreenAPI])\n    ], VgFullscreen);\n    return VgFullscreen;\n}());\nexports.VgFullscreen = VgFullscreen;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmctZnVsbHNjcmVlbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jb250cm9scy92Zy1mdWxsc2NyZWVuL3ZnLWZ1bGxzY3JlZW4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxzQ0FBMEc7QUFDMUcscURBQW1EO0FBQ25ELDJFQUF3RTtBQXNDeEU7SUFVSSxzQkFBWSxHQUFlLEVBQVMsR0FBVSxFQUFTLEtBQXNCO1FBQXpDLFFBQUcsR0FBSCxHQUFHLENBQU87UUFBUyxVQUFLLEdBQUwsS0FBSyxDQUFpQjtRQU43RSxpQkFBWSxHQUFHLEtBQUssQ0FBQztRQUVyQixrQkFBYSxHQUFtQixFQUFFLENBQUM7UUFFbkMsY0FBUyxHQUFHLGFBQWEsQ0FBQztRQUd0QixJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxhQUFhLENBQUM7UUFDOUIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDekcsQ0FBQztJQUVELCtCQUFRLEdBQVI7UUFBQSxpQkFPQztRQU5HLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUU7WUFDeEIsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1NBQ3hCO2FBQ0k7WUFDRCxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxjQUFNLE9BQUEsS0FBSSxDQUFDLGFBQWEsRUFBRSxFQUFwQixDQUFvQixDQUFDLENBQUMsQ0FBQztTQUM1RjtJQUNMLENBQUM7SUFFRCxvQ0FBYSxHQUFiO1FBQ0ksSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDcEQsQ0FBQztJQUVELHlDQUFrQixHQUFsQixVQUFtQixPQUFnQjtRQUMvQixJQUFJLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQztRQUM3RCxJQUFJLENBQUMsWUFBWSxHQUFHLE9BQU8sQ0FBQztJQUNoQyxDQUFDO0lBR0QsOEJBQU8sR0FBUDtRQUNJLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO0lBQ2pDLENBQUM7SUFHRCxnQ0FBUyxHQUFULFVBQVUsS0FBb0I7UUFDMUIsb0NBQW9DO1FBQ3BDLElBQUksS0FBSyxDQUFDLE9BQU8sS0FBSyxFQUFFLElBQUksS0FBSyxDQUFDLE9BQU8sS0FBSyxFQUFFLEVBQUU7WUFDOUMsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBQ3ZCLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO1NBQ2hDO0lBQ0wsQ0FBQztJQUVELDRDQUFxQixHQUFyQjtRQUNJLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7UUFFMUIsSUFBSSxJQUFJLENBQUMsTUFBTSxZQUFZLGNBQUssRUFBRTtZQUM5QixPQUFPLEdBQUcsSUFBSSxDQUFDO1NBQ2xCO1FBRUQsSUFBSSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUN6QyxDQUFDO0lBRUQsa0NBQVcsR0FBWDtRQUNJLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLFVBQUEsQ0FBQyxJQUFJLE9BQUEsQ0FBQyxDQUFDLFdBQVcsRUFBRSxFQUFmLENBQWUsQ0FBQyxDQUFDO0lBQ3JELENBQUM7SUF6QkQ7UUFEQyxtQkFBWSxDQUFDLE9BQU8sQ0FBQzs7OzsrQ0FHckI7SUFHRDtRQURDLG1CQUFZLENBQUMsU0FBUyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUM7O3lDQUNuQixhQUFhOztpREFNN0I7SUE3Q1EsWUFBWTtRQWxDeEIsZ0JBQVMsQ0FBQztZQUNQLFFBQVEsRUFBRSxlQUFlO1lBQ3pCLGFBQWEsRUFBRSx3QkFBaUIsQ0FBQyxJQUFJO1lBQ3JDLFFBQVEsRUFBRSxzVUFRQztZQUNYLE1BQU0sRUFBRSxDQUFFLDZpQkFvQlQsQ0FBRTtTQUNOLENBQUM7eUNBV21CLGlCQUFVLEVBQWMsY0FBSyxFQUFnQixtQ0FBZTtPQVZwRSxZQUFZLENBNER4QjtJQUFELG1CQUFDO0NBQUEsQUE1REQsSUE0REM7QUE1RFksb0NBQVkiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIEVsZW1lbnRSZWYsIEhvc3RMaXN0ZW5lciwgT25EZXN0cm95LCBPbkluaXQsIFZpZXdFbmNhcHN1bGF0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBWZ0FQSSB9IGZyb20gJy4uLy4uL2NvcmUvc2VydmljZXMvdmctYXBpJztcbmltcG9ydCB7IFZnRnVsbHNjcmVlbkFQSSB9IGZyb20gJy4uLy4uL2NvcmUvc2VydmljZXMvdmctZnVsbHNjcmVlbi1hcGknO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5cblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICd2Zy1mdWxsc2NyZWVuJyxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuICAgIHRlbXBsYXRlOiBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJpY29uXCJcbiAgICAgICAgICAgICBbY2xhc3MudmctaWNvbi1mdWxsc2NyZWVuXT1cIiFpc0Z1bGxzY3JlZW5cIlxuICAgICAgICAgICAgIFtjbGFzcy52Zy1pY29uLWZ1bGxzY3JlZW5fZXhpdF09XCJpc0Z1bGxzY3JlZW5cIlxuICAgICAgICAgICAgIHRhYmluZGV4PVwiMFwiXG4gICAgICAgICAgICAgcm9sZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgYXJpYS1sYWJlbD1cImZ1bGxzY3JlZW4gYnV0dG9uXCJcbiAgICAgICAgICAgICBbYXR0ci5hcmlhLXZhbHVldGV4dF09XCJhcmlhVmFsdWVcIj5cbiAgICAgICAgPC9kaXY+YCxcbiAgICBzdHlsZXM6IFsgYFxuICAgICAgICB2Zy1mdWxsc2NyZWVuIHtcbiAgICAgICAgICAgIC13ZWJraXQtdG91Y2gtY2FsbG91dDogbm9uZTtcbiAgICAgICAgICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgICAgICAta2h0bWwtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgICAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAgICAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgICAgICBoZWlnaHQ6IDUwcHg7XG4gICAgICAgICAgICB3aWR0aDogNTBweDtcbiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiA1MHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgdmctZnVsbHNjcmVlbiAuaWNvbiB7XG4gICAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICAgICAgfVxuICAgIGAgXVxufSlcbmV4cG9ydCBjbGFzcyBWZ0Z1bGxzY3JlZW4gaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSB7XG4gICAgZWxlbTogSFRNTEVsZW1lbnQ7XG4gICAgdmdGb3I6IHN0cmluZztcbiAgICB0YXJnZXQ6IE9iamVjdDtcbiAgICBpc0Z1bGxzY3JlZW4gPSBmYWxzZTtcblxuICAgIHN1YnNjcmlwdGlvbnM6IFN1YnNjcmlwdGlvbltdID0gW107XG5cbiAgICBhcmlhVmFsdWUgPSAnbm9ybWFsIG1vZGUnO1xuXG4gICAgY29uc3RydWN0b3IocmVmOiBFbGVtZW50UmVmLCBwdWJsaWMgQVBJOiBWZ0FQSSwgcHVibGljIGZzQVBJOiBWZ0Z1bGxzY3JlZW5BUEkpIHtcbiAgICAgICAgdGhpcy5lbGVtID0gcmVmLm5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKHRoaXMuZnNBUEkub25DaGFuZ2VGdWxsc2NyZWVuLnN1YnNjcmliZSh0aGlzLm9uQ2hhbmdlRnVsbHNjcmVlbi5iaW5kKHRoaXMpKSk7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIGlmICh0aGlzLkFQSS5pc1BsYXllclJlYWR5KSB7XG4gICAgICAgICAgICB0aGlzLm9uUGxheWVyUmVhZHkoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKHRoaXMuQVBJLnBsYXllclJlYWR5RXZlbnQuc3Vic2NyaWJlKCgpID0+IHRoaXMub25QbGF5ZXJSZWFkeSgpKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblBsYXllclJlYWR5KCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRoaXMuQVBJLmdldE1lZGlhQnlJZCh0aGlzLnZnRm9yKTtcbiAgICB9XG5cbiAgICBvbkNoYW5nZUZ1bGxzY3JlZW4oZnNTdGF0ZTogYm9vbGVhbikge1xuICAgICAgICB0aGlzLmFyaWFWYWx1ZSA9IGZzU3RhdGUgPyAnZnVsbHNjcmVlbiBtb2RlJyA6ICdub3JtYWwgbW9kZSc7XG4gICAgICAgIHRoaXMuaXNGdWxsc2NyZWVuID0gZnNTdGF0ZTtcbiAgICB9XG5cbiAgICBASG9zdExpc3RlbmVyKCdjbGljaycpXG4gICAgb25DbGljaygpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VGdWxsc2NyZWVuU3RhdGUoKTtcbiAgICB9XG5cbiAgICBASG9zdExpc3RlbmVyKCdrZXlkb3duJywgWyckZXZlbnQnXSlcbiAgICBvbktleURvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICAgICAgLy8gT24gcHJlc3MgRW50ZXIgKDEzKSBvciBTcGFjZSAoMzIpXG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSAxMyB8fCBldmVudC5rZXlDb2RlID09PSAzMikge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlRnVsbHNjcmVlblN0YXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjaGFuZ2VGdWxsc2NyZWVuU3RhdGUoKSB7XG4gICAgICAgIGxldCBlbGVtZW50ID0gdGhpcy50YXJnZXQ7XG5cbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0IGluc3RhbmNlb2YgVmdBUEkpIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5mc0FQSS50b2dnbGVGdWxsc2NyZWVuKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMuZm9yRWFjaChzID0+IHMudW5zdWJzY3JpYmUoKSk7XG4gICAgfVxufVxuIl19","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\nimport { Observable } from 'rxjs';\nimport { VideoPlaylistModel } from './video-playlist.model';\nimport { DataStore } from '../shell/data-store';\n\n@Injectable()\nexport class VideoPlaylistService {\n\n  private videoPlaylistDataStore: DataStore<VideoPlaylistModel>;\n\n  constructor(private http: HttpClient) { }\n\n  public getVideoPlaylistDataSource(): Observable<VideoPlaylistModel> {\n    return this.http.get<VideoPlaylistModel>('./assets/data/video-playlist/video-playlist.json');\n  }\n\n  public getVideoPlaylistStore(dataSource: Observable<VideoPlaylistModel>): DataStore<VideoPlaylistModel> {\n    // Use cache if available\n    if (!this.videoPlaylistDataStore) {\n      // Initialize the model specifying that it is a shell model\n      const shellModel: VideoPlaylistModel = new VideoPlaylistModel();\n      this.videoPlaylistDataStore = new DataStore(shellModel);\n      // Trigger the loading mechanism (with shell) in the dataStore\n      this.videoPlaylistDataStore.load(dataSource);\n    }\n    return this.videoPlaylistDataStore;\n  }\n}\n","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar common_1 = require(\"@angular/common\");\nvar vg_overlay_play_1 = require(\"./vg-overlay-play\");\nvar VgOverlayPlayModule = /** @class */ (function () {\n    function VgOverlayPlayModule() {\n    }\n    VgOverlayPlayModule = __decorate([\n        core_1.NgModule({\n            imports: [common_1.CommonModule],\n            declarations: [\n                vg_overlay_play_1.VgOverlayPlay\n            ],\n            exports: [\n                vg_overlay_play_1.VgOverlayPlay\n            ]\n        })\n    ], VgOverlayPlayModule);\n    return VgOverlayPlayModule;\n}());\nexports.VgOverlayPlayModule = VgOverlayPlayModule;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3ZlcmxheS1wbGF5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL292ZXJsYXktcGxheS9vdmVybGF5LXBsYXkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxzQ0FBOEM7QUFDOUMsMENBQStDO0FBRS9DLHFEQUFnRDtBQVdoRDtJQUFBO0lBQWtDLENBQUM7SUFBdEIsbUJBQW1CO1FBVC9CLGVBQVEsQ0FBQztZQUNOLE9BQU8sRUFBRSxDQUFFLHFCQUFZLENBQUU7WUFDekIsWUFBWSxFQUFFO2dCQUNWLCtCQUFhO2FBQ2hCO1lBQ0QsT0FBTyxFQUFFO2dCQUNMLCtCQUFhO2FBQ2hCO1NBQ0osQ0FBQztPQUNXLG1CQUFtQixDQUFHO0lBQUQsMEJBQUM7Q0FBQSxBQUFuQyxJQUFtQztBQUF0QixrREFBbUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZ01vZHVsZSB9ICAgICAgZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuXG5pbXBvcnQge1ZnT3ZlcmxheVBsYXl9IGZyb20gJy4vdmctb3ZlcmxheS1wbGF5JztcblxuQE5nTW9kdWxlKHtcbiAgICBpbXBvcnRzOiBbIENvbW1vbk1vZHVsZSBdLFxuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBWZ092ZXJsYXlQbGF5XG4gICAgXSxcbiAgICBleHBvcnRzOiBbXG4gICAgICAgIFZnT3ZlcmxheVBsYXlcbiAgICBdXG59KVxuZXhwb3J0IGNsYXNzIFZnT3ZlcmxheVBsYXlNb2R1bGUge31cbiJdfQ==","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar vg_api_1 = require(\"../../../core/services/vg-api\");\nvar VgScrubBarCuePoints = /** @class */ (function () {\n    function VgScrubBarCuePoints(ref, API) {\n        this.API = API;\n        this.onLoadedMetadataCalled = false;\n        this.cuePoints = [];\n        this.subscriptions = [];\n        this.totalCues = 0;\n        this.elem = ref.nativeElement;\n    }\n    VgScrubBarCuePoints.prototype.ngOnInit = function () {\n        var _this = this;\n        if (this.API.isPlayerReady) {\n            this.onPlayerReady();\n        }\n        else {\n            this.subscriptions.push(this.API.playerReadyEvent.subscribe(function () { return _this.onPlayerReady(); }));\n        }\n    };\n    VgScrubBarCuePoints.prototype.onPlayerReady = function () {\n        this.target = this.API.getMediaById(this.vgFor);\n        var onTimeUpdate = this.target.subscriptions.loadedMetadata;\n        this.subscriptions.push(onTimeUpdate.subscribe(this.onLoadedMetadata.bind(this)));\n        if (this.onLoadedMetadataCalled) {\n            this.onLoadedMetadata();\n        }\n    };\n    VgScrubBarCuePoints.prototype.onLoadedMetadata = function () {\n        if (this.vgCuePoints) {\n            // We need to transform the TextTrackCueList to Array or it doesn't work on IE11/Edge.\n            // See: https://github.com/videogular/videogular2/issues/369\n            this.cuePoints = [];\n            for (var i = 0, l = this.vgCuePoints.length; i < l; i++) {\n                var end = (this.vgCuePoints[i].endTime >= 0) ? this.vgCuePoints[i].endTime : this.vgCuePoints[i].startTime + 1;\n                var cuePointDuration = (end - this.vgCuePoints[i].startTime) * 1000;\n                var position = '0';\n                var percentWidth = '0';\n                if (typeof cuePointDuration === 'number' && this.target.time.total) {\n                    percentWidth = ((cuePointDuration * 100) / this.target.time.total) + \"%\";\n                    position = (this.vgCuePoints[i].startTime * 100 / (Math.round(this.target.time.total / 1000))) + \"%\";\n                }\n                this.vgCuePoints[i].$$style = {\n                    width: percentWidth,\n                    left: position\n                };\n                this.cuePoints.push(this.vgCuePoints[i]);\n            }\n        }\n    };\n    VgScrubBarCuePoints.prototype.updateCuePoints = function () {\n        if (!this.target) {\n            this.onLoadedMetadataCalled = true;\n            return;\n        }\n        this.onLoadedMetadata();\n    };\n    VgScrubBarCuePoints.prototype.ngOnChanges = function (changes) {\n        if (changes['vgCuePoints'].currentValue) {\n            this.updateCuePoints();\n        }\n    };\n    VgScrubBarCuePoints.prototype.ngDoCheck = function () {\n        if (this.vgCuePoints) {\n            var changes = this.totalCues !== this.vgCuePoints.length;\n            if (changes) {\n                this.totalCues = this.vgCuePoints.length;\n                this.updateCuePoints();\n            }\n        }\n    };\n    VgScrubBarCuePoints.prototype.ngOnDestroy = function () {\n        this.subscriptions.forEach(function (s) { return s.unsubscribe(); });\n    };\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", TextTrackCueList)\n    ], VgScrubBarCuePoints.prototype, \"vgCuePoints\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", String)\n    ], VgScrubBarCuePoints.prototype, \"vgFor\", void 0);\n    VgScrubBarCuePoints = __decorate([\n        core_1.Component({\n            selector: 'vg-scrub-bar-cue-points',\n            encapsulation: core_1.ViewEncapsulation.None,\n            template: \"\\n        <div class=\\\"cue-point-container\\\">\\n            <span *ngFor=\\\"let cp of cuePoints\\\" [style.width]=\\\"cp.$$style?.width\\\" [style.left]=\\\"cp.$$style?.left\\\"\\n                  class=\\\"cue-point\\\"></span>\\n        </div>\\n    \",\n            styles: [\"\\n        vg-scrub-bar-cue-points {\\n            display: flex;\\n            width: 100%;\\n            height: 5px;\\n            pointer-events: none;\\n            position: absolute;\\n        }\\n\\n        vg-scrub-bar-cue-points .cue-point-container .cue-point {\\n            position: absolute;\\n            height: 5px;\\n            background-color: rgba(255, 204, 0, 0.7);\\n        }\\n\\n        vg-controls vg-scrub-bar-cue-points {\\n            position: absolute;\\n            top: calc(50% - 3px);\\n        }\\n    \"]\n        }),\n        __metadata(\"design:paramtypes\", [core_1.ElementRef, vg_api_1.VgAPI])\n    ], VgScrubBarCuePoints);\n    return VgScrubBarCuePoints;\n}());\nexports.VgScrubBarCuePoints = VgScrubBarCuePoints;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmctc2NydWItYmFyLWN1ZS1wb2ludHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvY29udHJvbHMvdmctc2NydWItYmFyL3ZnLXNjcnViLWJhci1jdWUtcG9pbnRzL3ZnLXNjcnViLWJhci1jdWUtcG9pbnRzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUEsc0NBVXVCO0FBQ3ZCLHdEQUFzRDtBQWlDdEQ7SUFhSSw2QkFBWSxHQUFlLEVBQVMsR0FBVTtRQUFWLFFBQUcsR0FBSCxHQUFHLENBQU87UUFQOUMsMkJBQXNCLEdBQUcsS0FBSyxDQUFDO1FBQy9CLGNBQVMsR0FBZSxFQUFFLENBQUM7UUFFM0Isa0JBQWEsR0FBbUIsRUFBRSxDQUFDO1FBRW5DLGNBQVMsR0FBRyxDQUFDLENBQUM7UUFHVixJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxhQUFhLENBQUM7SUFDbEMsQ0FBQztJQUVELHNDQUFRLEdBQVI7UUFBQSxpQkFPQztRQU5HLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUU7WUFDeEIsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1NBQ3hCO2FBQ0k7WUFDRCxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxjQUFNLE9BQUEsS0FBSSxDQUFDLGFBQWEsRUFBRSxFQUFwQixDQUFvQixDQUFDLENBQUMsQ0FBQztTQUM1RjtJQUNMLENBQUM7SUFFRCwyQ0FBYSxHQUFiO1FBQ0ksSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFaEQsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsY0FBYyxDQUFDO1FBQzVELElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxD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QUksQ0FBQyxlQUFlLEVBQUUsQ0FBQzthQUMxQjtTQUNKO0lBQ0wsQ0FBQztJQUVELHlDQUFXLEdBQVg7UUFDSSxJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFBLENBQUMsQ0FBQyxXQUFXLEVBQUUsRUFBZixDQUFlLENBQUMsQ0FBQztJQUNyRCxDQUFDO0lBMUZRO1FBQVIsWUFBSyxFQUFFO2tDQUFjLGdCQUFnQjs0REFBQztJQUM5QjtRQUFSLFlBQUssRUFBRTs7c0RBQWU7SUFGZCxtQkFBbUI7UUE5Qi9CLGdCQUFTLENBQUM7WUFDUCxRQUFRLEVBQUUseUJBQXlCO1lBQ25DLGFBQWEsRUFBRSx3QkFBaUIsQ0FBQyxJQUFJO1lBQ3JDLFFBQVEsRUFBRSw0T0FLVDtZQUNELE1BQU0sRUFBRSxDQUFFLDRnQkFtQlQsQ0FBRTtTQUNOLENBQUM7eUNBY21CLGlCQUFVLEVBQWMsY0FBSztPQWJyQyxtQkFBbUIsQ0E0Ri9CO0lBQUQsMEJBQUM7Q0FBQSxBQTVGRCxJQTRGQztBQTVGWSxrREFBbUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICAgIENvbXBvbmVudCxcbiAgICBFbGVtZW50UmVmLFxuICAgIElucHV0LFxuICAgIE9uQ2hhbmdlcyxcbiAgICBPbkRlc3Ryb3ksXG4gICAgT25Jbml0LFxuICAgIERvQ2hlY2ssXG4gICAgU2ltcGxlQ2hhbmdlLFxuICAgIFZpZXdFbmNhcHN1bGF0aW9uXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVmdBUEkgfSBmcm9tICcuLi8uLi8uLi9jb3JlL3NlcnZpY2VzL3ZnLWFwaSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICd2Zy1zY3J1Yi1iYXItY3VlLXBvaW50cycsXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgICB0ZW1wbGF0ZTogYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiY3VlLXBvaW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPHNwYW4gKm5nRm9yPVwibGV0IGNwIG9mIGN1ZVBvaW50c1wiIFtzdHlsZS53aWR0aF09XCJjcC4kJHN0eWxlPy53aWR0aFwiIFtzdHlsZS5sZWZ0XT1cImNwLiQkc3R5bGU/LmxlZnRcIlxuICAgICAgICAgICAgICAgICAgY2xhc3M9XCJjdWUtcG9pbnRcIj48L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgIGAsXG4gICAgc3R5bGVzOiBbIGBcbiAgICAgICAgdmctc2NydWItYmFyLWN1ZS1wb2ludHMge1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgaGVpZ2h0OiA1cHg7XG4gICAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZnLXNjcnViLWJhci1jdWUtcG9pbnRzIC5jdWUtcG9pbnQtY29udGFpbmVyIC5jdWUtcG9pbnQge1xuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgaGVpZ2h0OiA1cHg7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjA0LCAwLCAwLjcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmctY29udHJvbHMgdmctc2NydWItYmFyLWN1ZS1wb2ludHMge1xuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgdG9wOiBjYWxjKDUwJSAtIDNweCk7XG4gICAgICAgIH1cbiAgICBgIF1cbn0pXG5leHBvcnQgY2xhc3MgVmdTY3J1YkJhckN1ZVBvaW50cyBpbXBsZW1lbnRzIE9uSW5pdCwgT25DaGFuZ2VzLCBPbkRlc3Ryb3ksIERvQ2hlY2sge1xuICAgIEBJbnB1dCgpIHZnQ3VlUG9pbnRzOiBUZXh0VHJhY2tDdWVMaXN0O1xuICAgIEBJbnB1dCgpIHZnRm9yOiBzdHJpbmc7XG5cbiAgICBlbGVtOiBIVE1MRWxlbWVudDtcbiAgICB0YXJnZXQ6IGFueTtcbiAgICBvbkxvYWRlZE1ldGFkYXRhQ2FsbGVkID0gZmFsc2U7XG4gICAgY3VlUG9pbnRzOiBBcnJheTxhbnk+ID0gW107XG5cbiAgICBzdWJzY3JpcHRpb25zOiBTdWJzY3JpcHRpb25bXSA9IFtdO1xuXG4gICAgdG90YWxDdWVzID0gMDtcblxuICAgIGNvbnN0cnVjdG9yKHJlZjogRWxlbWVudFJlZiwgcHVibGljIEFQSTogVmdBUEkpIHtcbiAgICAgICAgdGhpcy5lbGVtID0gcmVmLm5hdGl2ZUVsZW1lbnQ7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIGlmICh0aGlzLkFQSS5pc1BsYXllclJlYWR5KSB7XG4gICAgICAgICAgICB0aGlzLm9uUGxheWVyUmVhZHkoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKHRoaXMuQVBJLnBsYXllclJlYWR5RXZlbnQuc3Vic2NyaWJlKCgpID0+IHRoaXMub25QbGF5ZXJSZWFkeSgpKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblBsYXllclJlYWR5KCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRoaXMuQVBJLmdldE1lZGlhQnlJZCh0aGlzLnZnRm9yKTtcblxuICAgICAgICBsZXQgb25UaW1lVXBkYXRlID0gdGhpcy50YXJnZXQuc3Vic2NyaXB0aW9ucy5sb2FkZWRNZXRhZGF0YTtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2gob25UaW1lVXBkYXRlLnN1YnNjcmliZSh0aGlzLm9uTG9hZGVkTWV0YWRhdGEuYmluZCh0aGlzKSkpO1xuXG4gICAgICAgIGlmICh0aGlzLm9uTG9hZGVkTWV0YWRhdGFDYWxsZWQpIHtcbiAgICAgICAgICAgIHRoaXMub25Mb2FkZWRNZXRhZGF0YSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Mb2FkZWRNZXRhZGF0YSgpIHtcbiAgICAgICAgaWYgKHRoaXMudmdDdWVQb2ludHMpIHtcbiAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gdHJhbnNmb3JtIHRoZSBUZXh0VHJhY2tDdWVMaXN0IHRvIEFycmF5IG9yIGl0IGRvZXNuJ3Qgd29yayBvbiBJRTExL0VkZ2UuXG4gICAgICAgICAgICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS92aWRlb2d1bGFyL3ZpZGVvZ3VsYXIyL2lzc3Vlcy8zNjlcbiAgICAgICAgICAgIHRoaXMuY3VlUG9pbnRzID0gW107XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gdGhpcy52Z0N1ZVBvaW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgZW5kID0gKHRoaXMudmdDdWVQb2ludHNbIGkgXS5lbmRUaW1lID49IDApID8gdGhpcy52Z0N1ZVBvaW50c1sgaSBdLmVuZFRpbWUgOiB0aGlzLnZnQ3VlUG9pbnRzWyBpIF0uc3RhcnRUaW1lICsgMTtcbiAgICAgICAgICAgICAgICBsZXQgY3VlUG9pbnREdXJhdGlvbiA9IChlbmQgLSB0aGlzLnZnQ3VlUG9pbnRzWyBpIF0uc3RhcnRUaW1lKSAqIDEwMDA7XG4gICAgICAgICAgICAgICAgbGV0IHBvc2l0aW9uID0gJzAnO1xuICAgICAgICAgICAgICAgIGxldCBwZXJjZW50V2lkdGggPSAnMCc7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGN1ZVBvaW50RHVyYXRpb24gPT09ICdudW1iZXInICYmIHRoaXMudGFyZ2V0LnRpbWUudG90YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcGVyY2VudFdpZHRoID0gKChjdWVQb2ludER1cmF0aW9uICogMTAwKSAvIHRoaXMudGFyZ2V0LnRpbWUudG90YWwpICsgXCIlXCI7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gKHRoaXMudmdDdWVQb2ludHNbIGkgXS5zdGFydFRpbWUgKiAxMDAgLyAoTWF0aC5yb3VuZCh0aGlzLnRhcmdldC50aW1lLnRvdGFsIC8gMTAwMCkpKSArIFwiJVwiO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICg8YW55PnRoaXMudmdDdWVQb2ludHNbIGkgXSkuJCRzdHlsZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHBlcmNlbnRXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogcG9zaXRpb25cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jdWVQb2ludHMucHVzaCh0aGlzLnZnQ3VlUG9pbnRzWyBpIF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlQ3VlUG9pbnRzKCkge1xuICAgICAgICBpZiAoIXRoaXMudGFyZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLm9uTG9hZGVkTWV0YWRhdGFDYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub25Mb2FkZWRNZXRhZGF0YSgpO1xuICAgIH1cblxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXM6IHsgW3Byb3BOYW1lOiBzdHJpbmddOiBTaW1wbGVDaGFuZ2UgfSkge1xuICAgICAgICBpZiAoY2hhbmdlc1sgJ3ZnQ3VlUG9pbnRzJyBdLmN1cnJlbnRWYWx1ZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVDdWVQb2ludHMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5nRG9DaGVjaygpIHtcbiAgICAgICAgaWYgKHRoaXMudmdDdWVQb2ludHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYW5nZXMgPSB0aGlzLnRvdGFsQ3VlcyAhPT0gdGhpcy52Z0N1ZVBvaW50cy5sZW5ndGg7XG5cbiAgICAgICAgICAgIGlmIChjaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b3RhbEN1ZXMgPSB0aGlzLnZnQ3VlUG9pbnRzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUN1ZVBvaW50cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5mb3JFYWNoKHMgPT4gcy51bnN1YnNjcmliZSgpKTtcbiAgICB9XG59XG4iXX0=","<ng-content></ng-content>","import { IonicModule } from '@ionic/angular';\nimport { RouterModule, Routes } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { VideoPlaylistPage } from './video-playlist.page';\nimport { VideoPlaylistResolver } from './video-playlist.resolver';\nimport { VideoPlaylistService } from './video-playlist.service';\nimport { ComponentsModule } from '../components/components.module';\n\nimport { VgCoreModule } from 'videogular2/compiled/core';\nimport { VgControlsModule } from 'videogular2/compiled/controls';\nimport { VgOverlayPlayModule } from 'videogular2/compiled/overlay-play';\nimport { VgBufferingModule } from 'videogular2/compiled/buffering';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: VideoPlaylistPage,\n    resolve: {\n      data: VideoPlaylistResolver\n    }\n  }\n];\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    ComponentsModule,\n    RouterModule.forChild(routes),\n    VgCoreModule,\n    VgControlsModule,\n    VgOverlayPlayModule,\n    VgBufferingModule\n  ],\n  declarations: [ VideoPlaylistPage ],\n  providers: [\n    VideoPlaylistResolver,\n    VideoPlaylistService\n  ]\n})\nexport class VideoPlaylistPageModule {}\n","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar common_1 = require(\"@angular/common\");\nvar vg_buffering_1 = require(\"./vg-buffering\");\nvar VgBufferingModule = /** @class */ (function () {\n    function VgBufferingModule() {\n    }\n    VgBufferingModule = __decorate([\n        core_1.NgModule({\n            imports: [common_1.CommonModule],\n            declarations: [\n                vg_buffering_1.VgBuffering\n            ],\n            exports: [\n                vg_buffering_1.VgBuffering\n            ]\n        })\n    ], VgBufferingModule);\n    return VgBufferingModule;\n}());\nexports.VgBufferingModule = VgBufferingModule;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVmZmVyaW5nLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2J1ZmZlcmluZy9idWZmZXJpbmcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxzQ0FBeUM7QUFDekMsMENBQStDO0FBRS9DLCtDQUE2QztBQVc3QztJQUFBO0lBQ0EsQ0FBQztJQURZLGlCQUFpQjtRQVQ3QixlQUFRLENBQUM7WUFDTixPQUFPLEVBQUUsQ0FBRSxxQkFBWSxDQUFFO1lBQ3pCLFlBQVksRUFBRTtnQkFDViwwQkFBVzthQUNkO1lBQ0QsT0FBTyxFQUFFO2dCQUNMLDBCQUFXO2FBQ2Q7U0FDSixDQUFDO09BQ1csaUJBQWlCLENBQzdCO0lBQUQsd0JBQUM7Q0FBQSxBQURELElBQ0M7QUFEWSw4Q0FBaUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcblxuaW1wb3J0IHsgVmdCdWZmZXJpbmcgfSBmcm9tICcuL3ZnLWJ1ZmZlcmluZyc7XG5cbkBOZ01vZHVsZSh7XG4gICAgaW1wb3J0czogWyBDb21tb25Nb2R1bGUgXSxcbiAgICBkZWNsYXJhdGlvbnM6IFtcbiAgICAgICAgVmdCdWZmZXJpbmdcbiAgICBdLFxuICAgIGV4cG9ydHM6IFtcbiAgICAgICAgVmdCdWZmZXJpbmdcbiAgICBdXG59KVxuZXhwb3J0IGNsYXNzIFZnQnVmZmVyaW5nTW9kdWxlIHtcbn1cbiJdfQ=="]}