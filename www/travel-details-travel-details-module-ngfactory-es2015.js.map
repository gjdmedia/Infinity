{"version":3,"sources":["./src/app/travel/details/travel-details.module.ts","./src/app/travel/details/travel-details.page.html","./src/app/travel/details/travel-details.page.ts","./src/app/travel/details/travel-details.plain.resolver.ts","./src/app/travel/details/travel-details.resolver.ts","./src/app/utils/resolver-helper.ts"],"names":[],"mappings":"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","file":"travel-details-travel-details-module-ngfactory-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Routes, RouterModule } from '@angular/router';\nimport { HttpClientModule } from '@angular/common/http';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ComponentsModule } from '../../components/components.module';\n\nimport { TravelService } from '../travel.service';\nimport { TravelDetailsPage } from './travel-details.page';\nimport { TravelDetailsResolver } from './travel-details.resolver';\nimport { TravelDetailsPlainResolver } from './travel-details.plain.resolver';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TravelDetailsPage,\n    resolve: {\n      data: TravelDetailsResolver\n      // data: TravelDetailsPlainResolver\n    }\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    ComponentsModule,\n    HttpClientModule\n  ],\n  declarations: [\n    TravelDetailsPage\n  ],\n  providers: [\n    TravelDetailsResolver,\n    TravelDetailsPlainResolver,\n    TravelService\n  ]\n})\nexport class TravelDetailsPageModule {}\n","<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-back-button defaultHref=\"app/categories/travel\"></ion-back-button>\n    </ion-buttons>\n    <ion-title>Travel Details</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"travel-details-content\">\n  <ion-row class=\"image-row\">\n    <ion-col size=\"12\">\n      <app-image-shell [display]=\"'cover'\" animation=\"spinner\" class=\"add-overlay details-image\" [src]=\"details?.image\">\n        <app-aspect-ratio [ratio]=\"{w:64, h:50}\">\n          <div class=\"icon-wrapper\">\n            <app-aspect-ratio [ratio]=\"{w: 47, h: 25}\">\n              <app-image-shell [src]=\"details?.icon\" class=\"details-icon\"></app-image-shell>\n            </app-aspect-ratio>\n          </div>\n        </app-aspect-ratio>\n      </app-image-shell>\n    </ion-col>\n  </ion-row>\n  <ion-row class=\"description-row\">\n    <ion-col size=\"12\">\n      <h3 class=\"details-name\">\n        <app-text-shell animation=\"bouncing\" [data]=\"details?.name?.concat(' - ', details?.category)\"></app-text-shell>\n      </h3>\n      <p class=\"details-short-description\">\n        <app-text-shell animation=\"bouncing\" [data]=\"details?.shortDescription\"></app-text-shell>\n      </p>\n    </ion-col>\n    <ion-col size=\"12\">\n      <div class=\"details-score\">\n        <div class=\"score-item\">\n          <ion-icon class=\"score-icon\" src=\"./assets/custom-icons/travel/star.svg\"></ion-icon>\n          <div class=\"score-value\">\n            <app-text-shell [data]=\"details?.rating\"></app-text-shell>\n          </div>\n        </div>\n        <div class=\"score-item\">\n          <ion-icon class=\"score-icon\" src=\"./assets/custom-icons/travel/comments.svg\"></ion-icon>\n          <div class=\"score-value\">\n            <app-text-shell [data]=\"details?.reviewsCount\"></app-text-shell>\n          </div>\n        </div>\n      </div>\n    </ion-col>\n    <ion-col size=\"12\">\n      <ion-row class=\"details-tags\">\n        <ion-col class=\"tag-wrapper\" *ngFor=\"let tag of details?.tags\">\n          <span class=\"item-tag\">\n            <app-text-shell [data]=\"tag\"></app-text-shell>\n          </span>\n        </ion-col>\n      </ion-row>\n    </ion-col>\n    <ion-col size=\"12\">\n      <p class=\"details-description\">\n        <app-text-shell animation=\"bouncing\" lines=\"6\" [data]=\"details?.fullDescription\"></app-text-shell>\n      </p>\n    </ion-col>\n  </ion-row>\n  <div class=\"open-hours-wrapper\">\n    <h3 class=\"detail-title\">When?</h3>\n    <ul class=\"schedules-list\">\n      <li class=\"open-hour-item\" *ngFor=\"let schedule of details?.openHours\">\n        <div class=\"schedule-outer\">\n          <span class=\"schedule-day\">\n            <app-text-shell [data]=\"schedule.day\"></app-text-shell>\n          </span>\n          <div class=\"schedule-hours\">\n            <ng-container *ngIf=\"schedule.open\">\n              <span class=\"schedule-value\">\n                <app-text-shell [data]=\"schedule.hourFrom\"></app-text-shell>\n              </span>\n              <span class=\"schedule-separator\">to</span>\n              <span class=\"schedule-value\">\n                <app-text-shell [data]=\"schedule.hourTo\"></app-text-shell>\n              </span>\n            </ng-container>\n            <ng-container *ngIf=\"!schedule.open\">\n              <ion-badge class=\"schedule-closed\" color=\"medium\">closed</ion-badge>\n            </ng-container>\n          </div>\n        </div>\n      </li>\n    </ul>\n  </div>\n  <div class=\"location-wrapper\">\n    <div class=\"location-header\">\n      <h3 class=\"detail-title\">Where?</h3>\n      <span class=\"location-address\">\n        <app-text-shell [data]=\"details.location?.address\"></app-text-shell>\n      </span>\n    </div>\n    <!-- <app-aspect-ratio [ratio]=\"{w: 64, h: 30}\">\n      <app-image-shell [src]=\"'https://maps.googleapis.com/maps/api/staticmap?center=' + details.location?.latlng + '&zoom=15&size=640x300&maptype=roadmap&format=png&visual_refresh=true&markers=size:mid%7Ccolor:0xd9453a%7C' + details.location?.latlng + '&key=YOUR_KEY_HERE'\">\n      </app-image-shell>\n    </app-aspect-ratio> -->\n    <app-aspect-ratio [ratio]=\"{w: 64, h: 30}\">\n      <app-image-shell class=\"location-image\" animation=\"spinner\" [src]=\"details.location?.mapImage\"></app-image-shell>\n    </app-aspect-ratio>\n  </div>\n  <div class=\"suggested-places-wrapper\" *ngIf=\"details?.whereToStay && details.whereToStay.length > 0\">\n    <h3 class=\"detail-alt-title\">Need a place to stay?</h3>\n    <ion-row class=\"suggested-places-row\">\n      <ion-col size=\"4\" class=\"suggested-place\" *ngFor=\"let placeToStay of details?.whereToStay\">\n        <app-aspect-ratio [ratio]=\"{w: 18, h: 23}\">\n          <app-image-shell class=\"place-picture\" animation=\"spinner\" [src]=\"placeToStay.picture\"></app-image-shell>\n        </app-aspect-ratio>\n        <div class=\"place-details\">\n          <h5 class=\"place-name\">\n            <app-text-shell [data]=\"placeToStay.name\"></app-text-shell>\n          </h5>\n          <div class=\"place-rating\">\n            <ion-icon class=\"rating-icon\" name=\"star-outline\"></ion-icon>\n            <div class=\"rating-value\">\n              <app-text-shell [data]=\"placeToStay.rating\"></app-text-shell>\n            </div>\n          </div>\n        </div>\n      </ion-col>\n    </ion-row>\n  </div>\n  <div class=\"suggested-places-wrapper\" *ngIf=\"details?.whereToEat && details.whereToEat.length > 0\">\n    <h3 class=\"detail-alt-title\">Grab a bite?</h3>\n    <ion-row class=\"suggested-places-row\">\n      <ion-col size=\"4\" class=\"suggested-place\" *ngFor=\"let placeToEat of details?.whereToEat\">\n        <app-aspect-ratio [ratio]=\"{w: 18, h: 23}\">\n          <app-image-shell class=\"place-picture\" animation=\"spinner\" [src]=\"placeToEat.picture\"></app-image-shell>\n        </app-aspect-ratio>\n        <div class=\"place-details\">\n          <h5 class=\"place-name\">\n            <app-text-shell [data]=\"placeToEat.name\"></app-text-shell>\n          </h5>\n          <div class=\"place-rating\">\n            <ion-icon class=\"rating-icon\" name=\"star-outline\"></ion-icon>\n            <div class=\"rating-value\">\n              <app-text-shell [data]=\"placeToEat.rating\"></app-text-shell>\n            </div>\n          </div>\n        </div>\n      </ion-col>\n    </ion-row>\n  </div>\n  <div class=\"related-activities-wrapper\" *ngIf=\"details?.relatedActivities && details.relatedActivities.length > 0\">\n    <h3 class=\"detail-alt-title\">More activities?</h3>\n    <ion-row class=\"related-activity\" *ngFor=\"let relatedActivity of details?.relatedActivities\">\n      <ion-col size=\"12\">\n        <app-image-shell [display]=\"'cover'\" animation=\"spinner\" class=\"related-activity-picture\" [src]=\"relatedActivity.picture\">\n          <app-aspect-ratio [ratio]=\"{w:64, h:23}\">\n          </app-aspect-ratio>\n        </app-image-shell>\n      </ion-col>\n      <ion-col size=\"12\" class=\"activity-details\">\n        <h5 class=\"activity-name\">\n          <app-text-shell [data]=\"relatedActivity.name\"></app-text-shell>\n        </h5>\n        <span class=\"activity-category\">\n          <app-text-shell [data]=\"relatedActivity.category\"></app-text-shell>\n        </span>\n        <div class=\"activity-rating\">\n          <ion-icon class=\"rating-icon\" name=\"star-outline\"></ion-icon>\n          <div class=\"rating-value\">\n            <app-text-shell [data]=\"relatedActivity.rating\"></app-text-shell>\n          </div>\n        </div>\n      </ion-col>\n    </ion-row>\n  </div>\n</ion-content>\n","import { Component, OnInit, HostBinding } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\nimport { IResolvedRouteData, ResolverHelper } from '../../utils/resolver-helper';\nimport { TravelDetailsModel } from './travel-details.model';\n\n@Component({\n  selector: 'app-travel-details',\n  templateUrl: './travel-details.page.html',\n  styleUrls: [\n    './styles/travel-details.page.scss',\n    './styles/travel-details.shell.scss'\n  ]\n})\nexport class TravelDetailsPage implements OnInit {\n  // Gather all component subscription in one place. Can be one Subscription or multiple (chained using the Subscription.add() method)\n  subscriptions: Subscription;\n\n  details: TravelDetailsModel;\n\n  @HostBinding('class.is-shell') get isShell() {\n    return (this.details && this.details.isShell) ? true : false;\n  }\n\n  constructor(private route: ActivatedRoute) { }\n\n  ngOnInit(): void {\n    // On init, the route subscription is the active subscription\n    this.subscriptions = this.route.data\n    .subscribe(\n      (resolvedRouteData: IResolvedRouteData<TravelDetailsModel>) => {\n        // Route subscription resolved, now the active subscription is the Observable extracted from the resolved route data\n        this.subscriptions = ResolverHelper.extractData<TravelDetailsModel>(resolvedRouteData.data, TravelDetailsModel)\n        .subscribe(\n          (state) => {\n            this.details = state;\n          },\n          (error) => {}\n        );\n      },\n      (error) => {}\n    );\n  }\n\n  // NOTE: Ionic only calls ngOnDestroy if the page was popped (ex: when navigating back)\n  // Since ngOnDestroy might not fire when you navigate from the current page, use ionViewWillLeave to cleanup Subscriptions\n  ionViewWillLeave(): void {\n    // console.log('TravelListingPage [ionViewWillLeave]');\n    this.subscriptions.unsubscribe();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Resolve } from '@angular/router';\nimport { Observable } from 'rxjs';\n\nimport { TravelService } from '../travel.service';\nimport { TravelDetailsModel } from './travel-details.model';\n\n@Injectable()\nexport class TravelDetailsPlainResolver implements Resolve<TravelDetailsModel> {\n\n  constructor(private travelService: TravelService) {}\n\n  resolve(): Observable<TravelDetailsModel> {\n    return this.travelService.getDetailsDataSource();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Resolve } from '@angular/router';\nimport { Observable } from 'rxjs';\n\nimport { DataStore } from '../../shell/data-store';\nimport { TravelService } from '../travel.service';\nimport { TravelDetailsModel } from './travel-details.model';\n\n@Injectable()\nexport class TravelDetailsResolver implements Resolve<DataStore<TravelDetailsModel>> {\n\n  constructor(private travelService: TravelService) {}\n\n  resolve(): DataStore<TravelDetailsModel> {\n    const dataSource: Observable<TravelDetailsModel> = this.travelService.getDetailsDataSource();\n    const dataStore: DataStore<TravelDetailsModel> = this.travelService.getDetailsStore(dataSource);\n\n    return dataStore;\n  }\n}\n","import { DataStore } from '../shell/data-store';\nimport { Observable, of } from 'rxjs';\n\nexport interface IResolvedRouteData<T> {\n  data: T | DataStore<T>;\n}\n\nexport class ResolverHelper<T> {\n  // More info on function overloads here: https://www.typescriptlang.org/docs/handbook/functions.html#overloads\n  public static extractData<T>(source: (T | DataStore<T>), constructor: (new(...args: any[]) => T)): Observable<T> {\n    if (source instanceof DataStore) {\n      return source.state;\n    } else if (source instanceof constructor) {\n      // The right side of instanceof should be an expression evaluating to a constructor function (ie. a class), not a type\n      // That's why we included an extra parameter which acts as a constructor function for type T\n      // (see: https://github.com/microsoft/TypeScript/issues/5236)\n      return of(source);\n    }\n  }\n}\n"],"sourceRoot":"webpack:///"}