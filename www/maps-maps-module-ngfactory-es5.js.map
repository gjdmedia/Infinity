{"version":3,"sources":["webpack:///src/app/components/google-map/google-map.component.ts","webpack:///src/app/maps/maps.module.ts","webpack:///src/app/maps/maps.page.html","webpack:///src/app/maps/maps.page.ts"],"names":["GoogleMapComponent","_elementRef","$mapReady","_mapIdledOnce","initMap","_el","nativeElement","_map","google","maps","Map","mapOptions","_ready_listener","addListener","console","log","emit","event","removeListener","MapsPageModule","Geolocation","MapsPage","loadingController","zoom","center","lat","lng","_GoogleMap","subscribe","map","createLoader","create","message","loadingElement","present","dismiss","presentLoader","getCurrentPosition","then","position","current_location","LatLng","coords","latitude","longitude","panTo","marker","Marker","title","setMap","error","dismissLoader"],"mappings":"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","file":"maps-maps-module-ngfactory-es5.js","sourcesContent":["import { Component, ElementRef, OnInit, EventEmitter, Input } from '@angular/core';\n\n@Component({\n  selector: 'google-map',\n  template: ''\n})\nexport class GoogleMapComponent implements OnInit {\n\n  @Input() mapOptions: google.maps.MapOptions;\n  public _el: HTMLElement;\n  public _map: google.maps.Map;\n  public $mapReady: EventEmitter<any> = new EventEmitter();\n  public _mapIdledOnce = false;\n\n  constructor(public _elementRef: ElementRef) { }\n\n  ngOnInit() {\n    this.initMap();\n  }\n\n  initMap(): void {\n    this._el = this._elementRef.nativeElement;\n    this._map = new google.maps.Map(this._el, this.mapOptions);\n\n    // Workarround for init method: try to catch the first idle event after the map creation\n    // (this._mapIdledOnce). The following idle events don't matter.\n    const _ready_listener = this._map.addListener('idle', () => {\n      console.log('mapReady - IDLE');\n      if (!this._mapIdledOnce) {\n        this.$mapReady.emit(this._map);\n        this._mapIdledOnce = true;\n        // Stop listening to event, the map is ready\n        google.maps.event.removeListener(_ready_listener);\n      }\n    });\n  }\n}\n","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { MapsPage } from './maps.page';\nimport { ComponentsModule } from '../components/components.module';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    ComponentsModule,\n    RouterModule.forChild([{ path: '', component: MapsPage }])\n  ],\n  declarations: [MapsPage]\n})\nexport class MapsPageModule {}\n","<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button></ion-menu-button>\n    </ion-buttons>\n    <ion-title>Maps & Geolocation</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <ion-fab vertical=\"top\" horizontal=\"end\" slot=\"fixed\">\n    <ion-fab-button (click)=\"geolocateMe()\" color=\"secondary\">\n      <ion-icon name=\"locate\"></ion-icon>\n    </ion-fab-button>\n  </ion-fab>\n  <google-map [mapOptions]=\"mapOptions\"></google-map>\n</ion-content>\n","import { Component, ViewChild, OnInit } from '@angular/core';\nimport { LoadingController } from '@ionic/angular';\n\nimport { Plugins } from '@capacitor/core';\nconst { Geolocation } = Plugins;\n\nimport { GoogleMapComponent } from '../components/google-map/google-map.component';\n\n@Component({\n  selector: 'app-maps',\n  templateUrl: './maps.page.html',\n  styleUrls: [\n    './styles/maps.page.scss'\n  ]\n})\nexport class MapsPage implements OnInit {\n\n  @ViewChild(GoogleMapComponent, { static: true }) _GoogleMap: GoogleMapComponent;\n  map: google.maps.Map;\n  mapOptions: google.maps.MapOptions = {\n    zoom: 15,\n    center: {lat: -34.9199842, lng: -56.149849}\n    // uncomment the following line if you want to remove the default Map controls\n    // disableDefaultUI: true\n  };\n  loadingElement: any;\n\n  constructor(private loadingController: LoadingController) { }\n\n  ngOnInit() {\n    this._GoogleMap.$mapReady.subscribe(map => {\n      this.map = map;\n    });\n    this.createLoader();\n  }\n\n  async createLoader() {\n    this.loadingElement = await this.loadingController.create({\n      message: 'Trying to get your current location...'\n    });\n  }\n\n  async presentLoader() {\n    await this.loadingElement.present();\n  }\n\n  async dismissLoader() {\n    if (this.loadingElement) {\n      await this.loadingElement.dismiss();\n    }\n  }\n\n  geolocateMe() {\n\n    this.presentLoader();\n    Geolocation.getCurrentPosition().then(position => {\n\n      const current_location = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\n      this.map.panTo(current_location);\n\n      // add a marker\n      const marker = new google.maps.Marker({\n        position: current_location,\n        title: 'You are here!',\n        // animation: google.maps.Animation.DROP\n      });\n\n      // To add the marker to the map, call setMap();\n      marker.setMap(this.map);\n\n    }).catch((error) => {\n      console.log('Error getting current location', error);\n\n    }).finally(() => this.dismissLoader());\n  }\n}\n"]}