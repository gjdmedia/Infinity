{"version":3,"sources":["./src/app/deals/details/deals-details.module.ts","./src/app/deals/details/deals-details.page.html","./src/app/deals/details/deals-details.page.ts","./src/app/deals/details/deals-details.resolver.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuD;AASC;AACQ;WAOpD,4EAAoB;AALhC,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,oEAAgB;QAC3B,OAAO,EAAE;YACP,IAAI,IAAsB;SAC3B;KACF;CACF,CAAC;AAmBK,MAAM,sBAAsB;CAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sGC/BpC,wpBAAwJ,IACtJ,iJAA8B,6FAAgB,MAC9C,0pBAAoI,GAAvC,sEAAsC,mDAAtE,mDAA+B,0BAAC,8CAAsC,GAAnI,YAAoI,EAAvE,SAA+B,EAAC,SAAsC;sGAM/H,4oBAAkE,IAChE,gpBAAiC,IAC/B,2jBAA2C,GAAzB,kEAAwB,MACxC,iuBAAkG,yBADlF,oCAAwB,GAA1C,YAA2C,EAAzB,SAAwB,GACvB,kBAAa,oBAAC,+BAAuB,EAAtD,YAAkG,EAAjF,SAAa,EAAC,SAAuB,2BADxD,+GAA2C,GACzC,kTAAkG;sGAwD5G,ipBAAwE,IACtE,krBAA4C,IAC1C,2jBAAyC,GAAvB,kEAAsB,MACtC,ouBAAsG,IAG1G,mrBAA4C,IAC1C,mJAA+B,KAC7B,ijBAAoC,IAEtC,wJAAoC,KAClC,ijBAA2C,yBAVZ,mBAAQ,EAA3C,YAA4C,EAAT,SAAQ,GACvB,kCAAsB,GAAxC,YAAyC,EAAvB,SAAsB,GACrB,kBAAiB,yBAAC,4BAAoB,EAAvD,YAAsG,EAArF,SAAiB,EAAC,SAAoB,GAGxB,mBAAQ,EAA3C,aAA4C,EAAT,SAAQ,GAEvB,4DAAmB,0BAAnC,aAAoC,EAApB,UAAmB,GAGnB,4DAA0B,iCAA1C,aAA2C,EAA3B,UAA0B,2BAT5C,+GAAyC,GACvC,kTAAsG,GAKtG,+GAAoC,GAGpC,iHAA2C;sGAbnD,yJAAoG,KAClG,sJAAgC,2FAAc,MAC9C,mdAAwE,iDAA1C,mBAAyC,uBAAvE,YAAwE,EAA1C,SAAyC;+ZA7E3E,ooBAAY,IACV,2qBAA6B,IAC3B,qpBAA0B,IACxB;;;m8BAAoD,IAEtD,8nBAAW,sFAAa,MAI5B,wxBAAoe,GAAzb,qhBAAwb,KAAne,+TAAoe,IACle,wYAAwJ,GAAlH,mHAAiH,IAKvJ,kJAA6B,KAC3B,gpBAA4B,IAC1B,4tBAA0E,IACxE,idAAkE,IAStE,spBAAiC,IAC/B,2qBAAmC,IACjC,6jBAA4C,GAA1B,mEAAyB,MACzC,+tBAAsG,IAG1G,2qBAAmC,IACjC,6IAAyB,KACvB,0kBAA4D,IAE9D,mJAA+B,KAC7B,0lBAA6E,IAGjF,orBAA4C,IAC1C,6jBAAyC,GAAvB,mEAAsB,MACtC,kuBAAiH,IAIvH,gpBAA2B,IACzB,4IAAwB,0FAAa,MACrC,opBAAkB,IAChB,iJAA6B,kIAE7B,MAEF,opBAAkB,IAChB,i0BAA6F,IAC3F,6IAAyB,KACvB,ijBAAuC,IAI7C,opBAAkB,IAChB,kJAA8B,oFACtB,qOAA4F,kGAAqB,MAAI,yGAC7H,MAGJ,sJAA+B,KAC7B,oJAA6B,wJAA2F,IACxH,sJAA+B,KAC7B,ijBAAqE,GAArD,wDAAoD,IAK1E,wYAAoG,iDA1EvF,yBAAe,EAA5B,YAA6B,EAAhB,SAAe,GAEP,sCAAkC,EAAnD,YAAoD,EAAnC,kDAAkC,EAAnD,aAAoD,EAAnC,SAAkC,GAM5C,uCAA6B,EAAC,u8CAAwb,IAAne,aAAoe,EAAvd,SAA6B,EAAC,SAAwb,GAC3b,2aAAiH,IAAvJ,aAAwJ,EAAlH,SAAiH,GAOnG,mBAAyB,gBAAtC,sBAAY,EAA/C,aAA0E,EAA1B,SAAyB,EAAtC,SAAY,GACzB,mDAA6C,0BAAjE,aAAkE,EAA9C,SAA6C,GAUzC,mBAAQ,EAAlC,aAAmC,EAAT,SAAQ,GACd,uCAAyB,GAA3C,aAA4C,EAA1B,UAAyB,GACxB,oDAAqB,gBAAC,gCAAuB,EAA9D,aAAsG,EAArF,UAAqB,EAAC,UAAuB,GAGxC,oBAAQ,EAAlC,aAAmC,EAAT,UAAQ,GAEO,oDAAsB,gBAA3D,aAA4D,EAAvB,UAAsB,GAGZ,oDAA6B,uBAA5E,aAA6E,EAA9B,UAA6B,GAG7C,oBAAQ,EAA3C,aAA4C,EAAT,UAAQ,GACvB,oCAAsB,GAAxC,aAAyC,EAAvB,UAAsB,GACrB,oDAA6B,wBAAC,gCAAuB,EAAtE,aAAiH,EAAhG,UAA6B,EAAC,UAAuB,GAMjE,oBAAQ,EAAjB,aAAkB,EAAT,UAAQ,GAKR,oBAAQ,EAAjB,aAAkB,EAAT,UAAQ,GACgE,wBAAa,EAAzD,wBAAc,EAAe,0BAAc,EAA5B,wBAAa,EAA/D,aAA6F,EAAd,UAAa,EAAzD,UAAc,EAAe,UAAc,EAA5B,UAAa,GAE3C,oDAAsB,gBAAtC,aAAuC,EAAvB,UAAsB,GAInC,oBAAQ,EAAjB,aAAkB,EAAT,UAAQ,GASC,kOAAoD,IAApE,aAAqE,EAArD,UAAoD,GAKvC,mHAAgE,IAAnG,aAAoG,EAAjE,UAAgE,mDA9C7F,mHAA4C,GAC1C,4TAAsG,GAKtG,iHAA4D,GAG5D,iHAA6E,GAI/E,mHAAyC,GACvC,4TAAiH,GAc/G,iHAAuC,GAWhB,iRAA2F,GAEtH,iHAAqE;;;;;;;;;;;;;;;;ACrE7E;AAAA;AAAA;AAAA;AAAA;AAAiD;AAGgC;AACvB;AAUnD,MAAM,gBAAgB;IAe3B,YAAoB,KAAqB;QAArB,UAAK,GAAL,KAAK,CAAgB;QAVzC,kBAAa,GAAQ;YACnB,IAAI,EAAE;gBACJ,MAAM,EAAE,KAAK,CAAC,sEAAsE;aACrF;SACF,CAAC;IAM2C,CAAC;IAJ9C,IAAmC,OAAO;QACxC,OAAO,CAAC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;IAC/D,CAAC;IAID,QAAQ;QACN,6DAA6D;QAC7D,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI;aACnC,SAAS,CACR,CAAC,iBAAwD,EAAE,EAAE;YAC3D,oHAAoH;YACpH,IAAI,CAAC,aAAa,GAAG,qEAAc,CAAC,WAAW,CAAoB,iBAAiB,CAAC,IAAI,EAAE,sEAAiB,CAAC;iBAC5G,SAAS,CACR,CAAC,KAAK,EAAE,EAAE;gBACR,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACvB,CAAC,EACD,CAAC,KAAK,EAAE,EAAE,GAAE,CAAC,CACd,CAAC;QACJ,CAAC,EACD,CAAC,KAAK,EAAE,EAAE,GAAE,CAAC,CACd,CAAC;IACJ,CAAC;IAED,uFAAuF;IACvF,0HAA0H;IAC1H,gBAAgB;QACd,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;IACnC,CAAC;CACF;;;;;;;;;;;;;AClDD;AAAA;AAAA;AAAgD;AAIzC,MAAM,oBAAoB;IAE/B,YAAoB,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;IAAG,CAAC;IAElD,OAAO;QACL,MAAM,UAAU,GAAkC,IAAI,CAAC,YAAY,CAAC,oBAAoB,EAAE,CAAC;QAC3F,MAAM,SAAS,GAAiC,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC;QAE9F,OAAO,SAAS,CAAC;IACnB,CAAC;CACF","file":"deals-details-deals-details-module-ngfactory-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Routes, RouterModule } from '@angular/router';\nimport { HttpClientModule } from '@angular/common/http';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ComponentsModule } from '../../components/components.module';\nimport { PipesModule } from '../../pipes/pipes.module';\n\nimport { DealsService } from '../deals.service';\nimport { DealsDetailsPage } from './deals-details.page';\nimport { DealsDetailsResolver } from './deals-details.resolver';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DealsDetailsPage,\n    resolve: {\n      data: DealsDetailsResolver\n    }\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    ComponentsModule,\n    PipesModule,\n    HttpClientModule\n  ],\n  declarations: [\n    DealsDetailsPage\n  ],\n  providers: [\n    DealsDetailsResolver,\n    DealsService\n  ]\n})\nexport class DealsDetailsPageModule {}\n","<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-back-button defaultHref=\"app/categories/deals\"></ion-back-button>\n    </ion-buttons>\n    <ion-title>Deals Details</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"deals-details-content\" [ngClass]=\"{'ended': ((details?.expirationDate | appTimeDifference) < 0), 'imminent-end': ((details?.expirationDate | appTimeDifference) > 0 && (details?.expirationDate | appTimeDifference) <= 2), 'ends-soon': ((details?.expirationDate | appTimeDifference) > 0 && (details?.expirationDate | appTimeDifference) > 2 && (details?.expirationDate | appTimeDifference) < 10), 'distant-end': ((details?.expirationDate | appTimeDifference) >= 10)}\">\n  <ion-row class=\"expiration-countdown\" *ngIf=\"((details?.expirationDate | appTimeDifference) > 0 && (details?.expirationDate | appTimeDifference) <= 2)\">\n    <span class=\"expiration-lead\">Deal expires in:</span>\n    <app-countdown-timer class=\"item-countdown\" fill=\"countdown\" [end]=\"details?.expirationDate\" [units]=\"{from: 'hour', to: 'second'}\"></app-countdown-timer>\n  </ion-row>\n\n  <div class=\"details-wrapper\">\n    <ion-row class=\"slider-row\">\n      <ion-slides class=\"details-slides\" pager=\"true\" [options]=\"slidesOptions\">\n        <ion-slide class=\"\" *ngFor=\"let image of details?.showcaseImages\">\n          <ion-row class=\"slide-inner-row\">\n            <app-aspect-ratio [ratio]=\"{w: 56, h: 40}\">\n              <app-image-shell [src]=\"image\" [alt]=\"'deals details'\" class=\"showcase-image\" animation=\"spinner\"></app-image-shell>\n            </app-aspect-ratio>\n          </ion-row>\n        </ion-slide>\n      </ion-slides>\n    </ion-row>\n    <ion-row class=\"description-row\">\n      <ion-col class=\"logo-col\" size=\"6\">\n        <app-aspect-ratio [ratio]=\"{w: 128, h: 32}\">\n          <app-image-shell [src]=\"details?.logo\" [alt]=\"'deals details'\" class=\"logo-image\" animation=\"spinner\"></app-image-shell>\n        </app-aspect-ratio>\n      </ion-col>\n      <ion-col class=\"info-col\" size=\"9\">\n        <h4 class=\"details-name\">\n          <app-text-shell animation=\"bouncing\" [data]=\"details?.name\"></app-text-shell>\n        </h4>\n        <p class=\"details-description\">\n          <app-text-shell animation=\"bouncing\" lines=\"3\" [data]=\"details?.description\"></app-text-shell>\n        </p>\n      </ion-col>\n      <ion-col class=\"preview-image-col\" size=\"3\">\n        <app-aspect-ratio [ratio]=\"{w: 1, h: 1}\">\n          <app-image-shell [src]=\"details?.previewImage\" [alt]=\"'deals details'\" class=\"preview-image\" animation=\"spinner\"></app-image-shell>\n        </app-aspect-ratio>\n      </ion-col>\n    </ion-row>\n    <ion-row class=\"promo-row\">\n      <h3 class=\"promo-title\">Copy the Code</h3>\n      <ion-col size=\"8\">\n        <p class=\"promo-description\">\n          Paste this code at checkout to get an extra 50% off\n        </p>\n      </ion-col>\n      <ion-col size=\"6\">\n        <ion-button class=\"promo-code-btn\" expand=\"block\" shape=\"round\" fill=\"outline\" color=\"claim\">\n          <span class=\"promo-code\">\n            <app-text-shell [data]=\"details?.code\"></app-text-shell>\n          </span>\n        </ion-button>\n      </ion-col>\n      <ion-col size=\"8\">\n        <p class=\"promo-instructions\">\n          Go to <a class=\"instructions-anchor\" target=\"_blank\" href=\"https://google.com/search?q=chocolate\">lancasternutcandy.com</a> and paste the code at checkout.\n        </p>\n      </ion-col>\n    </ion-row>\n    <div class=\"expiration-notice\">\n      <span class=\"notice-message\">Cupon {{ ((details?.expirationDate | appTimeDifference) < 0) ? 'expired' : 'expires' }} on:</span>\n      <span class=\"expiration-value\">\n        <app-text-shell [data]=\"details?.expirationDate | date:'mediumDate'\"></app-text-shell>\n      </span>\n    </div>\n  </div>\n\n  <div class=\"related-deals-wrapper\" *ngIf=\"details?.relatedDeals && details.relatedDeals.length > 0\">\n    <h3 class=\"related-deals-title\">More hot deals</h3>\n    <ion-row class=\"related-deal\" *ngFor=\"let deal of details.relatedDeals\">\n      <ion-col class=\"deal-logo-wrapper\" size=\"4\">\n        <app-aspect-ratio [ratio]=\"{w: 1, h: 1}\">\n          <app-image-shell [src]=\"deal.logo\" [alt]=\"'deals logo'\" class=\"related-deal-logo\" animation=\"spinner\"></app-image-shell>\n        </app-aspect-ratio>\n      </ion-col>\n      <ion-col class=\"deal-info-wrapper\" size=\"8\">\n        <h4 class=\"related-deal-title\">\n          <app-text-shell [data]=\"deal?.name\"></app-text-shell>\n        </h4>\n        <p class=\"related-deal-description\">\n          <app-text-shell [data]=\"deal?.description\"></app-text-shell>\n        </p>\n      </ion-col>\n    </ion-row>\n  </div>\n</ion-content>\n","import { Component, OnInit, HostBinding } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\nimport { IResolvedRouteData, ResolverHelper } from '../../utils/resolver-helper';\nimport { DealsDetailsModel } from './deals-details.model';\n\n@Component({\n  selector: 'app-deals-details',\n  templateUrl: './deals-details.page.html',\n  styleUrls: [\n    './styles/deals-details.page.scss',\n    './styles/deals-details.shell.scss'\n  ]\n})\nexport class DealsDetailsPage implements OnInit {\n  // Gather all component subscription in one place. Can be one Subscription or multiple (chained using the Subscription.add() method)\n  subscriptions: Subscription;\n\n  details: DealsDetailsModel;\n  slidesOptions: any = {\n    zoom: {\n      toggle: false // Disable zooming to prevent weird double tap zomming on slide images\n    }\n  };\n\n  @HostBinding('class.is-shell') get isShell() {\n    return (this.details && this.details.isShell) ? true : false;\n  }\n\n  constructor(private route: ActivatedRoute) { }\n\n  ngOnInit(): void {\n    // On init, the route subscription is the active subscription\n    this.subscriptions = this.route.data\n    .subscribe(\n      (resolvedRouteData: IResolvedRouteData<DealsDetailsModel>) => {\n        // Route subscription resolved, now the active subscription is the Observable extracted from the resolved route data\n        this.subscriptions = ResolverHelper.extractData<DealsDetailsModel>(resolvedRouteData.data, DealsDetailsModel)\n        .subscribe(\n          (state) => {\n            this.details = state;\n          },\n          (error) => {}\n        );\n      },\n      (error) => {}\n    );\n  }\n\n  // NOTE: Ionic only calls ngOnDestroy if the page was popped (ex: when navigating back)\n  // Since ngOnDestroy might not fire when you navigate from the current page, use ionViewWillLeave to cleanup Subscriptions\n  ionViewWillLeave(): void {\n    this.subscriptions.unsubscribe();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Resolve } from '@angular/router';\nimport { Observable } from 'rxjs';\n\nimport { DataStore } from '../../shell/data-store';\nimport { DealsService } from '../deals.service';\nimport { DealsDetailsModel } from './deals-details.model';\n\n@Injectable()\nexport class DealsDetailsResolver implements Resolve<DataStore<DealsDetailsModel>> {\n\n  constructor(private dealsService: DealsService) {}\n\n  resolve(): DataStore<DealsDetailsModel> {\n    const dataSource: Observable<DealsDetailsModel> = this.dealsService.getDetailsDataSource();\n    const dataStore: DataStore<DealsDetailsModel> = this.dealsService.getDetailsStore(dataSource);\n\n    return dataStore;\n  }\n}\n"],"sourceRoot":"webpack:///"}