{"version":3,"sources":["./src/app/firebase/crud/user/details/firebase-user-details.page.html","./src/app/firebase/crud/user/details/firebase-user-details.page.ts","./src/app/firebase/crud/user/firebase-user-details.module.ts","./src/app/firebase/crud/user/firebase-user-details.resolver.ts","./src/app/firebase/crud/user/update/firebase-update-user.modal.html","./src/app/firebase/crud/user/update/firebase-update-user.modal.ts","./src/app/validators/checkbox-checked.validator.ts"],"names":[],"mappings":"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","file":"user-firebase-user-details-module-ngfactory-es2015.js","sourcesContent":["<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-back-button defaultHref=\"firebase/crud/listing\"></ion-back-button>\n    </ion-buttons>\n    <ion-title>User Details</ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"openFirebaseUpdateModal()\">\n        Edit\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"user-content\">\n  <ion-row class=\"user-info-row\">\n    <ion-col class=\"user-image-col\" size=\"5\">\n      <app-aspect-ratio [ratio]=\"{w: 1, h: 1}\">\n        <app-image-shell [display]=\"'cover'\" class=\"user-image\" animation=\"spinner\" [src]=\"user.avatar\" [alt]=\"'item image'\">\n        </app-image-shell>\n      </app-aspect-ratio>\n    </ion-col>\n    <ion-col class=\"user-details-col\" size=\"12\">\n      <h2 class=\"user-name\">\n        <app-text-shell animation=\"bouncing\" [data]=\"user.name?.concat(' ').concat(user.lastname)\"></app-text-shell>\n      </h2>\n      <span class=\"user-age\">\n        <app-text-shell animation=\"bouncing\" [data]=\"user.age?.toString().concat(' years young')\"></app-text-shell>\n      </span>\n    </ion-col>\n    <ion-col class=\"actions-col\" size=\"12\">\n      <ion-row>\n        <ion-col size=\"3\">\n          <ion-button class=\"action-btn\" color=\"secondary\">\n            <ion-icon class=\"btn-icon\" slot=\"icon-only\" name=\"mail\"></ion-icon>\n          </ion-button>\n        </ion-col>\n        <ion-col size=\"3\">\n          <ion-button class=\"action-btn\" color=\"secondary\">\n            <ion-icon class=\"btn-icon\" slot=\"icon-only\" name=\"call\"></ion-icon>\n          </ion-button>\n        </ion-col>\n        <ion-col size=\"3\">\n          <ion-button class=\"action-btn\" color=\"secondary\">\n            <ion-icon class=\"btn-icon\" slot=\"icon-only\" name=\"videocam\"></ion-icon>\n          </ion-button>\n        </ion-col>\n        <ion-col size=\"3\">\n          <ion-button class=\"action-btn\" color=\"secondary\">\n            <ion-icon class=\"btn-icon\" slot=\"icon-only\" name=\"text\"></ion-icon>\n          </ion-button>\n        </ion-col>\n      </ion-row>\n    </ion-col>\n  </ion-row>\n\n  <section class=\"content-section user-languages-wrapper\">\n    <h5 class=\"section-header\">Languages</h5>\n    <ion-row class=\"language-item-row\">\n      <ion-col class=\"language-item\">\n        <span class=\"language-name\">English</span>\n        <ion-progress-bar class=\"language-score\" type=\"determinate\" [value]=\"(user.languages?.english / 10)\"></ion-progress-bar>\n      </ion-col>\n    </ion-row>\n    <ion-row class=\"language-item-row\">\n      <ion-col class=\"language-item\">\n        <span class=\"language-name\">Spanish</span>\n        <ion-progress-bar class=\"language-score\" type=\"determinate\" [value]=\"(user.languages?.spanish / 10)\"></ion-progress-bar>\n      </ion-col>\n    </ion-row>\n    <ion-row class=\"language-item-row\">\n      <ion-col class=\"language-item\">\n        <span class=\"language-name\">French</span>\n        <ion-progress-bar class=\"language-score\" type=\"determinate\" [value]=\"(user.languages?.french / 10)\"></ion-progress-bar>\n      </ion-col>\n    </ion-row>\n  </section>\n\n  <section class=\"content-section user-experience-wrapper\">\n    <h5 class=\"section-header\">Skills</h5>\n    <ion-list class=\"experience-list\" lines=\"none\">\n      <ion-item class=\"experience-item\" *ngFor=\"let skill of user.skills\">\n        <label class=\"experience-label\">\n          <app-text-shell animation=\"bouncing\" [data]=\"skill?.name\"></app-text-shell>\n        </label>\n        <ion-icon class=\"experience-list-icon\" slot=\"start\" name=\"checkmark\" color=\"secondary\"></ion-icon>\n      </ion-item>\n    </ion-list>\n  </section>\n\n  <section class=\"content-section related-users-wrapper\" *ngIf=\"relatedUsers.length > 0\">\n    <h5 class=\"section-header\">Users with similar skills</h5>\n    <ion-row class=\"related-users-row\">\n      <ion-col class=\"related-user-item\" size=\"2\" *ngFor=\"let user of relatedUsers\">\n        <app-aspect-ratio [ratio]=\"{w: 1, h: 1}\">\n          <app-image-shell [display]=\"'cover'\" class=\"related-user-picture\" [src]=\"user.avatar\" [routerLink]=\"['/firebase/crud/details', user.id]\"></app-image-shell>\n        </app-aspect-ratio>\n        <span class=\"related-user-name\">\n          <app-text-shell [data]=\"user.name\"></app-text-shell>\n        </span>\n      </ion-col>\n    </ion-row>\n  </section>\n</ion-content>\n","import { Component, OnInit, HostBinding } from '@angular/core';\nimport { ModalController, IonRouterOutlet } from '@ionic/angular';\nimport { ActivatedRoute, Router } from '@angular/router';\n\nimport { FirebaseCombinedUserModel } from '../firebase-user.model';\nimport { FirebaseListingItemModel } from '../../listing/firebase-listing.model';\nimport { FirebaseUpdateUserModal } from '../update/firebase-update-user.modal';\n\nimport { DataStore, ShellModel } from '../../../../shell/data-store';\nimport { FirebaseCrudService } from '../../firebase-crud.service';\n\n@Component({\n  selector: 'app-firebase-user-details',\n  templateUrl: './firebase-user-details.page.html',\n  styleUrls: [\n    './styles/firebase-user-details.page.scss',\n    './styles/firebase-user-details.shell.scss'\n  ],\n})\nexport class FirebaseUserDetailsPage implements OnInit {\n  user: FirebaseCombinedUserModel;\n  // Use Typescript intersection types to enable docorating the Array of firebase models with a shell model\n  // (ref: https://www.typescriptlang.org/docs/handbook/advanced-types.html#intersection-types)\n  relatedUsers: Array<FirebaseListingItemModel> & ShellModel;\n\n  @HostBinding('class.is-shell') get isShell() {\n    return ((this.user && this.user.isShell) || (this.relatedUsers && this.relatedUsers.isShell)) ? true : false;\n  }\n\n  constructor(\n    public firebaseCrudService: FirebaseCrudService,\n    public modalController: ModalController,\n    public router: Router,\n    private route: ActivatedRoute,\n    private routerOutlet: IonRouterOutlet\n  ) { }\n\n  ngOnInit() {\n    this.route.data.subscribe((resolvedRouteData) => {\n      const resolvedDataStores = resolvedRouteData['data'];\n      const combinedDataStore: DataStore<FirebaseCombinedUserModel> = resolvedDataStores.user;\n      const relatedUsersDataStore: DataStore<Array<FirebaseListingItemModel>> = resolvedDataStores.relatedUsers;\n\n      combinedDataStore.state.subscribe(\n        (state) => {\n          this.user = state;\n        }\n      );\n      relatedUsersDataStore.state.subscribe(\n        (state) => {\n          this.relatedUsers = state;\n        }\n      );\n    });\n  }\n\n  async openFirebaseUpdateModal() {\n    const modal = await this.modalController.create({\n      component: FirebaseUpdateUserModal,\n      componentProps: {\n        'user': this.user\n      },\n      swipeToClose: true,\n      presentingElement: this.routerOutlet.nativeEl\n    });\n\n    await modal.present();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { ComponentsModule } from '../../../components/components.module';\nimport { FirebaseUserDetailsPage } from './details/firebase-user-details.page';\nimport { FirebaseUserDetailsResolver } from './firebase-user-details.resolver';\nimport { FirebaseUpdateUserModal } from './update/firebase-update-user.modal';\nimport { FirebaseCrudService } from '../firebase-crud.service';\nimport { FirebaseCrudModule } from '../firebase-crud.module';\nimport { SelectUserImageModal } from './select-image/select-user-image.modal';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FirebaseUserDetailsPage,\n    resolve: {\n      data: FirebaseUserDetailsResolver\n    }\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    ComponentsModule,\n    FirebaseCrudModule\n  ],\n  declarations: [\n    FirebaseUserDetailsPage,\n    FirebaseUpdateUserModal\n  ],\n  entryComponents: [\n    FirebaseUpdateUserModal,\n    SelectUserImageModal\n  ],\n  providers: [\n    FirebaseCrudService,\n    FirebaseUserDetailsResolver\n  ]\n})\nexport class FirebaseUserDetailsPageModule {}\n","import { Injectable } from '@angular/core';\nimport { Resolve, ActivatedRouteSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\n\nimport { FirebaseCombinedUserModel } from './firebase-user.model';\nimport { FirebaseListingItemModel } from '../listing/firebase-listing.model';\n\nimport { DataStore } from '../../../shell/data-store';\nimport { FirebaseCrudService } from '../firebase-crud.service';\n\n@Injectable()\nexport class FirebaseUserDetailsResolver implements Resolve<any> {\n\n  constructor(private firebaseCrudService: FirebaseCrudService) {}\n\n  resolve(route: ActivatedRouteSnapshot) {\n    const userId = route.paramMap.get('id');\n\n    // We created a FirebaseCombinedUserModel to combine the userData with the details of the userSkills (from the skills collection).\n    // They are 2 different collections and we need to combine them into 1 dataSource.\n\n    const combinedUserDataSource: Observable<FirebaseCombinedUserModel> = this.firebaseCrudService\n    .getCombinedUserDataSource(userId);\n\n    const combinedUserDataStore: DataStore<FirebaseCombinedUserModel> = this.firebaseCrudService\n    .getCombinedUserStore(combinedUserDataSource);\n\n\n    // The user details page has a section with related users, showing users with the same skills\n    // For this we created another datastore which depends on the combinedUser data store\n    // The DataStore subscribes to the DataSource, to avoid creating two subscribers to the combinedUserDataSource,\n    // use the combinedUserDataStore timeline instead. (The timeline is a Subject, and is intended to have many subscribers)\n    // Using, and thus subscribing to the timeline won't trigger two requests to the firebase endpoint\n    const relatedUsersDataSource: Observable<Array<FirebaseListingItemModel>> = this.firebaseCrudService\n    .getRelatedUsersDataSource(combinedUserDataStore.state);\n\n    const relatedUsersDataStore: DataStore<Array<FirebaseListingItemModel>> = this.firebaseCrudService\n    .getRelatedUsersStore(relatedUsersDataSource);\n\n    return {user: combinedUserDataStore, relatedUsers: relatedUsersDataStore};\n  }\n}\n","<!-- This is the proper way if you have submit button outside your ion-content form (typically in the ion-header or ion-footer) -->\n<!-- (ref: https://github.com/ionic-team/ionic/issues/16661) -->\n<form class=\"update-user-form ion-page\" [formGroup]=\"updateUserForm\" (ngSubmit)=\"updateUser()\">\n  <ion-header>\n    <ion-toolbar color=\"primary\">\n      <ion-buttons slot=\"end\">\n        <ion-button (click)=\"dismissModal()\">\n          <ion-icon slot=\"icon-only\" name=\"close\"></ion-icon>\n        </ion-button>\n      </ion-buttons>\n      <ion-title>Update User</ion-title>\n    </ion-toolbar>\n  </ion-header>\n\n  <ion-content class=\"update-user-content\">\n    <ion-row class=\"select-user-image-row\">\n      <ion-col class=\"user-image-col\" size=\"5\">\n        <app-aspect-ratio [ratio]=\"{w: 1, h: 1}\">\n          <app-image-shell [display]=\"'cover'\" class=\"user-image\" animation=\"spinner\" [src]=\"selectedAvatar\" [alt]=\"'user image'\"></app-image-shell>\n        </app-aspect-ratio>\n        <ion-button class=\"change-image-btn\" color=\"secondary\" (click)=\"changeUserImage()\">\n          <ion-icon class=\"btn-icon\" slot=\"icon-only\" name=\"camera\"></ion-icon>\n        </ion-button>\n      </ion-col>\n    </ion-row>\n\n    <section class=\"user-details-fields fields-section\">\n      <ion-list class=\"inputs-list\" lines=\"full\">\n        <ion-item class=\"input-item\">\n          <ion-label color=\"secondary\" position=\"floating\">Name</ion-label>\n          <ion-input type=\"text\" formControlName=\"name\" required></ion-input>\n        </ion-item>\n        <ion-item class=\"input-item\">\n          <ion-label color=\"secondary\" position=\"floating\">Last name</ion-label>\n          <ion-input type=\"text\" formControlName=\"lastname\" required></ion-input>\n        </ion-item>\n        <ion-item class=\"input-item\">\n          <ion-label color=\"secondary\" position=\"floating\">Date of Birth</ion-label>\n          <ion-datetime display-format=\"DD/MM/YYYY\" picker-format=\"DD MMMM YYYY\" formControlName=\"birthdate\" required></ion-datetime>\n        </ion-item>\n        <ion-item class=\"input-item\">\n          <ion-label color=\"secondary\" position=\"floating\">Phone number</ion-label>\n          <ion-input type=\"tel\" formControlName=\"phone\" required></ion-input>\n        </ion-item>\n        <ion-item class=\"input-item\">\n          <ion-label color=\"secondary\" position=\"floating\">Email</ion-label>\n          <ion-input type=\"email\" formControlName=\"email\" required></ion-input>\n        </ion-item>\n      </ion-list>\n    </section>\n\n    <section class=\"user-experience-fields fields-section\">\n      <h5 class=\"section-header\">Experience in</h5>\n      <ion-row class=\"checkbox-tags rounded-checkbox-tags\">\n        <ion-item formArrayName=\"skills\" lines=\"none\" class=\"checkbox-tag rounded-tag\" *ngFor=\"let skill of skillsFormArray.controls; let i = index;\">\n          <ion-label class=\"tag-label\">{{skills[i].name}}</ion-label>\n          <ion-checkbox [formControlName]=\"i\"></ion-checkbox>\n        </ion-item>\n      </ion-row>\n    </section>\n\n    <section class=\"user-languages-fields fields-section\">\n      <h5 class=\"section-header\">Languages</h5>\n      <ion-row class=\"range-item-row\">\n        <ion-col size=\"12\">\n          <div class=\"range-header\">\n            <span class=\"range-label\">English</span>\n            <span class=\"range-value\">{{ changeLangValue(updateUserForm.controls.english.value) }}</span>\n          </div>\n        </ion-col>\n        <ion-col size=\"12\">\n          <ion-range class=\"range-control\" formControlName=\"english\" color=\"secondary\" min=\"1\" max=\"10\" step=\"1\"></ion-range>\n        </ion-col>\n      </ion-row>\n      <ion-row class=\"range-item-row\">\n        <ion-col size=\"12\">\n          <div class=\"range-header\">\n            <span class=\"range-label\">Spanish</span>\n            <span class=\"range-value\">{{ changeLangValue(updateUserForm.controls.spanish.value) }}</span>\n          </div>\n        </ion-col>\n        <ion-col size=\"12\">\n          <ion-range class=\"range-control\" formControlName=\"spanish\" color=\"secondary\" min=\"1\" max=\"10\" step=\"1\"></ion-range>\n        </ion-col>\n      </ion-row>\n      <ion-row class=\"range-item-row\">\n        <ion-col size=\"12\">\n          <div class=\"range-header\">\n            <span class=\"range-label\">French</span>\n            <span class=\"range-value\">{{ changeLangValue(updateUserForm.controls.french.value) }}</span>\n          </div>\n        </ion-col>\n        <ion-col size=\"12\">\n          <ion-range class=\"range-control\" formControlName=\"french\" color=\"secondary\" min=\"1\" max=\"10\" step=\"1\"></ion-range>\n        </ion-col>\n      </ion-row>\n    </section>\n  </ion-content>\n\n  <ion-footer>\n    <ion-row class=\"form-actions-wrapper\">\n      <ion-col>\n        <ion-button class=\"delete-btn\" expand=\"block\" color=\"primary\" fill=\"outline\" (click)=\"deleteUser()\">DELETE</ion-button>\n      </ion-col>\n      <ion-col>\n        <ion-button class=\"submit-btn\" expand=\"block\" color=\"secondary\" type=\"submit\" fill=\"solid\" [disabled]=\"!updateUserForm.valid\">UPDATE</ion-button>\n      </ion-col>\n    </ion-row>\n  </ion-footer>\n</form>\n","import { Component, OnInit, Input, NgZone } from '@angular/core';\nimport { ModalController, AlertController } from '@ionic/angular';\nimport { Validators, FormGroup, FormControl, FormArray } from '@angular/forms';\nimport { Router } from '@angular/router';\n\nimport * as dayjs from 'dayjs';\n\nimport { CheckboxCheckedValidator } from '../../../../validators/checkbox-checked.validator';\n\nimport { FirebaseUserModel } from '../firebase-user.model';\nimport { SelectUserImageModal } from '../select-image/select-user-image.modal';\nimport { FirebaseCrudService } from '../../firebase-crud.service';\n\n@Component({\n  selector: 'app-firebase-update-user',\n  templateUrl: './firebase-update-user.modal.html',\n  styleUrls: [\n    './styles/firebase-update-user.modal.scss',\n    './styles/firebase-update-user.shell.scss'\n  ],\n})\nexport class FirebaseUpdateUserModal implements OnInit {\n  // \"user\" is passed in firebase-details.page\n  @Input() user: FirebaseUserModel;\n\n  updateUserForm: FormGroup;\n  selectedAvatar: string;\n  skills = [];\n\n  constructor(\n    private modalController: ModalController,\n    public alertController: AlertController,\n    public firebaseCrudService: FirebaseCrudService,\n    public router: Router,\n    private ngZone: NgZone\n  ) { }\n\n  ngOnInit() {\n    this.selectedAvatar = this.user.avatar;\n\n    this.updateUserForm = new FormGroup({\n      name: new FormControl(this.user.name, Validators.required),\n      lastname: new FormControl(this.user.lastname, Validators.required),\n      email: new FormControl(this.user.email, Validators.compose([\n        Validators.required,\n        Validators.pattern('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$')\n      ])),\n      phone: new FormControl(this.user.phone, Validators.required),\n      birthdate: new FormControl(dayjs.unix(this.user.birthdate).format('DD/MMMM/YYYY'), Validators.required),\n      skills: new FormArray([], CheckboxCheckedValidator.minSelectedCheckboxes(1)),\n      spanish: new FormControl(this.user.languages.spanish),\n      english: new FormControl(this.user.languages.english),\n      french: new FormControl(this.user.languages.french)\n    });\n\n    this.firebaseCrudService.getSkills().subscribe(skills => {\n      this.skills = skills;\n      // create skill checkboxes\n      this.skills.map((skill) => {\n        let userSkillsIds = [];\n        if (this.user.skills) {\n          userSkillsIds = this.user.skills.map(function(skillId) {\n            return skillId['id'];\n          });\n        }\n        // set the control value to 'true' if the user already has this skill\n        const control = new FormControl(userSkillsIds.includes(skill.id));\n        (this.updateUserForm.controls.skills as FormArray).push(control);\n      });\n    });\n  }\n\n  get skillsFormArray() { return <FormArray>this.updateUserForm.get('skills'); }\n\n  changeLangValue(value): string {\n    switch (true) {\n      case (value <= 3 ):\n        return 'Novice';\n      case (value > 3 && value <= 6 ):\n        return 'Competent';\n      case (value > 6 ):\n        return 'Expert';\n    }\n  }\n\n  dismissModal() {\n   this.modalController.dismiss();\n  }\n\n  async deleteUser() {\n    const alert = await this.alertController.create({\n      header: 'Confirm',\n      message: 'Do you want to delete ' + this.user.name + '?',\n      buttons: [\n        {\n          text: 'No',\n          role: 'cancel',\n          handler: () => {}\n        },\n        {\n          text: 'Yes',\n          handler: () => {\n            this.firebaseCrudService.deleteUser(this.user.id)\n            .then(\n              () => {\n                this.dismissModal();\n                this.ngZone.run(() => this.router.navigate(['firebase/crud/listing'])).then();\n              },\n              err => console.log(err)\n            );\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n  updateUser() {\n    this.user.avatar = this.selectedAvatar;\n    this.user.name = this.updateUserForm.value.name;\n    this.user.lastname = this.updateUserForm.value.lastname;\n    this.user.birthdate = dayjs(this.updateUserForm.value.birthdate).unix(); // save it in timestamp\n    this.user.phone = this.updateUserForm.value.phone;\n    this.user.email = this.updateUserForm.value.email;\n    this.user.languages.spanish = this.updateUserForm.value.spanish;\n    this.user.languages.english = this.updateUserForm.value.english;\n    this.user.languages.french = this.updateUserForm.value.french;\n\n    // get the ids of the selected skills\n    const selectedSkills = [];\n\n    this.updateUserForm.value.skills\n    .map((value: any, index: number) => {\n      if (value) {\n        selectedSkills.push(this.skills[index].id);\n      }\n    });\n    this.user.skills = selectedSkills;\n\n    const {age, ...userData} = this.user; // we don't want to save the age in the DB because is something that changes over time\n\n    this.firebaseCrudService.updateUser(userData)\n    .then(\n      () => this.modalController.dismiss(),\n      err => console.log(err)\n    );\n  }\n\n  async changeUserImage() {\n    const modal = await this.modalController.create({\n      component: SelectUserImageModal,\n      swipeToClose: true,\n      presentingElement: await this.modalController.getTop()\n    });\n\n    modal.onDidDismiss().then(avatar => {\n      if (avatar.data != null) {\n        this.selectedAvatar = avatar.data.link;\n      }\n    });\n    await modal.present();\n  }\n}\n","import { ValidatorFn, FormArray } from '@angular/forms';\n\nexport class CheckboxCheckedValidator {\n\n  static minSelectedCheckboxes(min) {\n    const validator: ValidatorFn = (formArray: FormArray) => {\n      const totalSelected = formArray.controls\n        // get a list of checkbox values (boolean)\n        .map(control => control.value)\n        // total up the number of checked checkboxes\n        .reduce((prev, next) => next ? prev + next : prev, 0);\n\n      // if the total is not greater than the minimum, return the error message\n      return totalSelected >= min ? null : { required: true };\n    };\n\n    return validator;\n  }\n}\n"],"sourceRoot":"webpack:///"}