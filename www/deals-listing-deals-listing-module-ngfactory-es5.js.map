{"version":3,"sources":["webpack:///node_modules/dayjs/plugin/relativeTime.js","webpack:///src/app/deals/listing/deals-listing.module.ts","webpack:///src/app/deals/listing/deals-listing.page.html","webpack:///src/app/deals/listing/deals-listing.page.ts","webpack:///src/app/deals/listing/deals-listing.resolver.ts","webpack:///src/app/pipes/time-ago.pipe.ts"],"names":["r","t","module","exports","e","n","prototype","o","future","past","s","m","mm","h","hh","d","dd","M","MM","y","yy","en","relativeTime","i","u","a","f","$locale","l","thresholds","length","c","diff","rounding","Math","round","abs","p","replace","to","from","$u","utc","toNow","fromNow","routes","path","component","resolve","data","DealsListingPageModule","DealsListingPage","route","subscriptions","subscribe","resolvedRouteData","extractData","state","listing","error","unsubscribe","isShell","DealsListingResolver","dealsService","dataSource","getListingDataSource","dataStore","getListingStore","TimeAgoPipe","value","timeAgo","withoutSuffix"],"mappings":";;;;;;;;;;;;;;;;;AAAA,KAAC,UAASA,CAAT,EAAWC,CAAX,EAAa;AAAC,aAAqDC,MAAM,CAACC,OAAP,GAAeF,CAAC,EAArE,GAAwE,SAAxE;AAAwJ,KAAtK,CAAuK,IAAvK,EAA4K,YAAU;AAAC;;AAAa,aAAO,UAASD,CAAT,EAAWC,CAAX,EAAaG,CAAb,EAAe;AAACJ,SAAC,GAACA,CAAC,IAAE,EAAL;AAAQ,YAAIK,CAAC,GAACJ,CAAC,CAACK,SAAR;AAAA,YAAkBC,CAAC,GAAC;AAACC,gBAAM,EAAC,OAAR;AAAgBC,cAAI,EAAC,QAArB;AAA8BC,WAAC,EAAC,eAAhC;AAAgDC,WAAC,EAAC,UAAlD;AAA6DC,YAAE,EAAC,YAAhE;AAA6EC,WAAC,EAAC,SAA/E;AAAyFC,YAAE,EAAC,UAA5F;AAAuGC,WAAC,EAAC,OAAzG;AAAiHC,YAAE,EAAC,SAApH;AAA8HC,WAAC,EAAC,SAAhI;AAA0IC,YAAE,EAAC,WAA7I;AAAyJC,WAAC,EAAC,QAA3J;AAAoKC,YAAE,EAAC;AAAvK,SAApB;AAAuMhB,SAAC,CAACiB,EAAF,CAAKC,YAAL,GAAkBf,CAAlB;;AAAoB,YAAIQ,CAAC,GAAC,WAASd,CAAT,EAAWI,CAAX,EAAaU,EAAb,EAAeQ,CAAf,EAAiB;AAAC,eAAI,IAAIC,CAAJ,EAAMC,CAAN,EAAQf,CAAR,EAAUgB,CAAC,GAACX,EAAC,CAACY,OAAF,GAAYL,YAAZ,IAA0Bf,CAAtC,EAAwCqB,CAAC,GAAC5B,CAAC,CAAC6B,UAAF,IAAc,CAAC;AAACD,aAAC,EAAC,GAAH;AAAO5B,aAAC,EAAC,EAAT;AAAYe,aAAC,EAAC;AAAd,WAAD,EAAyB;AAACa,aAAC,EAAC,GAAH;AAAO5B,aAAC,EAAC;AAAT,WAAzB,EAAsC;AAAC4B,aAAC,EAAC,IAAH;AAAQ5B,aAAC,EAAC,EAAV;AAAae,aAAC,EAAC;AAAf,WAAtC,EAA+D;AAACa,aAAC,EAAC,GAAH;AAAO5B,aAAC,EAAC;AAAT,WAA/D,EAA4E;AAAC4B,aAAC,EAAC,IAAH;AAAQ5B,aAAC,EAAC,EAAV;AAAae,aAAC,EAAC;AAAf,WAA5E,EAAmG;AAACa,aAAC,EAAC,GAAH;AAAO5B,aAAC,EAAC;AAAT,WAAnG,EAAgH;AAAC4B,aAAC,EAAC,IAAH;AAAQ5B,aAAC,EAAC,EAAV;AAAae,aAAC,EAAC;AAAf,WAAhH,EAAsI;AAACa,aAAC,EAAC,GAAH;AAAO5B,aAAC,EAAC;AAAT,WAAtI,EAAmJ;AAAC4B,aAAC,EAAC,IAAH;AAAQ5B,aAAC,EAAC,EAAV;AAAae,aAAC,EAAC;AAAf,WAAnJ,EAA2K;AAACa,aAAC,EAAC,GAAH;AAAO5B,aAAC,EAAC;AAAT,WAA3K,EAAwL;AAAC4B,aAAC,EAAC,IAAH;AAAQb,aAAC,EAAC;AAAV,WAAxL,CAAxD,EAAmQF,CAAC,GAACe,CAAC,CAACE,MAAvQ,EAA8QnB,CAAC,GAAC,CAApR,EAAsRA,CAAC,GAACE,CAAxR,EAA0RF,CAAC,IAAE,CAA7R,EAA+R;AAAC,gBAAIoB,CAAC,GAACH,CAAC,CAACjB,CAAD,CAAP;AAAWoB,aAAC,CAAChB,CAAF,KAAMS,CAAC,GAACD,CAAC,GAACnB,CAAC,CAACH,CAAD,CAAD,CAAK+B,IAAL,CAAUjB,EAAV,EAAYgB,CAAC,CAAChB,CAAd,EAAgB,CAAC,CAAjB,CAAD,GAAqBA,EAAC,CAACiB,IAAF,CAAO/B,CAAP,EAAS8B,CAAC,CAAChB,CAAX,EAAa,CAAC,CAAd,CAA9B;AAAgD,gBAAII,CAAC,GAAC,CAACnB,CAAC,CAACiC,QAAF,IAAYC,IAAI,CAACC,KAAlB,EAAyBD,IAAI,CAACE,GAAL,CAASZ,CAAT,CAAzB,CAAN;;AAA4C,gBAAGd,CAAC,GAACc,CAAC,GAAC,CAAJ,EAAML,CAAC,IAAEY,CAAC,CAAC/B,CAAL,IAAQ,CAAC+B,CAAC,CAAC/B,CAApB,EAAsB;AAACmB,eAAC,IAAE,CAAH,IAAMR,CAAC,GAAC,CAAR,KAAYoB,CAAC,GAACH,CAAC,CAACjB,CAAC,GAAC,CAAH,CAAf;AAAsB,kBAAI0B,CAAC,GAACX,CAAC,CAACK,CAAC,CAACH,CAAH,CAAP;AAAaH,eAAC,GAAC,YAAU,OAAOY,CAAjB,GAAmBA,CAAC,CAACC,OAAF,CAAU,IAAV,EAAenB,CAAf,CAAnB,GAAqCkB,CAAC,CAAClB,CAAD,EAAGd,CAAH,EAAK0B,CAAC,CAACH,CAAP,EAASlB,CAAT,CAAxC;AAAoD;AAAM;AAAC;;AAAA,iBAAOL,CAAC,GAACoB,CAAD,GAAG,CAACf,CAAC,GAACgB,CAAC,CAAClB,MAAH,GAAUkB,CAAC,CAACjB,IAAd,EAAoB6B,OAApB,CAA4B,IAA5B,EAAiCb,CAAjC,CAAX;AAA+C,SAAnkB;;AAAokBpB,SAAC,CAACkC,EAAF,GAAK,UAASvC,CAAT,EAAWC,CAAX,EAAa;AAAC,iBAAOc,CAAC,CAACf,CAAD,EAAGC,CAAH,EAAK,IAAL,EAAU,CAAC,CAAX,CAAR;AAAsB,SAAzC,EAA0CI,CAAC,CAACmC,IAAF,GAAO,UAASxC,CAAT,EAAWC,CAAX,EAAa;AAAC,iBAAOc,CAAC,CAACf,CAAD,EAAGC,CAAH,EAAK,IAAL,CAAR;AAAmB,SAAlF;;AAAmF,YAAIsB,CAAC,GAAC,SAAFA,CAAE,CAASvB,CAAT,EAAW;AAAC,iBAAOA,CAAC,CAACyC,EAAF,GAAKrC,CAAC,CAACsC,GAAF,EAAL,GAAatC,CAAC,EAArB;AAAwB,SAA1C;;AAA2CC,SAAC,CAACsC,KAAF,GAAQ,UAAS3C,CAAT,EAAW;AAAC,iBAAO,KAAKuC,EAAL,CAAQhB,CAAC,CAAC,IAAD,CAAT,EAAgBvB,CAAhB,CAAP;AAA0B,SAA9C,EAA+CK,CAAC,CAACuC,OAAF,GAAU,UAAS5C,CAAT,EAAW;AAAC,iBAAO,KAAKwC,IAAL,CAAUjB,CAAC,CAAC,IAAD,CAAX,EAAkBvB,CAAlB,CAAP;AAA4B,SAAjG;AAAkG,OAA9hC;AAA+hC,KAAnuC,CAAD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACEA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;aAiBY,4E;AALZ,QAAM6C,MAAM,GAAW,CACrB;AACEC,UAAI,EAAE,EADR;AAEEC,eAAS,EAAE,oEAFb;AAGEC,aAAO,EAAE;AACPC,YAAI,EAAE;AADC;AAHX,KADqB,CAAvB;;QA2BaC,sB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;qECvBL,0V,GAAA,2T,GACE;AAAA;;AAAA;;;;;;;;;;;OAAA,E,oGAAA,E,wGAAA,C;;;;;gBAA8D,wD,EAA9D,0c,GACE,6I,IAAyB,+E,IACzB,oW,GAAA;AAAA;AAAA,c,GAA0C;AAFI;AAAf;;AAAjC,sBAAgD,SAAhD,EAAiC,SAAjC;;AAA8D,kEAAoD,OAApD,CAAoD,OAApD,CAAoD,SAApD,CAAoD,IAApD;;AAA9D,sBAA8D,SAA9D;;AAAA;;AAEuB;;AAArB,uBAAqB,SAArB;AAAyC,O,EAAA,I;AAAA;;;qEAG7C,yV,GAAA,2T,GACE,8I,IAA0B,iF,IAAO,I,EAAA,I;AAAA;;;qEA6BjC,yH,IACE,oJ,IACE,yW,GAAA;AAAA;AAAA,c,EAAgB,wD,GAAA;AAAA,qLAA2C,OAA3C,CAA2C,OAA3C,CAA2C,SAA3C,CAA2C,cAA3C;;AAAhB,sBAAgB,SAAhB;AAA2D,O,EAAA;AAA3D;;AAAA;AAA4D,O;AAAA;;;qEAGhE,yH,IACE,wV,GAAA,2T,GACE,kb,GAAA;AAAA;AAAA;AAAA,c,EAA0F;AAAA;AAAA;AAAA,Q,GAAsC;AAAlE,0BAA2B,OAA3B,CAA2B,OAA3B,CAA2B,SAA3B,CAA2B,cAA3B;;AAA4B;;AAA1F,sBAA8D,SAA9D,EAA0F,SAA1F;AAAgI,O,EAAA,I;AAAA;;;qEAlD1I,kJ,GAAA;AAAA;AAAA;AAAA,c,EAA6D,wD,EAAA,wD,EAAA,wD,EAAA,wD,EAAA,wD,EAAA,wD,EAAA,wD,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA,Q,GAC3D,gV,GAAA,4T,GACE,4V,GAAA;AAAA;AAAA,c,GACE,mX,GAAA;AAAA;AAAA,c,EAAkB;AAAA;AAAA;AAAA,Q,GAChB,gd,GAAA;AAAA;AAAA;AAAA,c,GAGJ,+G,GAAA;AAAA;AAAA,c,EAAS,yD,GAMT,+G,GAAA;AAAA;AAAA,c,EAAS,yD,GAIX,mV,GAAA,4T,GACE,8U,GAAA,4T,GACE,2I,IACE;AAAA;;AAAA;;;;;;;;;;;OAAA,E,IAAA,E,IAAA,C;;gBAAuB,yD,GACrB,mY,GAAA;AAAA;AAAA,c,GAGJ,iJ,IACE,mZ,GAAA;AAAA;AAAA,c,GAGJ,qU,GAAA;AAAA;AAAA,c,GACE,yZ,GAAA;AAAA;AAAA;AAAA;AAAA,c,GACE,sW,GAAA;AAAA;AAAA,c,GAIN,mV,GAAA,4T,GACE,iV,GAAA,4T,GACE,4I,IAAuB,wF,IACvB,6I,GAAA;AAAA;AAAA;AAAA,c,EAAwB,yD,EAAA;AAAA;AAAA,Q,GACtB,0W,GAAA;AAAA;AAAA,c,GAGJ,sW,GAAA;AAAA;AAAA;AAAA,c,EAA4C,yD,EAAA,yD,EAAA;AAAA;AAAA,Q,EAA5C;AAAA;AAAA,c,GACE,kJ,IAA6B,oF,GAAA,yD,GAC7B,+G,GAAA;AAAA;AAAA,c,EAAc,yD,EAAA,yD,GAKd,+G,GAAA;AAAA;AAAA,c,EAAc,yD,EAAA,yD,GAAyG;AAhDxH;;AAAwD;;AAA7D,sBAAK,SAAL,EAA6D,SAA7D;;AAE8B;;AAA1B,uBAA0B,SAA1B;;AACoB;;AAAlB,uBAAkB,SAAlB;;AACmB,0BAAiB,QAAjB,CAAiB,SAAjB,CAAiB,IAAjB;AAAkB;;AAAnC,uBAAiB,SAAjB,EAAmC,SAAnC;;AAGK;;AAAT,uBAAS,UAAT;;AAMS;;AAAT,uBAAS,UAAT;;AAOI;;AAAuB,oEAAoD,QAApD,CAAoD,SAApD,CAAoD,IAApD;;AAAvB,uBAAuB,UAAvB;;AACuC,2BAAkB,QAAlB,CAAkB,SAAlB,CAAkB,IAAlB;;AAArC,uBAAqC,UAArC;;AAI6C,2BAAyB,QAAzB,CAAyB,SAAzB,CAAyB,WAAzB;;AAA/C,uBAA+C,UAA/C;;AAGK;;AAAT,uBAAS,UAAT;;AACkE;AAA5B;AAAe;;AAAnD,uBAAgE,UAAhE,EAAoC,UAApC,EAAmD,UAAnD;;AAC6B;;AAA3B,uBAA2B,UAA3B;;AAOI;;AAAkB;;AAAxB,uBAAM,UAAN,EAAwB,UAAxB;;AACkB,2BAAkB,QAAlB,CAAkB,SAAlB,CAAkB,IAAlB;;AAAhB,uBAAgB,UAAhB;;AAGK;;AAAmC;;AAA5C,uBAAS,UAAT,EAA4C,UAA5C;;AAAmC;;AAAnC,uBAAmC,UAAnC;;AAEgB;;AAAd,uBAAc,UAAd;;AAKc;;AAAd,uBAAc,UAAd;AAAuH,O,EAAA;AA7CvH;;AAAA;;AACE;;AAAA;;AAAA;;AAAA;;AAgBA;;AAAA;;AAAA;;AACE;;AAAA;;AAIF;;AAAA;;AAaA;;AAAA;;AAI2B;;AAAA;AAAsF,O;AAAA;;;qEA3C3H,yH,IACE,kH,GAAA;AAAA;AAAA,c,GAA0d,4E,IAAA;AAAA;AAAhc,2BAAkC,QAAlC,CAAkC,KAAlC;;AAA1B,sBAA0B,SAA1B;AAA4D,O,EAAA,I;AAAA;;;+UAXhE,oU,GAAA,8T,GACE,uV,GAAA;AAAA;AAAA,c,GACE,oV,GAAA,+T,GACE;AAAA;;AAAA;;;;;;OAAA,E,wGAAA,E,4GAAA,C;;;;iBAEF,8T,GAAA,8T,GAAW,oF,IAIf,yW,GAAA,gU,GACE,+G,GAAA;AAAA;AAAA,c,GAAqC;AAAA;AATxB;;AAAb,sBAAa,SAAb;;AAEqB;;AAAjB,sBAAiB,SAAjB;;AAAiB;;AAAjB,uBAAiB,SAAjB;;AAOU,wDAAsB,QAAtB,CAAsB,KAAtB;;AAAd,uBAAc,SAAd;AAAoC,O,EAAA,I;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACTtC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAeaC,gB;AAUX,gCAAoBC,KAApB,EAA2C;AAAA;;AAAvB,aAAAA,KAAA,GAAAA,KAAA;AAA0B;;;;mCAEtC;AAAA;;AACN;AACA,eAAKC,aAAL,GAAqB,KAAKD,KAAL,CAAWH,IAAX,CACpBK,SADoB,CAEnB,UAACC,iBAAD,EAA8D;AAC5D;AACA,iBAAI,CAACF,aAAL,GAAqB,sEAAeG,WAAf,CAA8CD,iBAAiB,CAACN,IAAhE,EAAsE,sEAAtE,EACpBK,SADoB,CAEnB,UAACG,KAAD,EAAW;AACT,mBAAI,CAACC,OAAL,GAAeD,KAAf;AACD,aAJkB,EAKnB,UAACE,KAAD,EAAW,CAAE,CALM,CAArB;AAOD,WAXkB,EAYnB,UAACA,KAAD,EAAW,CAAE,CAZM,CAArB;AAcD,S,CAED;AACA;;;;2CACgB;AACd,eAAKN,aAAL,CAAmBO,WAAnB;AACD;;;4BA5B4C;AAC3C,iBAAQ,KAAKF,OAAL,IAAgB,KAAKA,OAAL,CAAaG,OAA9B,GAAyC,IAAzC,GAAgD,KAAvD;AACD;;;;;;;;;;;;;;;;;;;;;ACnBH;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAIaC,oB;AAEX,oCAAoBC,YAApB,EAAgD;AAAA;;AAA5B,aAAAA,YAAA,GAAAA,YAAA;AAA8B;;;;kCAE3C;AACL,cAAMC,UAAU,GAAkC,KAAKD,YAAL,CAAkBE,oBAAlB,EAAlD;AACA,cAAMC,SAAS,GAAiC,KAAKH,YAAL,CAAkBI,eAAlB,CAAkCH,UAAlC,CAAhD;AAEA,iBAAOE,SAAP;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChBH;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;;QAIaE,W;;;;;;;kCACDC,K,EAAU;AAClB,uDAAa,sDAAb;AACA,cAAIC,OAAO,GAAG,EAAd;;AAEA,cAAID,KAAJ,EAAW;AACT,gBAAME,aAAa,GAAI,kCAAK,CAACF,KAAD,CAAL,CAAarC,IAAb,CAAkB,kCAAK,EAAvB,EAA2B,KAA3B,IAAoC,CAArC,GAA0C,KAA1C,GAAkD,IAAxE;AACAsC,mBAAO,GAAG,kCAAK,GAAG/B,EAAR,CAAW,kCAAK,CAAC8B,KAAD,CAAhB,EAAyBE,aAAzB,CAAV;AACD;;AAED,iBAAOD,OAAP;AACD","file":"deals-listing-deals-listing-module-ngfactory-es5.js","sourcesContent":["!function(r,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):r.dayjs_plugin_relativeTime=t()}(this,function(){\"use strict\";return function(r,t,e){r=r||{};var n=t.prototype,o={future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"};e.en.relativeTime=o;var d=function(t,n,d,i){for(var u,a,s,f=d.$locale().relativeTime||o,l=r.thresholds||[{l:\"s\",r:44,d:\"second\"},{l:\"m\",r:89},{l:\"mm\",r:44,d:\"minute\"},{l:\"h\",r:89},{l:\"hh\",r:21,d:\"hour\"},{l:\"d\",r:35},{l:\"dd\",r:25,d:\"day\"},{l:\"M\",r:45},{l:\"MM\",r:10,d:\"month\"},{l:\"y\",r:17},{l:\"yy\",d:\"year\"}],h=l.length,m=0;m<h;m+=1){var c=l[m];c.d&&(u=i?e(t).diff(d,c.d,!0):d.diff(t,c.d,!0));var y=(r.rounding||Math.round)(Math.abs(u));if(s=u>0,y<=c.r||!c.r){y<=1&&m>0&&(c=l[m-1]);var p=f[c.l];a=\"string\"==typeof p?p.replace(\"%d\",y):p(y,n,c.l,s);break}}return n?a:(s?f.future:f.past).replace(\"%s\",a)};n.to=function(r,t){return d(r,t,this,!0)},n.from=function(r,t){return d(r,t,this)};var i=function(r){return r.$u?e.utc():e()};n.toNow=function(r){return this.to(i(this),r)},n.fromNow=function(r){return this.from(i(this),r)}}});\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Routes, RouterModule } from '@angular/router';\nimport { HttpClientModule } from '@angular/common/http';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ComponentsModule } from '../../components/components.module';\nimport { PipesModule } from '../../pipes/pipes.module';\n\nimport { DealsService } from '../deals.service';\nimport { DealsListingPage } from './deals-listing.page';\nimport { DealsListingResolver } from './deals-listing.resolver';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DealsListingPage,\n    resolve: {\n      data: DealsListingResolver\n    }\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    ComponentsModule,\n    PipesModule,\n    HttpClientModule\n  ],\n  declarations: [\n    DealsListingPage\n  ],\n  providers: [\n    DealsListingResolver,\n    DealsService\n  ]\n})\nexport class DealsListingPageModule {}\n","<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-back-button defaultHref=\"app/categories\"></ion-back-button>\n    </ion-buttons>\n    <ion-title>Deals Listing</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"deals-listing-content\">\n  <ng-container *ngIf=\"listing?.items\">\n    <div class=\"listing-item\" *ngFor=\"let item of listing.items\" [ngClass]=\"{'ended': ((item.expirationDate | appTimeDifference) < 0), 'imminent-end': ((item.expirationDate | appTimeDifference) > 0 && (item.expirationDate | appTimeDifference) <= 2), 'ends-soon': ((item.expirationDate | appTimeDifference) > 0 && (item.expirationDate | appTimeDifference) > 2 && (item.expirationDate | appTimeDifference) < 10), 'distant-end': ((item.expirationDate | appTimeDifference) >= 10)}\">\n      <ion-row class=\"top-row\">\n        <ion-col class=\"logo-col\" size=\"6\">\n          <app-aspect-ratio [ratio]=\"{w: 128, h: 32}\">\n            <app-image-shell [src]=\"item.logo\" [alt]=\"'deals logo'\" class=\"deal-logo\" animation=\"spinner\"></app-image-shell>\n          </app-aspect-ratio>\n        </ion-col>\n        <ion-col *ngIf=\"((item.expirationDate | appTimeDifference) > 0)\" class=\"call-to-action-col\">\n          <ion-button class=\"claim-button\" expand=\"block\" color=\"claim\" [routerLink]=\"['/app/categories/deals/', item.slug]\">\n            <span class=\"button-cta\">CLAIM</span>\n            <ion-icon slot=\"end\" name=\"arrow-forward\"></ion-icon>\n          </ion-button>\n        </ion-col>\n        <ion-col *ngIf=\"((item.expirationDate | appTimeDifference) < 0)\" class=\"call-to-action-col\">\n          <span class=\"expired-cta\">EXPIRED</span>\n        </ion-col>\n      </ion-row>\n      <ion-row class=\"middle-row\">\n        <ion-col class=\"info-col\">\n          <h4 class=\"item-name\">\n            <a class=\"name-anchor\" [routerLink]=\"['/app/categories/deals/', item.slug]\">\n              <app-text-shell animation=\"bouncing\" [data]=\"item.name\"></app-text-shell>\n            </a>\n          </h4>\n          <p class=\"item-description\">\n            <app-text-shell animation=\"bouncing\" lines=\"3\" [data]=\"item.description\"></app-text-shell>\n          </p>\n        </ion-col>\n        <ion-col size=\"2\">\n          <ion-button class=\"bookmark-button\" expand=\"block\" fill=\"clear\" color=\"claim\">\n            <ion-icon slot=\"icon-only\" name=\"pricetag\"></ion-icon>\n          </ion-button>\n        </ion-col>\n      </ion-row>\n      <ion-row class=\"bottom-row\">\n        <ion-col class=\"code-wrapper\">\n          <span class=\"code-cta\">Use this code:</span>\n          <span class=\"item-code\" [ngClass]=\"{'expired': ((item.expirationDate | appTimeDifference) < 0)}\">\n            <app-text-shell [data]=\"item.code\"></app-text-shell>\n          </span>\n        </ion-col>\n        <ion-col class=\"time-left-wrapper\" size=\"5\" [ngClass]=\"{'countdown-active': ((item.expirationDate | appTimeDifference) > 0 && (item.expirationDate | appTimeDifference) <= 2)}\">\n          <span class=\"expiration-cta\">DEAL {{ ((item.expirationDate | appTimeDifference) < 0) ? 'EXPIRED' : 'EXPIRES IN' }}:</span>\n          <ng-container *ngIf=\"((item.expirationDate | appTimeDifference) < 0 || (item.expirationDate | appTimeDifference) > 2)\">\n            <span class=\"item-time-left\">\n              <app-text-shell [data]=\"(item.expirationDate | appTimeAgo)\"></app-text-shell>\n            </span>\n          </ng-container>\n          <ng-container *ngIf=\"((item.expirationDate | appTimeDifference) > 0 && (item.expirationDate | appTimeDifference) <= 2)\">\n            <ion-row class=\"countdown-wrapper\">\n              <app-countdown-timer class=\"item-countdown\" fill=\"inner-time\" [end]=\"item.expirationDate\" [units]=\"{from: 'hour', to: 'second'}\"></app-countdown-timer>\n            </ion-row>\n          </ng-container>\n        </ion-col>\n      </ion-row>\n    </div>\n  </ng-container>\n</ion-content>\n","import { Component, OnInit, HostBinding } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\nimport { IResolvedRouteData, ResolverHelper } from '../../utils/resolver-helper';\nimport { DealsListingModel } from './deals-listing.model';\n\n@Component({\n  selector: 'app-deals-listing',\n  templateUrl: './deals-listing.page.html',\n  styleUrls: [\n    './styles/deals-listing.page.scss',\n    './styles/deals-listing.shell.scss',\n    './styles/deals-listing.ios.scss'\n  ]\n})\nexport class DealsListingPage implements OnInit {\n  // Gather all component subscription in one place. Can be one Subscription or multiple (chained using the Subscription.add() method)\n  subscriptions: Subscription;\n\n  listing: DealsListingModel;\n\n  @HostBinding('class.is-shell') get isShell() {\n    return (this.listing && this.listing.isShell) ? true : false;\n  }\n\n  constructor(private route: ActivatedRoute) { }\n\n  ngOnInit(): void {\n    // On init, the route subscription is the active subscription\n    this.subscriptions = this.route.data\n    .subscribe(\n      (resolvedRouteData: IResolvedRouteData<DealsListingModel>) => {\n        // Route subscription resolved, now the active subscription is the Observable extracted from the resolved route data\n        this.subscriptions = ResolverHelper.extractData<DealsListingModel>(resolvedRouteData.data, DealsListingModel)\n        .subscribe(\n          (state) => {\n            this.listing = state;\n          },\n          (error) => {}\n        );\n      },\n      (error) => {}\n    );\n  }\n\n  // NOTE: Ionic only calls ngOnDestroy if the page was popped (ex: when navigating back)\n  // Since ngOnDestroy might not fire when you navigate from the current page, use ionViewWillLeave to cleanup Subscriptions\n  ionViewWillLeave(): void {\n    this.subscriptions.unsubscribe();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Resolve } from '@angular/router';\nimport { Observable } from 'rxjs';\n\nimport { DataStore } from '../../shell/data-store';\nimport { DealsService } from '../deals.service';\nimport { DealsListingModel } from './deals-listing.model';\n\n@Injectable()\nexport class DealsListingResolver implements Resolve<DataStore<DealsListingModel>> {\n\n  constructor(private dealsService: DealsService) {}\n\n  resolve(): DataStore<DealsListingModel> {\n    const dataSource: Observable<DealsListingModel> = this.dealsService.getListingDataSource();\n    const dataStore: DataStore<DealsListingModel> = this.dealsService.getListingStore(dataSource);\n\n    return dataStore;\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\nimport * as dayjs from 'dayjs';\nimport * as relativeTime from 'dayjs/plugin/relativeTime';\n\n@Pipe({ name: 'appTimeAgo' })\nexport class TimeAgoPipe implements PipeTransform {\n  transform(value: any): string {\n    dayjs.extend(relativeTime);\n    let timeAgo = '';\n\n    if (value) {\n      const withoutSuffix = (dayjs(value).diff(dayjs(), 'day') < 0) ? false : true;\n      timeAgo = dayjs().to(dayjs(value), withoutSuffix);\n    }\n\n    return timeAgo;\n  }\n}\n"]}